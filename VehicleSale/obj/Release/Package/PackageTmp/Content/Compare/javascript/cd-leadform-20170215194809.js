var leadTypeForSkipLeadForm="";var popularOemNames="Maruti,Hyundai,Honda,Toyota,Mahindra,Tata,Ford,Chevrolet,Renault,Volkswagen,Nissan,Datsun";var floodLightTracking=new Object();floodLightTracking.oemNameTracking="";floodLightTracking.modelNameTracking="";floodLightTracking.varinatNameTracking="";var is_popupbuyerdays_Hidden_Dueto_LeadID_44=false;var exchangeLeadEntry=1;var financeEntry=1;var blockOpen=1;var flagExchange=1;var additionalFields="";var usedCarOwnerType="";var flagOnRoad=true;var coregSubmitted=0;var GORPPageName="";var GORPButtonId="";var flagDiscount=true;var autoOpenPopup;var browser_version=$.gsp_detect.browser().version;var browser_type=navigator.appName;var combolength;var popupStatus=0;var isDealerCallbackPopOpen="false";var gtmTrackingArray=new Array();var subCityExperimentCities=["North Delhi","South Delhi","West Delhi","Central Delhi","East Delhi"];var subCityExperimentModels=["Hyundai"];var emailId="";var isMultiDealer=false;var pageLocation;var usedCarId="";var trackingOtpVerified="0";var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d);}return a;},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h);}if(d!=64){a=a+String.fromCharCode(f);}}a=Base64._utf8_decode(a);return a;},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d);}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128);}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128);}}}return a;},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++;}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2;}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3;}}}return b;}};function setGORPTracking(b,a){$("#locationNumber").val(b);GORPButtonId=b;GORPPageName=a;}function trackingForGORPForm(a,f,d,b,k,c,g,i,h,j,l){leadTypeForSkipLeadForm=a;setleadLocation(j);getPopUpCodeByAjaxCall(a,f,d,b,k,c);openleadPopup(a,g,i,f,d,b,k,h);try{if(((!$.gsp_detect.isIE())||($.gsp_detect.isIE()&&$.gsp_detect.browser().version>8))){createGAClickEventTrackingAdWords("enquiry",""+action+"","enquiry-onroadprice-"+buttonId+"-new-"+pagename+"");}else{createGAClickEventTrackingAdWords(""+l+"","Primary Call to Action","Get on Road Price Button");}}catch(e){}}function setleadLocation(a,d){var b="VariantPage.PricePopup_GetOffersFromDealer_PriceTable,ModelPage.OverviewTab_GetOffersFromDealers_CrossSell,VariantPage.PricePopup_GetOffersFromDealer_PriceTable_CrossSell";failureLeadLocation=a;pageLocation=a;var c="";if(typeof d!="undefined"){c=isCarLeadCapture(d);}if(typeof d=="undefined"){c=isCarLeadCapture(leadTypeForSkipLeadForm);}if(c&&(b.indexOf(a)==-1)){pageLocation=a+"_Skip";}if(isHondaSponsored!=""&&isHondaSponsored=="dealerSelected"){pageLocation=a+"_Sponsored";}}function getOemArray(l,b,j){if(l.length>0){for(var d=l.length;d>0;d--){l.remove(d);}}var m=popularOemNames.split(",");for(var c=0;c<m.length;c++){getDropDownValue(l,m[c],m[c]);}getDropDownValue(l,"","-All Brands-");for(var d=0;d<oemArray.length;d++){var a=oemArray[d].OemName;switch(b){case"current":var k=oemArray[d].CM;if(k.length>0){getDropDownValue(l,a,a);}break;case"current-upcoming":var h=oemArray[d].CM;var g=oemArray[d].UM;if(h.length>0||g.length>0){getDropDownValue(l,a,a);}break;case"expire":var f=oemArray[d].CM;var e=oemArray[d].EM;if(f.length>0||e.length>0){getDropDownValue(l,a,a);}break;case"all":getDropDownValue(l,a,a);break;}}if(j!=""){$(l).find('option[value="'+j+'"]').attr("selected","selected");if(document.getElementById("selectedBrand")!=null){$("#selectedBrand").html(j);}}$(l).find('option[value=""]').attr("disabled","disabled");}function getModelNamesForPopUp(e,d,c){var b=e[e.selectedIndex].text;var a=d;fillModelDropDown(b,a,c);}function setValuesInCookie(e,c,a,f,g){var d=e+"~"+c+"~"+a+"~"+f+"~"+g;var b=Base64.encode(d);cityForGTMTracking=f;emailIdForGTMTracking=c;set_Cookie("LeadData",b,30,"/","","");setLeadDatatoConnecto(e,c,a,f,g);createCONNECTOIDInCookies();}function setLeadDatatoConnecto(d,b,a,g,h){try{var c=_connecto.getIdentity();_connecto.identify(c,{"name":d,"email":b,"phone":a,"city":g,"pincode":h,"connecto_id":c});}catch(f){}}function isCarLeadCapture(b){var a=isLeadCapture;if((b==44||b==48||b==19)&&(a==undefined||a=="")){a=getCookie("isLeadCapture");}else{if(b==80){a=isLeadCaptureOffer;if(a==undefined||a==""){a=isOfferLeadVerfied;}}}if(b!=44&&b!=48&&b!=19&&b!=80){a=false;}else{if(b==80&&a!="true"){a=false;}}return a;}function getPopUpCodeByAjaxCall(a,i,g,d,q,f,k){if(f==""&&(k==undefined||k=="")){callGTMLayerEvent("Click");}failureLeadId=a;failureCity=i;failureCarModel=g;failureCarVariantId=d;failureOem=q;failureUsedCarId=f;var j;var b="";try{if(typeof GAEventTrackingCategoryValue!="undefined"){b=GAEventTrackingCategoryValue;}}catch(o){console.log("error ocure while getting GA tracking page name: "+o);}fillHashTagByLeadType(a);if(a==70){if(sessioncity!=""){i=sessioncity;}j=$.ajax({type:"POST",url:basepath+"/cdDealerLeadFormPopUp.do",async:false,data:"parameter=getPopUpCodeByAjaxCall&leadId="+a+"&city="+i+"&carName="+g+"&carvariantId="+d+"&usedCarId="+f}).responseText;}else{if(a==3){j=$.ajax({type:"POST",url:basepath+"/getCheckUsedCarValuationByAjaxCall.do",async:false,data:"parameter=getPopUpCodeByAjaxCall&leadId="+a+"&city="+i+"&carName="+g+"&carvariantId="+d+"&usedCarId="+f}).responseText;}else{if(a<0){if(sessioncity!=""){i=sessioncity;}j=$.ajax({type:"POST",url:basepath+"/cdLeadFormPopUp.do",async:false,data:"parameter=getPopUpCodeByAjaxCall&newcitypopup=newcitypopup&leadId="+a+"&city="+i+"&carName="+g+"&carvariantId="+d+"&usedCarId="+f+"&GAEventTrackingCategoryValue="+b}).responseText;}else{if(sessioncity!=""){i=sessioncity;}if(a==19&&((!$.gsp_detect.isIE())||($.gsp_detect.isIE()&&$.gsp_detect.browser().version>8))){createGAClickEventTrackingAdWords("enquiry","clicked","enquiry-onroadprice-"+GORPButtonId+"-new-"+GORPPageName+"");}j=$.ajax({type:"POST",url:basepath+"/cdLeadFormPopUp.do",async:false,data:"parameter=getPopUpCodeByAjaxCall&leadId="+a+"&city="+i+"&carName="+g+"&carvariantId="+d+"&usedCarId="+f+"&GAEventTrackingCategoryValue="+b}).responseText;if(((!$.gsp_detect.isIE())||($.gsp_detect.isIE()&&$.gsp_detect.browser().version>8))){createGAClickEventTrackingAdWords("enquiry","show","enquiry-onroadprice-"+GORPButtonId+"-new-"+GORPPageName+"");}}}}try{verifyLeadPopupDCB(q,g,i,"pinCode",a);if(f==""&&pageLocation.indexOf("Skip")==-1&&isGtmDCBblockDisplay==true){if(a==19&&q=="Hyundai"){callGTMLayerEvent("CityPopUpOpen","true","","yes");}else{callGTMLayerEvent("Open","true");}}else{if(f==""&&pageLocation.indexOf("Skip")==-1){if(a==19&&q=="Hyundai"){callGTMLayerEvent("CityPopUpOpen","","","yes");}else{callGTMLayerEvent("Open");}}else{callGTMLayerEvent("NotOpen");callGTMLayerEvent("NotOpenLead");}}}catch(n){}$("#newpopUpText").html(j);popupStatus=0;if(document.forms["submitLeadPopup"]!=null&&document.forms["submitLeadPopup"]!=undefined){var p=document.forms["submitLeadPopup"].exchangeLeadYear;var c=new Date();var m=c.getFullYear();if(p!=null&&p!="undefined"){for(var l=m;l>1950;l--){var h=document.createElement("option");h.value=l;h.text=l;p.options.add(h);}}$=jQuery.noConflict();$("#submitLeadPopup #carMake").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","carMake","selectedBrand","selectedModel","yes");getModelNamesleads(this,a);},0);});$("#submitLeadPopup #modelMake").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","modelMake","selectedModel","selectedModel","yes");fillValueforlead(this);getFuelTypeleadsForPopup();},0);});$("#submitLeadPopup #fuelType").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","fuelType","selectedFuel","","yes");},0);});$("#submitLeadPopup #xdrpbuyday").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","xdrpbuyday","buyingTime","","yes");},0);});$("#submitLeadPopup #cityName").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","cityName","selectedCity","","yes");},0);});$("#submitLeadPopup #exchangeCarMake").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","exchangeCarMake","exchangeBrand","exchangeModel","yes");getModelNamesByType("exchangeCarMake","exchangeModelMake","expire");},0);});$("#submitLeadPopup #exchangeModelMake").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","exchangeModelMake","exchangeModel","","yes");},0);});$("#submitLeadPopup #exchangeLeadYear").bind("keydown change",function(){setTimeout(function(){setSelectValueInDiv("submitLeadPopup","exchangeLeadYear","exchnageYear","","yes");},0);});jQuery(document).keypress(function(s){if(s.keyCode==27&&popupStatus==1){$("#promotionlead").html("");var r=$("#submitLeadPopup [name=carMake]").val();if(combolength<$("#submitLeadPopup [name=carMake] option").length){$("#submitLeadPopup [name=carMake] option[value="+r+"]").remove();}disablePopup("backgroundPopup","popupContact");visibilityForIE("visible");}});}}function disablePopup(b,a){if(popupStatus==1){$("#"+b).fadeOut("fast");$("#"+a).fadeOut("fast");popupStatus=0;isDealerCallbackPopOpen="false";$("#showOfferUserInfoForGORPBG").hide();$("#graybgForReview").hide();}}function getModelNamesByType(e,d,c){var b=document.getElementById(e)[document.getElementById(e).selectedIndex].text;var a=document.getElementById(d);fillModelDropDown(b,a,c);$("#"+d).next("span.holder").text($("#"+d+" option:first").text());}function selectDropDownValue(b,a){if(a!=""){$(b).find("option").filter(function(){return $(this).val()==a;}).attr("selected","selected");}}function handleDuplicateCityCase(d){if($("#"+d+"  #cityName").val()==null||$("#"+d+"  #cityName").val()==undefined){var a=$("#"+d+"  #cityName_flexselect").val();var b=$("#cityName option:contains("+a+")").val();if(b!=undefined&&b!=""){$("#"+d+"  #cityName").val(b);var c=$("#"+d+"  #cityName").val();}}}function fillModelDropDown(o,g,k){if(g.length>0){for(var f=g.length;f>=0;f--){g.remove(f);}}for(var f=0;f<oemArray.length;f++){if(o==oemArray[f].OemName){var e=0;var m=oemArray[f].CM;if(m.length>0){e=1;var n=document.createElement("option");n.value="";n.text="-Select Model-";n.selected=true;n.disabled=true;g.options.add(n);for(modelIndex=0;modelIndex<m.length;modelIndex++){var d=jQuery.trim(o);var a=jQuery.trim(m[modelIndex].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,m[modelIndex].MN,a);}}if(k=="upcoming"||k=="all"){var l=oemArray[f].UM;if(l.length>0){var b=document.createElement("option");b.value="";if(l.length>1){b.text="-Upcoming Models-";}else{b.text="-Upcoming Model-";}if(e==0){b.selected=true;}b.disabled=true;g.options.add(b);for(modelIndex=0;modelIndex<l.length;modelIndex++){var d=jQuery.trim(o);var a=jQuery.trim(l[modelIndex].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,l[modelIndex].MN,a);}}}if(k=="longupcoming"){var h=oemArray[f].UM;if(h.length>0){var b=document.createElement("option");b.value="";if(h.length>1){b.text="-Upcoming Models-";}else{b.text="-Upcoming Model-";}if(e==0){b.selected=true;}b.disabled=true;g.options.add(b);for(modelIndex=0;modelIndex<h.length;modelIndex++){var d=jQuery.trim(o);var a=jQuery.trim(h[modelIndex].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,h[modelIndex].MN,a);}}var c=oemArray[f].LUM;if(c.length>0){var b=document.createElement("option");b.value="";if(c.length>1){b.text="-Long Upcoming Models-";}else{b.text="-Long Upcoming Model-";}if(e==0){b.selected=true;}b.disabled=true;g.options.add(b);for(modelIndex=0;modelIndex<c.length;modelIndex++){var d=jQuery.trim(o);var a=jQuery.trim(c[modelIndex].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,c[modelIndex].MN,a);}}}if(k=="expire"||k=="all"){var j=oemArray[f].EM;if(m.length==0){var n=document.createElement("option");n.value="";n.text="-Select Model-";n.selected=true;n.disabled=true;g.options.add(n);}for(modelIndex3=0;modelIndex3<j.length;modelIndex3++){var d=jQuery.trim(o);var a=jQuery.trim(j[modelIndex3].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,j[modelIndex3].MN,a);}if(k=="expire"){var i=oemArray[f].UM;for(modelIndex=0;modelIndex<i.length;modelIndex++){if(i[modelIndex].EV.length>0){var d=jQuery.trim(o);var a=jQuery.trim(i[modelIndex].MDN.replace(d,""));if(a.indexOf("Suzuki")>=0){a=jQuery.trim(a.replace("Suzuki",""));}getDropDownValue(g,i[modelIndex].MN,a);}}}}break;}}if(o=="-Select Brand-"){var n=document.createElement("option");n.value="";n.text="-Select Model-";n.selected=true;n.disabled=true;g.options.add(n);}g.disabled=false;if(g.length==1){g.disabled=true;}}function getFuelTypeleadsForPopup(){try{if(document.forms["submitLeadPopup"].leadId.value!=19){var c=document.forms["submitLeadPopup"].carMake[document.forms["submitLeadPopup"].carMake.selectedIndex].value;var d=document.forms["submitLeadPopup"].modelMake[document.forms["submitLeadPopup"].modelMake.selectedIndex].value;var h=document.forms["submitLeadPopup"].fuelType;if(h.length>0){for(var b=h.length;b>=0;b--){h.remove(b);}}for(var b=0;b<oemArray.length;b++){if(c==oemArray[b].OemName){var g=oemArray[b].CM;for(modelIndex=0;modelIndex<g.length;modelIndex++){if(d==g[modelIndex].MN){var f=g[modelIndex].FT;if(f.length>=1){var a=document.createElement("option");a.value="";a.text="-Fuel-";a.selected=true;a.disabled=true;h.options.add(a);for(fuelndex=0;fuelndex<f.length;fuelndex++){getDropDownValue(h,f[fuelndex],f[fuelndex]);}if($("#leadId").val()!=42){$("#submitLeadPopup #fuleTypeDiv").show();}if($("#submitLeadPopup #leadId").val()==42){$("#submitLeadPopup #fuleTypeDiv").hide();}if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#submitLeadPopup #FuelTypeDisplay").addClass("PopupDropBox");}if(f.length==1){$("#submitLeadPopup #fuelType").attr("disabled","disabled");$("#submitLeadPopup #FuelTypeDisplay #selectedFuel").html(""+f+"");$("#submitLeadPopup #FuelTypeDisplay").css({"border":"1px solid #ACACAC"});$("#submitLeadPopup #FuelTypeDisplay label").css({"color":"#2D2D2D"});$("#submitLeadPopup #FuelTypeDisplay a label").css("border-right","none");$("#submitLeadPopup #FuelTypeDisplay a span").css("display","none");selectDropDownValue(document.forms["submitLeadPopup"].fuelType,f);}else{$("#submitLeadPopup #fuelType").removeAttr("disabled");$("#submitLeadPopup #FuelTypeDisplay #selectedFuel").html("-Fuel-");$("#submitLeadPopup #FuelTypeDisplay").css({"border":"1px solid #D0D0D0"});$("#submitLeadPopup #FuelTypeDisplay label").css({"color":"#9C9C9C"});$("#submitLeadPopup #FuelTypeDisplay a label").css("border-right","1px solid #D4D4D4");$("#submitLeadPopup #FuelTypeDisplay a span").removeAttr("style");}}break;}}}}}}catch(i){}}function GTMLayerTracker(a){switch(a.gtmEvent){case"Click":gtmEventClickValue="leadbuttonclick";break;case"Open":gtmEventClickValue="leadformopen";break;case"Submit":gtmEventClickValue="leadformsubmit";break;case"AlreadyVerified":gtmEventClickValue="leadformalreadyverified";break;case"Verified":gtmEventClickValue="leadformverified";break;case"Error":gtmEventClickValue="leadformerrors";break;case"Filled":gtmEventClickValue="leadformfilled";break;case"FirstSubmit":gtmEventClickValue="leadformfirstsubmit";break;case"OtpOpen":gtmEventClickValue="otpformopen";break;case"DealerOpen":gtmEventClickValue="dealerformopen";break;case"DealerSubmit":gtmEventClickValue="dealerformsubmit";break;case"NotOpen":gtmEventClickValue="formnotshown";break;case"NotOpenLead":gtmEventClickValue="leadsubmitformnotshown";break;case"CityPopUpOpen":gtmEventClickValue="citypopupopen";break;case"CityPopUpSubmit":gtmEventClickValue="citypopupsubmit";break;default:break;}if(autoOpenPopup!=undefined&&autoOpenPopup!=""){gtmEventClickValue=gtmEventClickValue+autoOpenPopup;}if(a.gtmDbcOffer!=undefined&&a.gtmDbcOffer!=""){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"dcb_offer":a.gtmDbcOffer,});}else{if(a.gtmDbcOffer!=undefined){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"fieldname":a.gtmfieldname,});}else{if(a.gtmcity!=undefined&&a.gtmcity!=""){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"citypopup":a.gtmcity,});}else{dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,});}}}}function fillValueforlead(){$("#submitLeadPopup [name=carNamehidden]").val($("#submitLeadPopup [name=modelMake]").val());$("#submitLeadPopup [name=oemNamehidden]").val($("#submitLeadPopup [name=carMake]").val());}function callGTMLayerEvent(d,b,e,c){var a=new Object();a.gtmEvent=d;a.gtmDbcOffer=b;a.gtmLocation=pageLocation;a.gtmfieldname=e;a.gtmcity=c;GTMLayerTracker(a);}function getModelNamesleads(a,f){var c=document.forms["submitLeadPopup"].carMake[document.forms["submitLeadPopup"].carMake.selectedIndex].value;var g=document.forms["submitLeadPopup"].modelMake;if(g.length>0){for(var b=g.length;b>0;b--){g.remove(b);}}if(a==null||a==""){a=$("#submitLeadPopup [name=carNamehidden]").val();}if(c!=""){if(f==44){getModelNamesForPopUp(document.forms["submitLeadPopup"].carMake,document.forms["submitLeadPopup"].modelMake,"longupcoming");}else{if(f==19||f==42){getModelNamesForPopUp(document.forms["submitLeadPopup"].carMake,document.forms["submitLeadPopup"].modelMake,"current");}else{getModelNamesForPopUp(document.forms["submitLeadPopup"].carMake,document.forms["submitLeadPopup"].modelMake,"upcoming");}}selectDropDownValue(document.forms["submitLeadPopup"].modelMake,a);try{$("#submitLeadPopup [name=modelMake]").val(a);}catch(d){}$("#selectedBrand").html(document.forms["submitLeadPopup"].carMake[document.forms["submitLeadPopup"].carMake.selectedIndex].text);if(document.forms["submitLeadPopup"].modelMake[document.forms["submitLeadPopup"].modelMake.selectedIndex]!=undefined&&document.forms["submitLeadPopup"].modelMake[document.forms["submitLeadPopup"].modelMake.selectedIndex]!="undefined"){$("#selectedModel").html(document.forms["submitLeadPopup"].modelMake[document.forms["submitLeadPopup"].modelMake.selectedIndex].text);}$("#submitLeadPopup #brandError").css({"border":"1px solid #ACACAC"});$("#submitLeadPopup #brandError label").css({"color":"#2D2D2D"});$("#submitLeadPopup #modelError").css({"border":"1px solid #ACACAC"});$("#submitLeadPopup #modelError label").css({"color":"#2D2D2D"});if(f!=null&&$("#submitLeadPopup [name=modelMake]").val()==""&&(f=="19"||f=="48")){$("#new-cars").show();$("#fuleTypeDiv").show();if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#FuelTypeDisplay").addClass("PopupDropBox");$("#brandError").addClass("PopupDropBox");$("#modelError").addClass("PopupDropBox");$("#brandError a").addClass("PopupSelectDisplay");$("#modelError a").addClass("PopupSelectDisplay");$("#FuelTypeDisplay a").addClass("PopupSelectDisplay");$("#brandError a span").addClass("sprite-mainNew");$("#modelError a span").addClass("sprite-mainNew");$("#FuelTypeDisplay a span").addClass("sprite-mainNew");}$("#submitLeadPopup [name=carVariantIdhidden]").val("");$("#VarintTextForVariantPage").html("");$("#VarintTextForVariantPage").css({"display":"none"});$("#modelNameText").css({"display":"block"});}if($("#submitLeadPopup [name=carVariantIdhidden]").val()!=null&&$("#submitLeadPopup [name=carVariantIdhidden]").val()!=""){$("#new-cars").hide();if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#FuelTypeDisplay").removeClass("PopupDropBox");$("#brandError").removeClass("PopupDropBox");$("#modelError").removeClass("PopupDropBox");$("#brandError").removeAttr("style");$("#modelError").removeAttr("style");$("#brandError label").removeAttr("style");$("#modelError label").removeAttr("style");$("#FuelTypeDisplay").removeAttr("style");$("#FuelTypeDisplay label").removeAttr("style");$("#brandError a").removeClass("PopupSelectDisplay");$("#modelError a").removeClass("PopupSelectDisplay");$("#FuelTypeDisplay a").removeClass("PopupSelectDisplay");$("#brandError a span").removeClass("sprite-mainNew");$("#modelError a span").removeClass("sprite-mainNew");$("#FuelTypeDisplay a span").removeClass("sprite-mainNew");}$("#fuleTypeDiv").hide();if($("#submitLeadPopup [name=carVariantDisplayIdhidden]").val()!=null&&$("#submitLeadPopup [name=carVariantDisplayIdhidden]").val()!="undefined"&&$("#submitLeadPopup [name=carVariantDisplayIdhidden]").val()!=""){$("#VarintTextForVariantPage").html($("#submitLeadPopup [name=carVariantDisplayIdhidden]").val());}else{$("#VarintTextForVariantPage").html($("#submitLeadPopup [name=carVariantIdhidden]").val());}if(f=="80"){$("#VarintTextForVariantPage").html($("#submitLeadPopup [name=carVariantDisplayIdhidden]").val()+" in "+discountcity);}$("#VarintTextForVariantPage").css({"display":"block"});$("#modelNameText").css({"display":"none"});}}if(g.selectedIndex!=0&&f!=19){getFuelTypeleads();}if(g.length==1){$("#submitLeadPopup [name=carNamehidden]").val("");$("#submitLeadPopup [name=oemNamehidden]").val("");}}var isLeadMobileVerify=true;var isOfferLeadVerfied="false";function openleadPopup(b,E,v,x,y,k,q,w,a){x=updateCityByCarLeadCity(x);var r=$("#isORPSkipCityName").val();var o=$("#orpSkipOemName").val();var h=$("#orpSkipModelName").val();r=r.replace("]",",]");if((o!=""&&o.toLowerCase()==q.toLowerCase()||(h!=""&&h.toLowerCase()==y.toLowerCase()))&&(r.toLowerCase().indexOf(x.toLowerCase()+",")>-1||r.toLowerCase().indexOf("all,")>-1)){if(typeof x==="undefined"||x.length<2){$("#panIndiaForm #PIleadId").val(b);$("#panIndiaForm #PIcarmodelname").val(y);$("#panIndiaForm #PIcarvariantId").val(k);$("#panIndiaForm #PIoemname").val(q);$(".graybg").removeClass("disnone");try{$("#showOfferUserInfoForGORPBG").show();}catch(D){}getPopUpCity("panIndiaForm","cityName",x,"");$(".telluscity .selectclose").click(function(H){$("#panIndiaCityPopUP").addClass("DispNone");$(".graybg").addClass("disnone");$(".graybg").removeAttr("style");});$("#panIndiaCityPopUP").removeClass("DispNone");popupStatus=1;return;}if(k==""){var m=basepath+"/"+modelUrlsFromName(y,"MODEL_PRICE",x);var A=[];A.push("carModelName");A.push("cityName");A.push("oemName");var d=[];d.push(y);d.push(x);d.push("");multipleDataPostRedirect(m,A,d);}else{$(".graybg").removeClass("disnone");var m=basepath+"/showExShowRoomPrice.do";var F="carModelName="+replaceWithHash(y)+"&cityName="+replaceWithHash(x)+"&carVariantId="+k;getVariantOnRoadPrice(m,F);}return false;}floodLightTracking.oemNameTracking=q;floodLightTracking.modelNameTracking=y;floodLightTracking.varinatNameTracking=k;var C=x;var t=convertFirstLetterCapital(x);b=Math.abs(b);window["openleadPopuparguments"]=arguments;failureLeadId=b;failureLeadType=E;failurePrice=v;failureCity=x;failureCarModel=y;failureCarVariantId=k;failureOem=q;failureMaxCarPrice=w;failureAdditionParameter=a;popUpOpen=1;failureLeadId=b;tempLeadId=b;tempLeadType=E;$("#newsSection li").addClass("popupzindexseven");$("#next").addClass("popupzindexseven");$("#prev").addClass("popupzindexseven");$("#carDekhoLogoImageForPopup").show();$(".responseForHide").html("for");$(".graybg").hide();$("#graybgForReview").hide();var c;var g;c=["progressMsgx"];g=["popupheaderUsedCar","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderTest","SaveOnMobile-butt","popupheaderOnRoad","myforms","popupContactClosebutt","popupheaderDealerDetail","popupheaderUpcomingCar","touchWithFordExpert","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];showhidePopupElement(c,g);if(is_popupbuyerdays_Hidden_Dueto_LeadID_44){is_popupbuyerdays_Hidden_Dueto_LeadID_44=false;$("#popupbuyerdays").show();}if(b=="1"){$("#testDriveHeading").html("of");leadPopupGAEvent="Get Discount";createGAClickEventTrackingAdWords("Lead Popup","Get Discount","Get Discount Link Click");c=["popupheaderDiscount","discount-butt","myforms","fuleTypeDiv","modelNameText","new-carsfinancetest","modelDiv","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderTest","new-cars","popupheaderOnRoad","SaveOnMobile-butt","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="2"){$("#discountHeading").html("on");leadPopupGAEvent="Test Drive";createGAClickEventTrackingAdWords("Lead Popup","Test Drive","Take a Test Drive Link Click");c=["popupheaderTest","test-butt","myforms","fuleTypeDiv","modelNameText","new-carsfinancetest","modelDiv","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderDiscount","popupheaderOnRoad","new-cars","SaveOnMobile-butt","discount-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="19"){$("#onRoadHeading").html("of");leadPopupGAEvent="Get On-road Price";createGAClickEventTrackingAdWords("Lead Popup","Get On-road Price","Get On-road Price Link Click");if(typeof istoskipleadpopup!=="undefined"&&istoskipleadpopup===true&&getCookie((x+y).replace(" ","").toLowerCase()).length<1){if(typeof x==="undefined"||x.length<2){openChangeCityPopUp(-b,x,y,k,q,usedCarId);return;}else{noLeadPopupHandler(x,y,k);return;}}else{deleteCookie((x+y).replace(" ","").toLowerCase());getPopUpCity("submitLeadPopup","cityName",x,"selectedCity");c=["popupheaderOnRoad","searchpin","CarBuyingEssentials","contactinfo","onroad-butt","myforms","fuleTypeDiv","modelNameText","new-carsfinancetest","popupContactClosebutt","modelDiv","exchangecars","dealerCallbackHolder","PermotionsAndExchangeWraper"];g=["progressMsgx","popupheaderDiscount","popupheaderTest","new-cars","SaveOnMobile-butt","discount-butt","test-butt","priceShowx","popupheaderx","responces","usedcar-butt","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}}else{if(b=="3"){is_popupbuyerdays_Hidden_Dueto_LeadID_44=true;leadPopupGAEvent="Get Seller Details";createGAClickEventTrackingAdWords("Lead Popup","Get Seller Details","Contact Seller Link Click");c=["popupheaderUsedCars","popupheaderUsedCar","myforms","usedcar-butt","used-cars","popupContactClosebutt"];g=["progressMsgx","popupheaderOnRoad","onroad-butt","popupheaderDiscount","SaveOnMobile-butt","popupheaderTest","discount-butt","test-butt","priceShowx","popupheaderx","responces","new-cars","fuleTypeDiv","new-carsfinancetest","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","exchangecars","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupbuyerdays","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}}}}if(b=="42"){leadPopupGAEvent="Get Dealer Details";createGAClickEventTrackingAdWords("Lead Popup","Get Dealer Details","Send Details on Sms Link Click");document.getElementById("carMake").disabled=true;c=["popupheaderDealerDetail","dealerdetail-butt","myforms","new-cars","new-carsfinancetest","modelDiv","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderTest","popupheaderOnRoad","SaveOnMobile-butt","fuleTypeDiv","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","discount-butt","popupheaderDiscount","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="44"){leadPopupGAEvent="Alert Me When Launched";createGAClickEventTrackingAdWords("Lead Popup","Alert Me When Launched","Alert Me When Launched Link Click");c=["popupheaderUpcomingCar","upcomingcar-butt","myforms","modelNameText","new-carsfinancetest","popupContactClosebutt","exchangecars"];if(document.getElementById("popupbuyerdays")!=null&&is_popupbuyerdays_Hidden_Dueto_LeadID_44==false&&($("#popupbuyerdays").attr("style")==null||$("#popupbuyerdays").attr("style").indexOf("display: none")==-1)){is_popupbuyerdays_Hidden_Dueto_LeadID_44=true;$("#dealerCallBackDiv").hide();$("#dealerCallbackHolder").hide();g=["progressMsgx","popupheaderTest","popupheaderOnRoad","SaveOnMobile-butt","new-cars","fuleTypeDiv","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","discount-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","modelDiv","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupbuyerdays","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{$("#dealerCallBackDiv").hide();$("#dealerCallbackHolder").hide();g=["progressMsgx","popupheaderTest","popupheaderOnRoad","SaveOnMobile-butt","new-cars","fuleTypeDiv","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","discount-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","modelDiv","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}}else{if(b=="47"){leadPopupGAEvent="Get in Touch with Ford Expert";createGAClickEventTrackingAdWords("Lead Popup","Get in Touch with Ford Expert","Get in Touch with Ford Expert Link Click");c=["touchWithFordExpert","getintouchwithfordexpert-butt","myforms","new-cars","fuleTypeDiv","new-carsfinancetest","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderTest","popupheaderOnRoad","SaveOnMobile-butt","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","popupheaderDiscount","discount-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="48"){leadPopupGAEvent="Download Brochures";createGAClickEventTrackingAdWords("Lead Popup","Download Brochures","Download Brochure Link Click");c=["brochuresdetails","brochuresdetails-butt","myforms","modelNameText","fuleTypeDiv","new-carsfinancetest","popupContactClosebutt","modelDiv"];g=["progressMsgx","popupheaderDiscount","popupheaderTest","new-cars","SaveOnMobile-butt","discount-butt","onroad-butt","test-butt","priceShowx","popupheaderx","responces","usedcar-butt","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","exchangecars","getintouchwithfordexpert-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="51"){leadPopupGAEvent="Discount Offer";createGAClickEventTrackingAdWords("Lead Popup","Discount Offer","Get This Deal Now Link Click");c=["popupheaderDsicountOffer","discountoffer-butt","myforms","new-cars","fuleTypeDiv","new-carsfinancetest","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderDiscount","popupheaderTest","SaveOnMobile-butt","discount-butt","test-butt","priceShowx","popupheaderx","responces","usedcar-butt","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","onroad-butt","brochuresdetails","brochuresdetails-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="20"){leadPopupGAEvent="Get Seller Details";createGAClickEventTrackingAdWords("Lead Popup","Get Finance Details","Lead Page Link Click");c=["popupheaderFinance","finance-butt","myforms","new-cars","fuleTypeDiv","modelDiv","popupContactClosebutt","exchangecars"];g=["progressMsgx","popupheaderTest","popupheaderOnRoad","SaveOnMobile-butt","test-butt","onroad-butt","priceShowx","popupheaderx","usedcar-butt","responces","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderDiscount","popupheaderSaveOnMobile","discount-butt","new-carsfinancetest","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="64"){leadPopupGAEvent="Get Details Saved On Mobile";createGAClickEventTrackingAdWords("Lead Popup","Get Details Saved On Mobile","Save On Mobile Link Click");c=["popupheaderUsedCars","popupheaderSaveOnMobile","myforms","SaveOnMobile-butt","used-cars","popupContactClosebutt"];g=["progressMsgx","popupheaderOnRoad","onroad-butt","popupheaderDiscount","popupheaderTest","discount-butt","test-butt","priceShowx","popupheaderx","responces","new-cars","fuleTypeDiv","new-carsfinancetest","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","exchangecars","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderUsedCar","finance-butt","usedcar-butt","PermotionsAndExchangeWraper","ExchangeWraperOnly","popupheaderDelaeCallback","dealerCallback-butt","discount-offer-butt"];}else{if(b=="70"&&a=="ShowDealerCallbackPopUP"){try{leadPopupGAEvent="Dealer Call Back";createGAClickEventTrackingAdWords("Lead Popup","Dealer Call Back","Dealer Call Back Link Click");var p=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=isDealerCallbackSMSVerification&typeofSMS:dealercallbackSMS"}).responseText;if(p!=null&&(p=="dealercallbacksmsverification"||p=="dealercallbacksmsverificationMobileVericiationLimitExceed")){window["mobileVerificationCallbackDataArray"]=new Array();window["mobileVerificationCallbackFunction"]="getDealerCallbackDealerList";var i=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&lid="}).responseText;callGTMLayerEvent("OtpOpen");$("#modelNameTextContainer").html("Please Verify Your Mobile Number<p class='Blackb6 Text15 White PaddingT5'><span class='Text12 Blackb6'></span> </p>");$("#submitResponsejquery").css("color","white");$("#submitResponsejquery").addClass("Textcenter");$("#responces").addClass("Width100Percent dealerwhite");$("#submitResponsejquery").empty().append(i);$("#userMobileNoForVerification").before("<br/>");$("#submitResponsejquery a").css("color","#d3ae00");}else{if(p=="dealerdeatil"){var f=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackDealerDetailListHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&pinCode="+userPincode}).responseText;addCarDekhoGoogleConversionScript(f);$("#modelNameTextContainer").html("Choose Dealers To Get a Call From<p class='Blackb6 Text12 PaddingT10 dealerpoptitle'>Please choose a dealer you would like to get a call back from.</p>");fbqTracking("popUpDivContainer","NewCarLead-Verified");$("#submitResponsejquery").html(f);}}}catch(B){console.log("Open Dealer Call Back pop up Error occure  : "+B);}c=["dealerCallback-butt","popupContactClosebutt","submitResponsejquery","responces"];g=["progressMsgx","popupheaderOnRoad","onroad-butt","popupheaderDiscount","popupheaderTest","discount-butt","test-butt","priceShowx","popupheaderx","fuleTypeDiv","new-carsfinancetest","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","exchangecars","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderUsedCar","finance-butt","usedcar-butt","PermotionsAndExchangeWraper","ExchangeWraperOnly","popupheaderSaveOnMobile","SaveOnMobile-butt","myforms","discount-offer-butt"];}else{if(b=="70"){leadPopupGAEvent="Dealer Call Back";createGAClickEventTrackingAdWords("Lead Popup","Dealer Call Back","Dealer Call Back Link Click");c=["myforms","dealerCallback-butt","popupContactClosebutt"];g=["progressMsgx","popupheaderOnRoad","new-cars","onroad-butt","popupheaderDiscount","popupheaderTest","discount-butt","test-butt","priceShowx","popupheaderx","responces","fuleTypeDiv","new-carsfinancetest","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","exchangecars","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderUsedCar","finance-butt","usedcar-butt","PermotionsAndExchangeWraper","ExchangeWraperOnly","popupheaderSaveOnMobile","SaveOnMobile-butt","discount-offer-butt"];}else{if(b=="80"){$("#discountOfferHeading").html("of");leadPopupGAEvent="Car Discount Offers";createGAClickEventTrackingAdWords("Lead Popup","Get On-road Price","Get On-road Price Link Click");c=["popupheaderDiscountOffer","discount-offer-butt","myforms","fuleTypeDiv","modelNameText","new-carsfinancetest","popupContactClosebutt","modelDiv","exchangecars"];g=["progressMsgx","popupheaderDiscount","popupheaderTest","new-cars","SaveOnMobile-butt","discount-butt","test-butt","priceShowx","popupheaderx","responces","usedcar-butt","popupheaderUsedCars","popupheaderUsedCar","used-cars","dealerdetail-butt","popupheaderDealerDetail","popupheaderUpcomingCar","upcomingcar-butt","touchWithFordExpert","getintouchwithfordexpert-butt","brochuresdetails-butt","popupheaderDsicountOffer","discountoffer-butt","popupheaderFinance","popupheaderSaveOnMobile","finance-butt","popupheaderDelaeCallback","dealerCallback-butt","onroad-butt","popupheaderOnRoad"];}}}}}}}}}}if(k!=null&&k!=""&&(b=="1"||b=="2")){$("#modelDiv").hide();}if(k==null){k="";}if(v==null||v==""){v=0;}if(w==null||w==""){w=0;}if(y==null){y="";}if(k!=null){$("#submitLeadPopup [name=carVariantIdhidden]").val(k);}if(b==48){if(k!=null&&k!=""){var G=k.replace(q,"");document.getElementById("brochuresdetails").innerHTML='<h1>Download Brochure</h1><span class="Text18 For InlineBlock Italic responseForHide paddingt3">for</span>';}else{var s=y.replace(q,"");document.getElementById("brochuresdetails").innerHTML='<h1>Download Brochure</h1><span class="Text18 For InlineBlock Italic responseForHide paddingt3">for</span>';}}else{if(document.getElementById("brochuresdetails")!=null){document.getElementById("brochuresdetails").innerHTML="";}}if(E=="contactseller"){$("#contactsellerDiv").removeClass("DispNone");$("#contactsellerDiv").addClass("Block");}else{$("#contactsellerDiv").removeClass("Block");$("#contactsellerDiv").addClass("DispNone");}showhidePopupElement(c,g);hidePinCodeForTieUpOem(b,$("#oemNamehidden").val(),"submitLeadPopup","pinCode");if(exchangeLeadEntry==2){$("#exchangecars").css("display","none");}if(financeEntry==2){$("#financeblock").css("display","none");}if(b=="3"||b=="64"||b=="76"){combolength=$("#submitLeadPopup [name=carMake] option").length;if($("#submitLeadPopup [name=carMake]").text().indexOf(q)==-1){var n=$("#submitLeadPopup [name=carMake]").attr("options");if(n!=undefined&&n!=null){n[n.length]=new Option(q,q);}}$("#submitLeadPopup [name=carMake]").val(q);var n=$("#submitLeadPopup [name=modelMake]").attr("options");if(n!=undefined&&n!=null){n[n.length]=new Option(y,y);}$("#submitLeadPopup [name=modelMake]").val(y);$("option","#submitLeadPopup [name=cityName]").remove();var j=$("#submitLeadPopup [name=cityName]").attr("options");if(j!=undefined&&j!=null){j[j.length]=new Option("-Select City-","");}var l=$("#submitLeadPopup [name=cityName]").attr("options");if(l!=undefined&&l!=null){l[l.length]=new Option(x,x);}$("#submitLeadPopup [name=cityName]").val(x);if(document.getElementById("selectedCity")!=null){$("#selectedCity").html(x);$("#submitLeadPopup #cityError").css({"border":"1px solid #ACACAC"});$("#submitLeadPopup #cityError label").css({"color":"#2D2D2D"});}if($("#submitLeadPopup [name=carVariantIdhidden]").val()!=null&&$("#submitLeadPopup [name=carVariantIdhidden]").val()!=""){$("#VarintTextForVariantPage").html($("#submitLeadPopup [name=carVariantIdhidden]").val());$("#modelNameText").css({"display":"none"});}else{$("#VarintTextForVariantPage").html("");$("#modelNameText").css({"display":"block"});}promotionAjax(v,y,x,"usedcar","promotionlead",w,"submitLeadPopup");}else{fillOemleads(y,q,b);if(b=="19"){$("#carNamehidden").val(y);}$("#submitLeadPopup [name=modelMake]").find("option").filter(function(){return this.value==y;}).prop("selected",true);if(b=="80"){sessioncity=discountcity.toLowerCase();}getPopUpCity("submitLeadPopup","cityName",x,"selectedCity");promotionAjax(v,y,x,"newcars","promotionlead",w,"submitLeadPopup");}settlePopupElements();checkPopupFields("submitLeadPopup","submitButtom");isLeadMobileVerify=true;modelNameForGTMTracking=y;cityForGTMTracking=x;leadTypeForGTMTracking=b;emailIdForGTMTracking=emailId;var u=$("#submitLeadPopup [name=emailId]").val();if(checkPopupFields("submitLeadPopup","submitButtom")&&isCarLeadCapture(b)!=undefined&&isCarLeadCapture(b)=="true"&&(b==19||b==44||b==48||b==80)){try{var z=$("#oemNamehidden").val();if(q==undefined||q==""){q=z;}}catch(D){}if(b==19||b==80||b==48){if(!isVerifiedMobileNumberForSkipLeadFormCase(emailId,y,b,x)){isLeadMobileVerify=false;isOfferLeadVerfied="false";if(u!=undefined&&u.indexOf("cdwebusers")!=-1){$("#submitLeadPopup [name=emailId]").val("Email");}centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");}else{showLeadResult(b,q,y,x,k);}}else{showLeadResult(b,q,y,x,k);}}else{isLeadMobileVerify=false;if(u!=undefined&&u.indexOf("cdwebusers")!=-1){$("#submitLeadPopup [name=emailId]").val("Email");}centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");}if(b==19||b==80||b==1||b==48){fillCityByPincode();if(null!=t&&t!=undefined&&t!=""){$("#submitLeadPopup [name=cityName]").val(t);$("#cityName_flexselect").val(t);}var z=$("#oemNamehidden").val();if(q==undefined||q==""){q=z;}if(y==undefined||y==""){y=$("#oemNamehidden").val();}getDealerCallbackListByCity("submitLeadPopup","cityName",q,y,"dealerSelectGORPForm",t,"pinCode","false");try{$("#submitLeadPopup #optiondealercallbackYes").parent("div").removeClass("Incorrect");}catch(D){}}}function showLeadResult(d,b,g,f,a){if(d==19){try{window["mobileVerificationCallbackDataArray"]=new Array(d);window["mobileVerificationCallbackFunction"]="verifiedMobileCallbackOthers";}catch(c){}leadSubmittedCallback();focusOutFromPopup(d,"onroad","submitLeadPopup","Get On Road Price Submit Lead");if(a!=undefined&&a!=""){createGAClickEventTrackingAdWords("Car Variant Overview Page Section","Lead Form","Get On Road Price Submit Lead");}else{createGAClickEventTrackingAdWords("New Car - Review Tab","Lead Form","Get On Road Price Submit Lead");}}else{if(d==44){leadSubmittedCallback();focusOutFromPopup(d,"upcomingcarleads","submitLeadPopup","Alert Me When Launched Submit Lead");createGAClickEventTrackingAdWords("New Car - Review Tab","Lead Form","Alert Me When Launched Submit Lead");}else{if(d==70){leadSubmittedCallback();focusOutFromDealerPopup(d,"dealercallback","submitLeadPopup","Get a FREE Call Back Submit Lead");}else{if(d==48){leadSubmittedCallback();focusOutFromPopup(d,"brochures","submitLeadPopup","Download Brochure Submit Lead");createGAClickEventTrackingAdWords("New Car - Specs Tab","Lead Form","Download Brochure Submit Lead");}else{if(d==80){leadSubmittedCallback();try{window["mobileVerificationCallbackDataArray"]=new Array(d);window["mobileVerificationCallbackFunction"]="verifiedMobileCallbackOthers";}catch(c){}focusOutFromPopup(d,"discount-offer","submitLeadPopup","Discount Offer Submit Lead");createGAClickEventTrackingAdWords("Discount Offers - Landing Page","Lead Form","Discount Offer Submit Lead");}}}}}}function isVerifiedMobileNumberForSkipLeadFormCase(b,e,a,d){var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=isVerifiedMobileNumberForSkipLeadFormCase&carModelName="+e+"&LeadType="+a+"&City="+d+"&EmailId="+b}).responseText;if(c=="mobileVerified"){return true;}return false;}var oemNameArray="Tata,Ford,Renault,Nissan,Datsun,";var pincodeArray="Pin Code,Pin Code / Area,";function getDealerCallbackListByCity(formId,cityNameId,oemName,carModelName,dealerCallBackNameId,selectCityName,pinCodeId,isDealerPopUp){if($("#leadId").val()!=44){if($("#leadId").val()!=80){var cityName=$("#"+formId+" #"+cityNameId+"").val();}var pinCode="";if(cityName==null||cityName==undefined||cityName==""){cityName=selectCityName;}if(isDealerPopUp!=undefined&&isDealerPopUp=="false"){pinCode=$("#"+formId+" #"+pinCodeId+"").val();}if(pinCode==""||pinCode=="Pin Code / Area"||pincodeArray.indexOf(pinCode)!=-1||pinCode.length!=6||oemNameArray.indexOf(oemName+",")!=-1||(jQuery.inArray(oemName,subCityExperimentModels)!==-1&&jQuery.inArray(cityName,subCityExperimentCities)!==-1)){pinCode="";}if(formId=="submitLeadPopup"){cityName=$("#"+formId+" #"+cityNameId+"_flexselect").val();}var dealerCallBackSelect=document.getElementById(dealerCallBackNameId);if($("#dealerLoader").length>0){$("#dealerLoader").show();}resetDealerDropDown(formId,dealerCallBackNameId,oemName,cityName);var cityarray=$("#firstautocity").val();var actualCityName=cityarray.split(",");if(isMultiDealer||cityByPinCode==""){$("#PermotionsAndExchangeWraper").css({"display":"none"});$("#PopUPpromotionlead").css({"display":"none"});}$.ajax({type:"POST",url:basepath+"/contactDealerPopup.do",async:false,data:"parameter=getDealerCallbackListByCity&pinCode="+pinCode+"&oemName="+oemName+"&carModelName="+carModelName+"&City="+cityName,success:function(data){if(data!=undefined&&data!=""&&data!="ERROR"){var data1=eval(data);if(data1.length>0){$.each(data1,function(i,item){cityByPinCode=item.cityByPincode;if(item.multipleDealerByModelNameMap){isMultiDealer=true;}else{isMultiDealer=false;}});}else{isMultiDealer=false;}if(data1.length>0&&data1[0].mismatchPincode&&formId!="submitLeadPopup"){$("#"+formId+" #pinCodeGORPForm").val("Pin Code / Area");var dropDownObject=document.forms[formId].dealerSelectGORPForm;if(dropDownObject!=undefined&&dropDownObject.length>1){for(var index=dropDownObject.length;index>=0;index--){dropDownObject.remove(index);}}$("#dealerCallbackHolder").css({"display":"none"});$("#dealerDropDownWrapper").css({"display":"none"});$("#normalSelect").hide();$("#multiSelect").hide();try{$("#dealerCallBackDiv").hide();}catch(e){}}else{if(isMultiDealer){getMultipleDealerSelection(formId,data1,oemName,cityName,isMultiDealer);if(formId=="submitLeadPopup"){$("#dealerCallBackDiv").removeAttr("class");$("#dealerCallBackError").removeAttr("class");$("#dealerCallBackError").removeAttr("style");}$("#normalSelect").hide();$("#multiSelect").show();}else{if(data1.length>0&&(pinCode!=""||(jQuery.inArray(oemName,subCityExperimentModels)!==-1&&jQuery.inArray(cityName,subCityExperimentCities)!==-1))){var dropDownObject=document.forms[formId].dealerSelectGORPForm;if(dropDownObject!=undefined&&dropDownObject.length>1){for(var index=dropDownObject.length;index>=0;index--){dropDownObject.remove(index);}}$.each(data1,function(i,item){getDropDownValueForDealerCallBack(formId,document.forms[formId].dealerSelectGORPForm,item,isMultiDealer,oemName,cityName);});showDealerCallBack(formId,"dealerCallBackDiv",dealerCallBackNameId,oemName,cityName);$("#dealerCallbackHolder").removeAttr("style");$("div.dealercallbackheading").removeAttr("style");$("#dealerDropDownWrapper").css({"display":"block"});$("#normalSelect").show();$("#multiSelect").hide();if(data1.length==1){$("#"+dealerCallBackNameId+" option:eq(1)").attr("selected","selected");if(formId=="submitLeadPopup"){$("#dealerSelectForm").html(document.getElementById(dealerCallBackNameId)[document.getElementById(dealerCallBackNameId).selectedIndex].text);}else{$("#"+dealerCallBackNameId).next().html(document.getElementById(dealerCallBackNameId)[document.getElementById(dealerCallBackNameId).selectedIndex].text);}}if(formId!="submitLeadPopup"){setTimeout(function(){if($("#dealerSelectGORPForm").parent().attr("class")==undefined||$("#dealerSelectGORPForm").parent().attr("class").indexOf("select-wrapper")==-1){$("#dealerSelectGORPForm").wrap("<span class='select-wrapper'></span>");$("#dealerSelectGORPForm").after("<span class='holder'></span>");}},2000);}}else{$("#dealerCallbackHolder").css({"display":"none"});$("#dealerDropDownWrapper").css({"display":"none"});$("#normalSelect").hide();$("#multiSelect").hide();try{$("#dealerCallBackDiv").hide();}catch(e){}}if(data1.length>0&&(oemName=="Tata"||oemName=="Ford"||oemName=="Renault"||oemName=="Nissan"||oemName=="Datsun")){if(isMultiDealer){getMultipleDealerSelection(formId,data1,oemName,cityName,isMultiDealer);if(formId=="submitLeadPopup"){$("#dealerCallBackDiv").removeAttr("class");$("#dealerCallBackError").removeAttr("class");$("#dealerCallBackError").removeAttr("style");}$("#normalSelect").hide();$("#multiSelect").show();}else{var dropDownObject=document.forms[formId].dealerSelectGORPForm;if(dropDownObject!=undefined&&dropDownObject.length>1){for(var index=dropDownObject.length;index>=0;index--){dropDownObject.remove(index);}}$.each(data1,function(i,item){getDropDownValueForDealerCallBack(formId,document.forms[formId].dealerSelectGORPForm,item,isMultiDealer,oemName,cityName);});showDealerCallBack(formId,"dealerCallBackDiv",dealerCallBackNameId,oemName,cityName);$("#dealerCallbackHolder").removeAttr("style");$("div.dealercallbackheading").removeAttr("style");$("#dealerDropDownWrapper").css({"display":"block"});$("#normalSelect").show();$("#multiSelect").hide();}}if(formId=="submitLeadPopup"){$("#dealerCallBackDiv").addClass("SelectHolder Textleft DispNone MarginT10");$("#dealerCallBackError").addClass("PopupDropBox W175");$("#dealerCallBackError").attr("style","border: 1px solid rgb(172, 172, 172); position:relative");}}}}}});if($("#dealerLoader").length>0){$("#dealerLoader").hide();}}}function convertFirstLetterCapital(a){a=a.toLowerCase().replace(/\b[a-z]/g,function(b){return b.toUpperCase();});return a;}function verifyLeadPopupDCB(oemName,carmodelname,cityName,pinCode,leadId){try{$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:"parameter=getDealerCallbackListByCity&pinCode="+pinCode+"&oemName="+oemName+"&carModelName="+carmodelname+"&City="+cityName,success:function(data){if(data!=undefined&&data!=""&&data!="ERROR"){var data1=eval(data);if(leadId=="19"&&data1.length>0&&(oemName=="Tata"||oemName=="Ford"||oemName=="Renault"||oemName=="Nissan"||oemName=="Datsun")){isGtmDCBblockDisplay=true;}if(leadId!="19"){isGtmDCBblockDisplay=true;}}}});}catch(e){}}function openChangeCityPopUp(g,h,b,a,c,d){isDealerCallbackPopOpen="true";popUpOpen=1;popupStatus=1;if(g==undefined||g==null||g==""){g="-999";}getPopUpCodeByAjaxCall(g,h,b,a);var e=["myforms","popUpDivContainer","popupContactClosebutt"];var f=["progressMsgx"];showhidePopupElement(e,f);if(sessioncity==undefined||sessioncity==null||sessioncity==""){sessioncity=$("#cityPopupSpan").text();}getPopUpCity("submitLeadPopup","cityName",sessioncity,"selectedCity");settlePopupElements();centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");}function addCarDekhoGoogleConversionScript(a){try{var b=$(a).find("#adWordsUserSessionID");facebookConversionCode("popupContact");if(b.length>0){if(b.html()=="LandingPageInfoLead"){var c=document.createElement("iframe");c.style.width="0px";c.style.height="0px";c.src=basepath+"/cardekhogoogleconversionscript.do?carBrand="+floodLightTracking.oemNameTracking+"&carModel="+floodLightTracking.modelNameTracking+"&carVariant="+floodLightTracking.varinatNameTracking;document.body.appendChild(c);if(typeof ga!=="undefined"){if(typeof adSourceType!="undefined"&&adSourceType=="yahoo"){ga("send","event","Yahoo_CPC","Conversion",getCurrentUrl());}else{ga("send","event","Google_CPC","Conversion",getCurrentUrl());}}}var f=$(a).find("#landingPageInfoLeadSource");}}catch(d){}leadSubmittedCallback();}function fbqTracking(d,b){try{var a="<script>fbq('trackCustom', '"+b+"');";$("#"+d).append(a);}catch(c){console.log(c);}}function showhidePopupElement(d,e,b){var a="false";for(var c=0;c<e.length;c++){$("#"+e[c]).hide();if(e[c]=="progressMsgx"){a="true";}}for(var c=0;c<d.length;c++){$("#"+d[c]).show();}if(a=="true"&&b!=70){$("#popupContact").removeClass("W125");$("#popupContact .process-indicator").removeClass("MarginL20");$("#popupContact .FormBox").removeClass("MarginB5");$("#popupContact .FormBox").addClass("MarginB10");rectifyPopupLeftPosition("popupContact");rectifyPopupTopPosition("popupContact");}}function rectifyPopupLeftPosition(a){var b=document.documentElement.clientWidth;var c=$("#"+a).width();$("#"+a).css({"left":b/2-c/2});}function rectifyPopupTopPosition(a){var c=document.documentElement.clientHeight;var b=$("#"+a).height();if(document.getElementById(a)!=null&&document.getElementById(a)!=undefined){if(browser_type=="Microsoft Internet Explorer"&&(browser_version==6)){document.getElementById(a).style.top=((c/2-b/2)+document.documentElement.scrollTop)+"px";}else{document.getElementById(a).style.top=(c/2-b/2)+"px";}}}function promotionAjax(h,b,e,c,a,d,g){if((c=="newcars")&&(e.toLowerCase()=="surat")&&(b.indexOf("Honda")>=0)){$("#PermotionsAndExchangeWraper").hide();return;}$("#"+a).html("");var f="";if($("#submitLeadPopup [name=carVariantIdhidden]").val()!=null&&$("#submitLeadPopup [name=carVariantIdhidden]").val()!="undefined"&&$("#submitLeadPopup [name=carVariantIdhidden]").val()!=""){f=$("#submitLeadPopup [name=carVariantIdhidden]").val();}if(c!="usedcar"||(usedCarOwnerType==""||usedCarOwnerType.indexOf("MFC-")==-1)){$.post(basepath+"/ajaxCallAction.do",{parameter:"getPromotionsData",price:h,carName:b,city:e,carType:c,maxCarPrice:d,carvarinatid:f,Id:a},function(k){if(k!="ERROR"&&k!=""){if(a=="promotionlead"&&g=="submitLeadPopup"){var j='<div class="FloatLeft"><p class="MarginB5"><b>Promotions from CarDekho. Sign Up & Save !!</b></p>';if(k.indexOf(j)>=0){var i=k.replace(j,"");i=i.substring(0,i.lastIndexOf("</div>"));i=i.replace(/MarginB5 MarginT5/g,"W340");i=i.replace(/FloatLeft Clear ClearNoneI76/g,"CommonBlock MarginT5");$("#"+g+" #"+a).html(i);}}else{var i=k.replace('<p class="MarginB5"><b>Promotions from CarDekho. Sign Up & Save !!</b></p>',"");$("#"+g+" #"+a).html(i);}if(c!="usedcar"&&$("div [id='promotions32']")!=null&&$("div [id='promotions32']")!=undefined&&$("div [id='promotions32']").html()!=""){$("div [id='promotions32']").html('<div class="InlineBlock"><img width="76" height="59" alt="" src="https://images.cardekho.com/images/club-mahindra.jpg"/></div><div class="InlineBlock W220 PaddingL5"><div class="CarName">Get a free call backfrom Club Mahindra holiday expert. Select Travel Frequency :<span id="additionalField32" style="display:none;"></span></div><div class="LHight16"><input type="checkbox" name="caradsinfo" onclick="createGAClickEventForPromotions(\'Chevy dealers\');onChevyCoregCheck(\'submitLeadPopup\',\'useradsinfo32\',\'dropDown32\',\'carMake\',\'cityName\')" value="32" id="useradsinfo32" class="InlineBlock"/><label for="useradsinfo32" class="InlineBlock MarginL5 W190">I am interested</label></div><div class="CommonBlock MarginB5 Textleft"><select style="width:110px!important;display:none;" id="dropDown32" name="dropDown32" class="FloatLeft login_e_x promotion-selectbox"><option value="">-Please Select-</option><option value="1">1 per year</option><option value="2">2 per year</option><option value="3">3 per year</option><option value="4">4 per year</option><option value="5">5 per year</option><option value="6">6 per year</option><option value="7">7 per year</option><option value="8">8 per year</option><option value="9">9 per year</option><option value="10">10 per year</option></select></div></div>');}if(usedCarOwnerType==""||usedCarOwnerType.indexOf("MFC-")==-1){$("div [id='promotions36']").remove();}if($("#"+g+" #"+a).html()=='<div class="FloatLeft"><p class="MarginB5"><b>Promotions from CarDekho. Sign Up &amp; Save !!</b></p></div>'){$("#"+g+" #"+a).html("");}if($("#"+g+" #"+a).html()==""){$("#promotionOuterWraper").hide();}if(document.getElementById("rowExpanded")!=null){$("#rowExpanded .CarDetails").css({"height":"290px"});}}else{if(a=="promotionlead"&&g=="submitLeadPopup"){$("#promotionOuterWraper").hide();}}});}else{$("#"+g+" #"+a).html('<div class="PromotionBorder FloatLeft Padding5" style="border:0px;padding-left:0px;"><div id="promotions36" class="FloatLeft Clear ClearNoneI76"><input type="checkbox" class="FloatLeft checkbox-sizing" id="useradsinfo36" value="36" onclick="createGAClickEventForPromotions(\'Mahindra First Choice warranty\');" name="caradsinfo"/><label class="FloatLeft MarginL5 MarginB5 MarginT5" for="useradsinfo36">I want car with Mahindra First Choice warranty.<span style="display:none;" id="additionalField36"></span></label></div></div>');}}function fillOemleads(a,d,c){if(d.length){$("#selectedBrand").html("-Select Brand-");}if(a.length){$("#selectedModel").html("-Select Model-");}var e=document.forms["submitLeadPopup"].carMake;if(e!=null){var b="";if(d==null||d==""){d=$("#submitLeadPopup [name=oemNamehidden]").val();}$("#submitLeadPopup [name=carMake]").val(d);getModelNamesleads(a,c);}}function centerPopup(h,a){var b=document.documentElement.clientWidth;var g=document.documentElement.clientHeight;var e=$("#"+a).height();var d=$("#"+a).width();$("#"+a).css({"position":"fixed"});var c=(g-e)/2;if(a=="photoGalleryUsedCar"&&c>30){$("#"+a).css({"top":(c-30)});}else{if(a=="fbopen"){$("#"+a).css({"top":(c+5)});}else{if(a=="popupslideshow"){$("#"+a).css({"top":0});g="10px";}else{if(c>60){$("#"+a).css({"top":(c-60)});}else{$("#"+a).css({"top":0});}}}}$("#"+a).css({"left":b/2-d/2});$("#"+h).css({"height":g});if(browser_type=="Microsoft Internet Explorer"&&(browser_version==6)){$("#"+a).css({"position":"absolute"});$("#"+a).css({"top":(g/2-e/2)+document.documentElement.scrollTop});$("#"+a).css({"left":b/2-d/2});$("#"+h).css({"top":document.documentElement.scrollTop});$("#"+h).css({"height":g});$("#"+h).css({"width":b});var f="centerPopup('"+h+"','"+a+"')";scrollvalue=f;}}function loadPopup(b,a){if(popupStatus==0){$("#"+b).css({"opacity":"0.7"});$("#"+b).fadeIn("fast");$("#"+a).fadeIn("fast");popupStatus=1;}popupOpenedCallback();}function popupOpenedCallback(){closeFavoriteCarsDiv();}function closeFavoriteCarsDiv(){if($(".short_list_container").css("display")=="block"){$(".short_list_container").hide();}}function visibilityForIE(a){if(browser_type=="Microsoft Internet Explorer"&&(browser_version==6)){showOrHideAllDropDowns(a);}}function setDefaultExchangeLeadValue(){try{if(document.getElementById("kilometer")!=null&&document.getElementById("kilometer")!="undefined"){document.getElementById("kilometer").value="Kilometer";document.getElementById("expectedPrice").value="Expected Price";document.getElementById("exchangeModelMake").value="";document.getElementById("exchangeCarMake").value="";document.getElementById("exchangeLeadYear").value="";document.getElementById("exchangeCheckBox").checked=false;document.getElementById("checkBoxValue").value="0";}}catch(a){}}function leadResult(ak,x){try{var U=$.parseJSON(ak);ak=U.message;}catch(ah){var U={};U["lid"]=0;}leadPopupGAEvent="Response PopUp";if($("#progressMsgx")!=null){$("#progressMsgx").hide();$("#carDekhoLogoImageForPopup").show();$(".responseForHide").html("");if(x==2){$("#testDriveHeading").html("");}if(x==1){$("#discountHeading").html("");}if(x==19){$("#onRoadHeading").html("");}}try{if(x==19||x==48||x==44||x==80){set_Cookie("isLeadCapture","true",30,"/","","");}}catch(ah){}if(document.getElementById("promotionlead")!=null&&document.getElementById("promotionlead")!="undefine"&&(document.getElementById("isInIframe")==null||document.getElementById("isInIframe").value!=2)){document.getElementById("promotionlead").innerHTML="";}if(x==76&&U.response=="success"){closePopup("backgroundPopup","popupContact","blankdivId");var y=getCookieLiveChat("userChatId");if(y!==""){startChatWithDealerWeb(U.endUserName,"enduser",U.userId,U.dealerId,U.usedCarId,U.dealerName,U.mobileNo,U.variantId,U.price,U.km,U.modelyear,U.imageurl,U.leadId);}else{$.getScript("https://static.cardekho.com/javascript/dealerChatWeb.js",function(){startChatWithDealerWeb(U.endUserName,"enduser",U.userId,U.dealerId,U.usedCarId,U.dealerName,U.mobileNo,U.variantId,U.price,U.km,U.modelyear,U.imageurl,U.leadId);});}return false;}if(ak=="mobileVerificationActivated"||discountOfferMobileNumVerification=="mobileVerificationActivated"){discountOfferMobileNumVerification="";if(x==80){$("#popupheaderDiscountOffer").hide();}try{if(window["awLanding"]!=undefined&&window["awLanding"]!=""){window["mobileVerificationCallbackDataArray"]=new Array(x);window["mobileVerificationCallbackFunction"]="leadResult";callGTMLayerEvent("OtpOpen");var n=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&leadType="+x+"&lid="+U.leadid}).responseText;n="<div class='HeadingText GetOn Padding0 MarginT5 MarginB10'><strong>Please Verify Your Mobile Number</strong><div class='Text14 Black7a'></div></div> <div class='BtnClose Popup_Sprite Hand' title='Close' onclick=\"javascript:closePopup('backgroundPopup','awfrm2','awform');createLeadPopUpGAClickEvent('Close');\"></div><form id='submitLeadPopup'>"+n+"</form>";$("body").append("<div class='DispNone'>"+$("#awfrm2").html()+"</div>");$("#awfrm2").empty().append(n);$("#awfrm2").css("background-color","#F2F2F2").addClass("Textcenter").css("padding","20px");}else{window["mobileVerificationCallbackDataArray"]=new Array(x);window["mobileVerificationCallbackFunction"]="verifiedMobileCallbackOthers";var q="";if(x==19&&((!$.gsp_detect.isIE())||($.gsp_detect.isIE()&&$.gsp_detect.browser().version>8))){}var n=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&leadType="+x+"&lid="+U.leadid}).responseText;if(q==""){$("#submitResponsejquery").empty().append(n);$("#popupheaderx").html("<div class='HeadingText Padding0 MarginT5 MarginB10'><strong>Please Verify Your Mobile Number</strong><div class='Text14 Black7a'></div></div>");fbqTracking("popupContact","NewCarLead-NonVerified");}else{$("#newsubmitResponsejquery").empty().append(n);$("#popupheader").html("Verify Mobile Number").addClass("topcolornone");}}}catch(T){console.log("Mobile Verification Error Catch : "+T);}}else{if(x=="70"){try{if(ak=="dealercallbacksmsverification"||ak=="dealercallbacksmsverificationMobileVericiationLimitExceed"){window["mobileVerificationCallbackDataArray"]=new Array();window["mobileVerificationCallbackFunction"]="getDealerCallbackDealerList";var n=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&lid="+U.leadid}).responseText;fbqTracking("popupContact","NewCarLead-NonVerified");$("#modelNameTextContainer").html("Please Verify Your Mobile Number<p class='Blackb6 Text15 White PaddingT5'><span class='Text12 Blackb6'></span> </p>");$("#submitResponsejquery").css("color","white");$("#submitResponsejquery").addClass("Textcenter");$("#responces").addClass("Width100Percent");$("#submitResponsejquery").empty().append(n);$("#userMobileNoForVerification").before("<br/>");$("#submitResponsejquery a").css("color","#d3ae00");}else{if(ak=="dealerdeatil"){var ae=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackDealerDetailListHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&pinCode="+userPincode}).responseText;fbqTracking("popUpDivContainer","NewCarLead-Verified");addCarDekhoGoogleConversionScript(ae);$("#modelNameTextContainer").html("Choose Dealers To Get a Call From<p class='Blackb6 Text12 PaddingT10 dealerpoptitle'>Please choose a dealer you would like to get a call back from.</p>");$("#submitResponsejquery").html(ae);}else{if(ak=="failure"){$("#popUpDivContainer").hide();$("#modelNameTextContainer").html("Sorry! Currently there are no dealers available in your area.");$("#modelNameTextContainer").css("margin-top","140px");}}}}catch(T){console.log("Mobile Verification Error Catch : "+T);}}else{if(x==42){addCarDekhoGoogleConversionScript(ak);var K=ak.split(":");if(dealerdata!=""){K=dealerdata.split(":");dealerdata="";}var ai="N/A";var b="N/A";var M="N/A";if(K.length==3){ai=K[0];b=K[1];M=K[2];b=b.replace(",,,",",");b=b.replace(",,",",");if(trim(M,"")==""){M="N/A";}M=trim(M,"");if(trim(b,"")==""||trim(b,"").length<=4){b="N/A";}}else{if(window["awLanding"]!=undefined&&window["awLanding"]!=""){if(window[method_name]){window[method_name]();}var R=document.getElementById("carOemDealerObject").value;var ag=document.getElementById("cityDealerObject").value;var N=basepath+"/"+R.replace(" ","_")+"/"+ag.replace(" ","_")+"/cardealers";vN=$("#submitLeadPopup [name=modelMake]").val();var l=[];l.push("vN");l.push("tN");l.push("redirect_url");var I=[];I.push(vN);I.push("Dealer");I.push(N);multipleDataPostRedirect(getCurrentUrl()+"+"+x+"+"+window["awLandingRedirect"],l,I);return;}}var P=M;if(M!="N/A"&&(M!="")){P="";if(M.indexOf(" ")>=0){$.each(M.split(" "),function(e,i){P+='<a target="_top" href="mailto:'+i+'">'+i+"</a>"+" ";});}else{P+='<a target="_top" href="mailto:'+M+'">'+M+"</a>";}}var c=document.getElementById("showroomLeadCity").value;var al=document.getElementById("userMobileNo").value;var X='<div id="leadpopup" class="form_area leadpopu"><div class="title"><i class="greencheck cardekhosprite"></i><span>Dear User, We have forwarded you the contact details of '+ai+" on your Mobile No.<strong> "+al+'</strong>.</span></div><a class="close" onclick="javascript:closePopup(\'backgroundPopup\',\'popupContact\',\'promotionlead\');createLeadPopUpGAClickEvent(\'Close\');" title="Close">x</a><div class="popupdetail clear"><div class="poptitle">The details are as follows:</div><div class="userdetails"><p>Name : <span>'+ai+"</span></p><p>Mobile no. : <span>"+b+"</span></p><p>Email id : "+P+' </p><p class="contacttime">For a friendly expert advice dial <span>1800-200-3000</span><i> (Mon to Fri 10 AM to 7 PM).</i></p><p class="thanks">Thanks,</p><p class="usercar">CarDekho.com</p></div><div class="button-panel"> <a onclick="createGAClickEventTrackingAdWords(\'Finance_CTA\',\'clicked\',\'CarLoanWEB-Dealer-Detail-Popup-GetCarLoan\');findTargetInNewTab(\''+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekhoWEB_Send_Details_on_Sms&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide&variantOptions=mobileRequired');\">Get Best Car Loans</a> </div></div></div>";$("#popupheaderx").parent().hide();$("#popupContact").removeAttr("class").addClass("dealer-detail").removeAttr("style");$("#popupContact").html(X);}else{if(x=="19"){flagOnRoad=false;addCarDekhoGoogleConversionScript(ak);if($("#submitLeadPopup [name=carVariantIdhidden]").val()==""&&window["awLanding"]==undefined){$('#submitLeadPopup input[name="oemName"]').val("");$("#submitLeadPopup").attr("action",$("#forwordUrl").val());var V=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getLeadVerifiedPixelTrackerURL&carName="+failureCarModel}).responseText;if(V==""){V="https://images.cardekho.com/images/spacer.gif";}$("#onRoadHeading").html("<img src='"+V+"' alt='tracker'>");setTimeout("$('#submitLeadPopup').submit()",10);}else{if(coregSubmitted!=0){$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",data:"parameter=submitCampaign&pid="+coregSubmitted,success:function(e){alert("Thank You!. Our team will contact you soon.");$("#clubmahindracoregdiv").hide();var i=document.URL;if(i.indexOf("car-price-in-")!=-1){location.href=i;}}});}var a="";if(window["awLanding"]!=undefined&&window["awLanding"]!=""&&window["pagecategory"]!=undefined&&window["pagecategory"].substring(0,18)=="Landing Template 2"){$("#submitLeadPopup [name=cityName]").val($("#NewPopupForm [name=cityName]").val());a="carModelName="+replaceWithHash($("#NewPopupForm [name=modelMake]").val())+"&cityName="+replaceWithHash($("#NewPopupForm [name=cityName]").val());}else{a="carModelName="+replaceWithHash($("#submitLeadPopup [name=carNamehidden]").val())+"&cityName="+replaceWithHash($("#submitLeadPopup [name=cityName]").val())+"&carVariantId="+$("#submitLeadPopup [name=carVariantIdhidden]").val();}var k=basepath+"/showExShowRoomPrice.do";var aa="getVariantPriceByAjax";if(window["awLanding"]!=undefined&&window["awLanding"]!=""){vN=$("#NewPopupForm [name=modelMake]").val();if(vN==undefined){vN=$("#submitLeadPopup [name=modelMake]").val();}var l=[];l.push("vN");l.push("tN");l.push("redirect_url");var I=[];I.push(vN);I.push(vN+" On Road Price");I.push($("#forwordUrl").val());multipleDataPostRedirect(getCurrentUrl()+"+"+x+"+"+window["awLandingRedirect"],l,I);return;}getVariantOnRoadPrice(k,a);}}else{if(x=="1"||x=="2"){var ac="";if($("#submitLeadPopup [name=financetest]").is(":checked")&&ac.indexOf($("#submitLeadPopup [name=cityName]").val())!=-1){var B=document.createElement("div");B.innerHTML=ak;var af=B.childNodes;for(var ad=0;ad<af.length;ad++){if(af[ad].id&&af[ad].id=="leadid"){$("#submitLeadPopup [name=leadId]").val(af[ad].innerHTML);break;}}$("#submitLeadPopup").attr("action",basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekho_Miscellaneous&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide");document.getElementById("popupClose").setAttribute("onclick","javascript:submitFormById('submitLeadPopup','"+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekho_Miscellaneous&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide');");document.getElementById("popupContactClose").setAttribute("onclick","javascript:submitFormById('submitLeadPopup','"+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekho_Miscellaneous&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide');");}if(window["awLanding"]!=undefined&&window["awLanding"]!=""){postRedirect(getCurrentUrl()+"+"+x+"+"+window["awLanding"],"carvariantid","onroad");return;}var Q=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=isDealerCallbackActivatedForOem&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&City="+dealerCallbackLeadCity}).responseText;var U=$.parseJSON(Q);dealerCallbackActivatedForOemResponserData=U.message;if(dealerCallbackActivatedForOemResponserData=="success"){var H=replaceAll(dealerCallbackLeadOemName," ","-").toLowerCase();if(x=="1"){flagDiscount=false;var X='<div class="BtnClose Popup_Sprite" title="Close"></div><div class="Text12 LHight17 FloatLeft">We\'ve teamed up with leading franchised car dealers to bring you great new car deals and discount prices. We\'ll contact you back if we come to know any offers on your requested model.</div><div class="CenterBlock MarginT20"><div class="Lucida Text20 Textcenter"><strong>Looking to Buy a '+dealerCallbackLeadCarName+'?</strong></div><div class="BuyTitle Lucida Textcenter MarginT5"><span class="FreeCallS Popup_Sprite"></span><strong>A '+dealerCallbackLeadOemName+' Dealer near you will call you and provide</strong></div><div class="CommonBlock MarginT20"><div class="TestDrive Lucida"><ul class="FloatLeft"><li><div class="Popup_Sprite OffersIconS"></div><div class="InlineBlock W150 Textleft">Latest discount offers on '+dealerCallbackLeadCarName+'</div></li><li><div class="Popup_Sprite DoorstepS"></div><div class="InlineBlock W150 Textleft">A test drive at your doorsteps</div></li><li class="Last"><div class="Popup_Sprite RepresentativeS"></div><div class="InlineBlock W200 Textleft">All your questions answered by a dealer representative </div></li></ul><div class="Clear"></div></div><div class="BottomBlock MarginT30"><div class="FloatLeft W185 MarginL10"><img src="https://images.cardekho.com/images/dealercallbacklogo/'+H+'.png" height="61" width="157" alt="CarDekho.com" title="CarDekho.com" class="MarginT5"/></div><div class="FloatLeft W225 MarginT20"><div class="Textcenter"><input type="button" value="Talk to a '+dealerCallbackLeadOemName+' Dealer" class="BtnCommon BtnMid" onclick="getPopUpCodeByAjaxCall(\'70\',\''+dealerCallbackLeadCity+"','"+dealerCallbackLeadCarName+"','"+dealerCallbackLeadCarVariantId+"','"+dealerCallbackLeadOemName+"');dealerCallBackLink('70','Dealer Callback','','"+dealerCallbackLeadCarName+"','"+dealerCallbackLeadCarVariantId+"','"+dealerCallbackLeadOemName+"','','"+dealerCallbackLeadCity+"','ShowDealerCallbackPopUP','"+userPincode+"');updateleadLocation('discountlead','dealercallback.lead');createGAClickEventTrackingAdWords('Lead Popup', 'Discount Dealer Callback Lead', 'Select Dealer for Dealer Callback');\"  /></div></div><div class=\"Clear\"></div></div></div><div class=\"Clear\"></div></div>";}else{flagTestDrive=false;var X='<div class="BtnClose Popup_Sprite" title="Close"></div><div class="Text12 LHight17 FloatLeft">Thank you, Your test drive request has been submitted successfully. We will now forward your request to your local Dealer Centre. We\'ll contact you back after confirmation of the arrangements.</div><div class="CenterBlock MarginT20"><div class="Lucida Text20 Textcenter"><strong>Looking to Buy a '+dealerCallbackLeadCarName+'?</strong></div><div class="BuyTitle Lucida Textcenter MarginT5"><span class="FreeCallS Popup_Sprite"></span><strong>A '+dealerCallbackLeadOemName+' Dealer near you will call you and provide</strong></div><div class="CommonBlock MarginT20"><div class="TestDrive Lucida"><ul class="FloatLeft"><li><div class="Popup_Sprite OffersIconS"></div><div class="InlineBlock W150 Textleft">Latest discount offers on '+dealerCallbackLeadCarName+'</div></li><li><div class="Popup_Sprite DoorstepS"></div><div class="InlineBlock W150 Textleft">A test drive at your doorsteps</div></li><li class="Last"><div class="Popup_Sprite RepresentativeS"></div><div class="InlineBlock W200 Textleft">All your questions answered by a dealer representative </div></li></ul><div class="Clear"></div></div><div class="BottomBlock MarginT30"><div class="FloatLeft W185 MarginL10"><img src="https://images.cardekho.com/images/dealercallbacklogo/'+H+'.png" height="61" width="157" alt="CarDekho.com" title="CarDekho.com" class="MarginT5"/></div><div class="FloatLeft W225 MarginT20"><div class="Textcenter"><input type="button" value="Talk to a '+dealerCallbackLeadOemName+' Dealer" class="BtnCommon BtnMid" onclick="getPopUpCodeByAjaxCall(\'70\',\''+dealerCallbackLeadCity+"','"+dealerCallbackLeadCarName+"','"+dealerCallbackLeadCarVariantId+"','"+dealerCallbackLeadOemName+"');dealerCallBackLink('70','Dealer Callback','','"+dealerCallbackLeadCarName+"','"+dealerCallbackLeadCarVariantId+"','"+dealerCallbackLeadOemName+"','','"+dealerCallbackLeadCity+"','ShowDealerCallbackPopUP','"+userPincode+"');updateleadLocation('testdrivelead','dealercallback.lead');createGAClickEventTrackingAdWords('Lead Popup', 'Test Drive Dealer Callback Lead', 'Select Dealer for Dealer Callback');\"  /></div></div><div class=\"Clear\"></div></div></div><div class=\"Clear\"></div></div>";}facebookConversionCode("popupContact");fbqTracking("popupContact","NewCarLead-Verified");if(typeof U!=undefined&&U.LandingPageInfoLead=="LandingPageInfoLead"){addCarDekhoGoogleConversionScriptCode();}$("#popupheaderx").html("Thank you");}else{if(x=="1"){flagDiscount=false;var X='<div class="CommonBlock">We\'ve teamed up with leading franchised car dealers to bring you great new car deals and discount prices. We\'ll contact you back if we come to know any offers on your requested model.</div><div class="MarginT15 CommonBlock LightGrayColor"><div class="MarginT15 Textcenter Text14 TBold CommonBlock">Are You also Looking for a Car Loan!</div><div class="FloatLeft Padding10">Through our partners we have tied up with renowned banks like HDFC, ICICI, Axis, etc to offer several benefits on car loan like:</div><div class="W450 Padding10 CommonBlock"><div class="FloatLeft W200"><span class="Getloan FloatLeft sprite-mainNew MarginT5 MarginR5"></span><span class="FloatLeft LHight15">Get loan directly from bank<br/>(no middleman involved)</span></div><div class="FloatLeft W125"><span class="FloatLeft sprite-mainNew MarginT5 MarginR5 Approval"></span><span class="FloatLeft W85 LHight15">Get e-approval instantly</span></div><div class="FloatLeft W125"><span class="FloatLeft sprite-mainNew MarginT5 MarginR5 Apply"></span><span class="FloatLeft W90 LHight15">Apply online for lowest rate</span></div></div><div class="Clear"></div><div class="MarginT10 MarginB20 Textcenter MarginLRAuto"><input class="BtnCommon" type="button" value="Apply Now" title="Apply Now" onclick="findTargetInNewTab(\''+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekho_Miscellaneous&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide')\"/></div></div>";}else{flagTestDrive=false;var X='<div class="CommonBlock">Thank you, Your test drive request has been submitted successfully. We will now forward your request to your local Dealer Centre. We\'ll contact you back after confirmation of the arrangements.</div><div class="MarginT15 CommonBlock LightGrayColor"><div class="MarginT15 Textcenter Text14 TBold CommonBlock">Are You also Looking for a Car Loan!</div><div class="FloatLeft Padding10">Through our partners we have tied up with renowned banks like HDFC, ICICI, Axis, etc to offer several benefits on car loan like:</div><div class="W450 Padding10 CommonBlock"><div class="FloatLeft W200"><span class="Getloan FloatLeft sprite-mainNew MarginT5 MarginR5"></span><span class="FloatLeft LHight15">Get loan directly from bank<br/>(no middleman involved)</span></div><div class="FloatLeft W125"><span class="FloatLeft sprite-mainNew MarginT5 MarginR5 Approval"></span><span class="FloatLeft W85 LHight15">Get e-approval instantly</span></div><div class="FloatLeft W125"><span class="FloatLeft sprite-mainNew MarginT5 MarginR5 Apply"></span><span class="FloatLeft W90 LHight15">Apply online for lowest rate</span></div></div><div class="Clear"></div><div class="MarginT10 MarginB20 Textcenter MarginLRAuto"><input class="BtnCommon" type="button" value="Apply Now" title="Apply Now" onclick="findTargetInNewTab(\''+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekho_Miscellaneous&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide')\"/></div></div>";}if(typeof U!=undefined&&U.LandingPageInfoLead=="LandingPageInfoLead"){addCarDekhoGoogleConversionScriptCode();}$("#popupheaderx").html("Thank you");}var V=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getLeadVerifiedPixelTrackerURL&carName="+failureCarModel}).responseText;if(V==""){V="https://images.cardekho.com/images/spacer.gif";}X=X+"<img src="+V+" alt='tracker'>";$("#submitResponsejquery").html(X);}else{if(x=="20"||x=="21"){flagFinance=false;var s=$("#financeLeadForm [name=modelMake]").val();var c=$("#financeLeadForm [name=cityName]").val();var G=$("#financeLeadForm [name=userId]").val();sessioncity=c;var X="Thanks "+G+", your Finance request has been submitted successfully for "+s+" in "+c+" city. and We will contact you shortly.";$("#popupheaderx").html("Finance");$("#submitResponsejquery").html(X);}else{if(x==48){brochureEmailId=$("#submitLeadPopup #emailId").val();brochureMobileNumber=$("#submitLeadPopup #mobileNo").val();var t=$.ajax({type:"POST",url:basepath+"/getBrochureDetailsAction.do",async:false,data:"method=checkLimitForBrochureDownload&UserId="+brochureEmailId+"&MobileNo="+brochureMobileNumber}).responseText;if(t==""){var r=basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+failureBrochureId+"&UserId="+brochureEmailId+"&MobileNo="+brochureMobileNumber;$("#submitLeadPopup").attr("action",r);closePopup("backgroundPopup","popupContact","promotionlead");addCarDekhoGoogleConversionScriptCode();$("#submitLeadPopup").submit();}else{if(t=="You cannot download brochure more than 5 times"){closePopup("backgroundPopup","popupContact","promotionlead");setTimeout(function(){alert("You can not download brochure more than 5 times");},250);}else{closePopup("backgroundPopup","popupContact","promotionlead");alert("You can not download brochure because of some error");}}}else{if(x=="51"){flagDiscount=false;document.getElementById("subscribeResponceMessage").innerHTML="<img alt='Indicator' src='https://images.cardekho.com/images/indicator.gif' /> Please Wait...";var f=document.URL;if(f.indexOf("car-deals-discount-offers-in-")!=-1){location.href=f;}}else{if(x=="64"){var X="The car details has been successfully sent on your mobile.";if(ak==("Show Crossed buyer Mobile No Verification Msg")){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidationExceed").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidationExceed").innerHTML;}}else{if(ak==("Show Used Car Buyer Mobile No Verification")){var p=document.getElementById("mobileNo").value+" ("+document.getElementById("changeMobileNoContainer").innerHTML+")";document.getElementById("buyerMobilenoDisplayTxt").innerHTML=buyerMobileNoVarificationText.replace("%BuyerMobilNo%",p);window["mobileVerificationCallbackDataArray"]=new Array(basepath);window["mobileVerificationCallbackFunction"]="validateBuyerMobileMobileNumber";var n=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&leadType="+x+"&lid="+U.leadid}).responseText;$("#buyerMobileNoValidation").html(n);$("#popupContact").css("width","600px");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidation").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidation").innerHTML;}}}if(ak==("Show Used Car Buyer Mobile No Verification")){$("#popupheaderx").html("<div class='HeadingText Padding0 MarginT5 MarginB10'><strong>Please Verify Your Mobile Number</strong><div class='Text14 Black7a'></div></div>");}else{$("#popupheaderx").html("Thank You");}if(ak==("Show 15 car leads Msg")){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>Save on mobile is an exclusive feature and we only allow to save 15 used cars on mobile per day.<br/>To save more cars on mobile, please visit us again tomorrow.<br/>To know seller contact details, you can use our 'Contact Seller' feature as well.<br/></span><span class='MarginT10'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10 CommomnBlock'>Save on mobile is an exclusive feature and we only allow to save 15 used cars on mobile per day.<br/>To save more cars on mobile, please visit us again tomorrow.<br/>To know seller contact details, you can use our 'Contact Seller' feature as well.<br/></span><span class='MarginT10 FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}}if(ak==("Show 50 car leads Msg for Dealer")||ak==("Show Used Car Alert Msg")){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Save on mobile is an exclusive feature and we only allow to save a total of 50 used cars on mobile.<br/>You can contact the sellers of the cars you have saved by clicking on 'Contact Seller'.</span><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{X="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User,<br/><span class='MarginT10 FloatLeft'>Save on mobile is an exclusive feature and we only allow to save a total of 50 used cars on mobile.<br/>You can contact the sellers of the cars you have saved by clicking on 'Contact Seller'.</span><span class='MarginT10 Clear FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}}$("#submitResponsejquery").html(X);}else{if(x=="3"||x=="64"||x=="76"){var d=$("#usedCarCity").val();var j=$("#usedCarOwnerId").val();var u=$("#usedCarUserNo").val();if(ak.indexOf(",")!=-1){var F=ak.split(",");var Z=F[0].split("~");if(Z.length>1&&Z[0]!=""&&Z[1]!=""){j=F[0].replace("~"," , ");}else{j=F[0].replace("~","");}var v=F[1].split("~");if(v.length>1&&v[0]!=""&&v[1]!=""){u=F[1].replace("~"," , ");}else{u=F[1].replace("~","");}var C,Y,D,L;if(F.length>3){C=F[3];Y=F[4].replace(/\+/g,",");}$("#usedCarOwnerId").val(j);$("#usedCarUserNo").val(u);if(x=="3"){usedCarLeadStatus="";}}var J=$("#ownerType").val();var h=$("#usedCarId").val();sessioncity=d;var o=$("#submitLeadPopup [name=carMake]").val();if(combolength<$("#submitLeadPopup [name=carMake] option").length){$("#submitLeadPopup [name=carMake] option[value="+o+"]").remove();}if(document.getElementById("rowExpanded")){$("#rowExpanded").hide();}if(x=="3"&&ak==("Show 50 car leads Msg for Dealer")){createGAClickEventTrackingAdWords("Used Car","Contact Seller limit Exceed","Contact Seller limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){usedCarLeadStatus="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{if(contactSellerPopupNewUi==0){usedCarLeadStatus="<p>Dear User,<br/>It looks like you have contacted 50 used car sellers. We allow an individual user to contact total of 50 used car sellers.</p><p>Do you have a used car business or want to contact more sellers?</p><p>Please contact us at 1800 200 3000 (10 AM to 7 PM)</p>";}else{usedCarLeadStatus="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User,<br/><span class='MarginT10 FloatLeft'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";contactSellerPopupNewUi=0;}}}if(x=="3"&&ak==("Show 10 car leads Msg")){createGAClickEventTrackingAdWords("Used Car","Contact Seller Daily limit Exceed","Contact Seller Daily limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){usedCarLeadStatus="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";}else{if(contactSellerPopupNewUi==0){usedCarLeadStatus="<p>Dear User,</p><p>You have crossed the daily limit of viewing seller details. Please visit tomorrow to view more leads.</p><p>Do you have a used car business or want to contact more sellers?</p><p>Please contact us at 1800 200 3000 (10 AM to 7 PM)</p>";}else{usedCarLeadStatus="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10 CommomnBlock'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10 FloatLeft'>Thank, You<br/>CarDekho.com</span></div></div>";contactSellerPopupNewUi=0;}}}if(x=="3"&&ak==("Show Crossed buyer Mobile No Verification Msg")){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidationExceed").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidationExceed").innerHTML;}}else{if(x=="3"&&ak==("Show Used Car Buyer Mobile No Verification")){window["mobileVerificationCallbackDataArray"]=new Array(basepath);window["mobileVerificationCallbackFunction"]="validateBuyerMobileMobileNumber";window["mobileNumberUpdateDataArray"]=new Array(dealerCallbackLeadCity,dealerCallbackLeadOemName,"",dealerCallbackLeadOemName);window["mobileNumberUpdateFunction"]="changeBuyerMobileNumberNew";var n=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&leadType="+x+"&lid="+U.leadid}).responseText;$("#buyerMobileNoValidation").html(n);updateMobileVerification();$("#popupContact").css("width","600px");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidation").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidation").innerHTML;}}else{if(ak==("Show Used Car Alert Msg")){createGAClickEventTrackingAdWords("Used Car","Contact Seller limit Exceed","Contact Seller limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){parent.document.getElementById("getsellerDeatilIframe").style.height="435px";var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{if(contactSellerPopupNewUi==0){var X="<p>Dear User,<br/>It looks like you have contacted 50 used car sellers. We allow an individual user to contact total of 50 used car sellers.</p><p>Do you have a used car business or want to contact more sellers?</p><p>Please contact us at 1800 200 3000 (10 AM to 7 PM)</p>";}else{var X="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User,<br/><span class='MarginT10 FloatLeft'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";contactSellerPopupNewUi=0;}}}else{if(ak==("Used car has been sold  message")){X="<div class='CommonBlock'>Dear User,<br/><br/><div class='MarginT10 CommonBlock'>This car has been sold . You can search another car.</div><br/><span class='MarginT5 FloatLeft'>Thank, You<br/>CarDekho.com</span></div>";}else{if(usedCarLeadStatus!=""){var X=usedCarLeadStatus;}else{if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){if(F.length>3){if(Y=="NAD"){var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"<br/> Dealer Name : "+C+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}else{var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"<br/> Dealer Name : "+C+"<br/> Address : "+Y+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}}else{var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}}else{if(F!=undefined&&F.length>3){leadSubmittedCallback();if(Y=="NAD"){if(contactSellerPopupNewUi==0){var X="";X+="<div class='sellcarcontact'><span class='sprite righticon'></span> Seller Contact Details have been sent on your mobile.</div>";X+="<div class='sellerbox'>";X+="<ul>";X+="<li><span class='sprite usericon'></span> <span class='sellername'> <span>Seller Name</span>   <i>:</i></span> <span class='nameb'>"+j+"</span></li>";X+="<li class='bggray'><span class='sprite phoneicon'></span> <span class='sellername'> <span>Contact No.</span> <i>:</i></span> <span class='nameb'>+91 "+u+"</span> <span class='reporterror'><a href='javascript:void(0);' onclick=\"window.open('"+basepath+"/feedback','FeedBack','address=no,width=600,height=340,left=430,top=240,scrollbars=no')\" title='Report Incorrect Number'>Report Incorrect Number</a></span></li>";X+="</ul>";X+="<div class='clear'></div>";X+="</div>";}else{var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b class='MarginR20'> Seller Name : </b>  "+j+"<br/><b class='MarginR5'> Phone Number :</b> "+u+"<br/><b class='MarginR15'>Dealer Name :</b class='MarginR15'> "+C+"</span> </div> <br/><div class='MarginT10 Clear FloatLeft'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'If the contact details of seller are incorrect please report to us\'>If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';contactSellerPopupNewUi=0;}}else{if(contactSellerPopupNewUi==0){var X="";X+="<div class='sellcarcontact'><span class='sprite righticon'></span> Seller Contact Details have been sent on your mobile.</div>";X+="<div class='sellerbox'>";X+="<ul>";X+="<li><span class='sprite usericon'></span> <span class='sellername'> <span>Seller Name</span>   <i>:</i></span> <span class='nameb'>"+j+"</span></li>";X+="<li class='bggray'><span class='sprite phoneicon'></span> <span class='sellername'> <span>Contact No.</span> <i>:</i></span> <span class='nameb'>+91 "+u+"</span> <span class='reporterror'><a href='javascript:void(0);' onclick=\"createGAClickEventTrackingAdWords('UsedCarSERPLead form', 'ReportIncorrectNumber', '"+h+"');window.open('"+basepath+"/feedback','FeedBack','address=no,width=600,height=340,left=430,top=240,scrollbars=no')\" title='Report Incorrect Number'>Report Incorrect Number</a></span></li>";X+="<li><span class='sprite usericon'></span> <span class='sellername'> <span>Dealer Name</span>   <i>:</i></span> <span class='nameb'>"+C+"</span></li>";X+="<li class='bggray last'><span class='sprite addressicon'></span> <span class='sellername'> <span>Address</span>   <i>:</i></span> <span class='nameb address'>"+Y+"</span></li>";X+="</ul>";X+="<div class='clear'></div>";X+="</div>";X+="<div class=\"viewmore\"><a href=\"javascript:void(0);\" onclick=\"createGAClickEventTrackingAdWords('UsedCarSERPLead form', 'SimilarCar', '');similarUsedCarForFilter('"+basepath+"','"+h+"','','"+d.toLowerCase().replace(" ","-")+'\')" title="View More Similar Cars">View More Similar Cars</a></div>';}else{var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b class='MarginR20'> Seller Name : </b>  "+j+"<br/><b class='MarginR5'> Phone Number :</b> "+u+"<br/><b class='MarginR15'>Dealer Name :</b class='MarginR15'> "+C+"<br/>  <div> <b class='FloatLeft W100'> Address :</b><span class='FloatLeft W278'> "+Y+"</span> </div> <br/><div class='MarginT10 Clear FloatLeft'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'If the contact details of seller are incorrect please report to us\'>If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';contactSellerPopupNewUi=0;}}}else{if(contactSellerPopupNewUi==0){var X="";X+='<div class="sellcarcontact"><span class="sprite righticon"></span> Seller Contact Details have been sent on your mobile.</div>';X+='<div class="sellerbox">';X+="<ul>";X+='<li><span class="sprite usericon"></span> <span class="sellername"> <span>Seller Name</span> <i>:</i></span> <span class="nameb">'+j+"</span></li>";X+='<li  class=\'bggray\'><span class="sprite phoneicon"></span> <span class="sellername"> <span>Contact No.</span> <i>:</i></span> <span class="nameb">'+u+'</span> <span class="reporterror"><a href="javascript:void(0);" onclick="window.open(\''+basepath+"/feedback','FeedBack','address=no,width=600,height=340,left=430,top=240,scrollbars=no')\" title=\"Report Incorrect Number\">Report Incorrect Number</a></span></li>";X+="</ul>";X+='<div class="clear"></div>';X+="</div>";X+='<div class="viewmore"><a href="javascript:void(0);" onclick="similarUsedCarForFilter(\''+basepath+"','"+h+"','','"+d.toLowerCase().replace(" ","-")+'\')" title="View More Similar Cars">View More Similar Cars</a></div>';}else{var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b style='margin-right:15px;'> Seller Name :</b>   "+j+"<br/><b> Phone Number :</b> "+u+"<br/><span class='navigation' style='margin-left:95px;' title='View Similar Cars' onclick='similarUsedCarForFilter(\""+basepath+'","'+h+'","","'+d.toLowerCase().replace(" ","-")+"\")'>View Similar Cars</span><div class='MarginT10'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\' If the contact details of seller are incorrect please report to us\'> If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';contactSellerPopupNewUi=0;}}if(typeof U!=undefined&&U.LandingPageInfoLead=="LandingPageInfoLead"){addCarDekhoGoogleConversionScriptCode();}if(typeof U!=undefined&&U.LandingPageInfoLeadSource=="facebook"){addCarDekhoUsedCarFBConversionScriptCode();}}var V=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getLeadVerifiedPixelTrackerURL&carName="+failureCarModel+"&usedCar=Yes"}).responseText;if(V==""){V="https://images.cardekho.com/images/spacer.gif";}X=X+"<img src="+V+" alt='tracker'>";$("#submitResponsejquery").html(X);googleAdwordsTracking935210192Script();googleAdwordsTracking985612162Script();bingSearchAdScript("submitResponsejquery");set_Cookie("isLeadCapture","true",30,"/","","");set_Cookie("isUsedCarLeadCapture","true",30,"/","","");setValuesInCookie($("#ContactsellerPopupForm [name=userId]").val(),$("#ContactsellerPopupForm [name=emailId]").val(),$("#ContactsellerPopupForm [name=mobileNo]").val(),$("#ContactsellerPopupForm [name=cityName]").val(),$("#ContactsellerPopupForm [name=pinCode]").val());fbqTracking("submitResponsejquery","Lead","","UsedCarLead-Verified");}}}}}if(x=="76"){if(ak==("Show 50 car leads Msg for Dealer")){createGAClickEventTrackingAdWords("Used Car","Contact Seller limit Exceed","Contact Seller limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){usedCarLeadStatus="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{usedCarLeadStatus="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User,<br/><span class='MarginT10 FloatLeft'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}}if(x=="76"&&ak==("Show 10 car leads Msg")){createGAClickEventTrackingAdWords("Used Car","Contact Seller Daily limit Exceed","Contact Seller Daily limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){usedCarLeadStatus="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";}else{usedCarLeadStatus="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10 CommomnBlock'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10 FloatLeft'>Thank, You<br/>CarDekho.com</span></div></div>";}}if(x=="76"&&ak==("Show Crossed buyer Mobile No Verification Msg")){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidationExceed").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidationExceed").innerHTML;}}else{if(x=="76"&&ak==("Show Used Car Buyer Mobile No Verification")){window["mobileVerificationCallbackDataArray"]=new Array(basepath);window["mobileVerificationCallbackFunction"]="validateBuyerMobileMobileNumber";window["mobileNumberUpdateDataArray"]=new Array(dealerCallbackLeadCity,dealerCallbackLeadOemName,"",dealerCallbackLeadOemName);window["mobileNumberUpdateFunction"]="changeBuyerMobileNumberNew";var n=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&leadType="+x+"&lid="+U.leadid}).responseText;$("#buyerMobileNoValidation").html(n);updateMobileVerification();$("#popupContact").css("width","600px");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){document.getElementById("buyerMobileNoValidation").style.display="block";}else{var X=document.getElementById("buyerMobileNoValidation").innerHTML;}}else{if(ak==("Show Used Car Alert Msg")){createGAClickEventTrackingAdWords("Used Car","Contact Seller limit Exceed","Contact Seller limit Exceed");if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){parent.document.getElementById("getsellerDeatilIframe").style.height="435px";var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}else{var X="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User,<br/><span class='MarginT10 FloatLeft'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear FloatLeft'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";}}else{if(ak==("Used car has been sold  message")){X="<div class='CommonBlock'>Dear User,<br/><br/><div class='MarginT10 CommonBlock'>This car has been sold . You can search another car.</div><br/><span class='MarginT5 FloatLeft'>Thank, You<br/>CarDekho.com</span></div>";}else{if(usedCarLeadStatus!=""){var X=usedCarLeadStatus;}else{if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){if(F.length>3){if(Y=="NAD"){var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"<br/> Dealer Name : "+C+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}else{var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"<br/> Dealer Name : "+C+"<br/> Address : "+Y+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}}else{var X="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'><b>Thank You for using CarDekho.com.</b><br><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b> Seller Name   : "+j+"<br/> Phone Number : "+u+"</b><br/><div class='MarginT10'>Your details have been sent to the Seller. If the contact details of seller are incorrect please report to us.<br> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'Click Here to report\'>Click here to report</a>.</div></div></div></div>';}}else{if(F!=undefined&&F.length>3){if(Y=="NAD"){var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b class='MarginR20'> Seller Name : </b>  "+j+"<br/><b class='MarginR5'> Phone Number :</b> "+u+"<br/><b class='MarginR15'>Dealer Name :</b class='MarginR15'> "+C+"</span> </div> <br/><div class='MarginT10 Clear FloatLeft'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'If the contact details of seller are incorrect please report to us\'>If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';}else{var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b class='MarginR20'> Seller Name : </b>  "+j+"<br/><b class='MarginR5'> Phone Number :</b> "+u+"<br/><b class='MarginR15'>Dealer Name :</b class='MarginR15'> "+C+"<br/>  <div> <b class='FloatLeft W100'> Address :</b><span class='FloatLeft W278'> "+Y+"</span> </div> <br/><div class='MarginT10 Clear FloatLeft'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\'If the contact details of seller are incorrect please report to us\'>If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';}}else{var X="<div class='CommonBlock'><div class='FloatLeft MarginT5 Text12 LHight17'>Thank You for using CarDekho.com.<br/>we have send the seller details on your phone via SMS<br/><div class='Textleft PaddingT10'> Here are the details of seller :- <br/> <b style='margin-right:15px;'> Seller Name :</b>   "+j+"<br/><b> Phone Number :</b> "+u+"<br/><span class='navigation' style='margin-left:95px;' title='View Similar Cars' onclick='similarUsedCarForFilter(\""+basepath+'","'+h+'","","'+d.toLowerCase().replace(" ","-")+"\")'>View Similar Cars</span><div class='MarginT10'>Your details have been sent to the Seller.<br/> <a class='feedback' onClick='window.open(\""+basepath+'/feedback","FeedBack","address=no,width=600,height=340,left=430,top=240,scrollbars=no")\' title=\' If the contact details of seller are incorrect please report to us\'> If the contact details of seller are incorrect please report to us</a>.</div></div></div></div>';}if(typeof U!=undefined&&U.LandingPageInfoLead=="LandingPageInfoLead"){addCarDekhoGoogleConversionScriptCode();}}}}}}}}usedCarLeadStatus=X;if((ak.indexOf(",")!=-1||ak==("Show 10 car leads Msg")||ak==("Show 50 car leads Msg for Dealer")||ak==("Show Used Car Alert Msg"))&&contactSellerDetailPopup=="contactSellerDetailPopup"){var ae=$.ajax({type:"POST",url:basepath+"/getMobileVerificationUsedCarContactSellerByAjaxCall.do",async:false,data:"parameter=getPopUpCodeByAjaxCall&usedCarId="+h+"&city="+d+"&leadId="+""}).responseText;addCarDekhoGoogleConversionScript(ae);$("#newpopUpText").html(ae);$("#popupheaderx").html("Seller Details");$("#submitResponsejquery").html(X);showPopUp("popupContact","blankdivId","backgroundPopup");contactSellerDetailPopup="";leadSubmittedCallback();}if(ak.indexOf(",")!=-1&&allowSetAlert){setUsedCarMailAlert(h);allowSetAlert=false;document.getElementById("setalertinsellerdetail").innerHTML="";document.getElementById("setalerttxt").innerHTML="";document.getElementById("sellerdetailbuttondiv").className+=" PaddingT20";}if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){$("#popupheaderx").html("Seller Details");$("#usedCarResponce").html(X);document.getElementById("usedCarFormContainer").style.display="none";}else{if(x=="3"&&ak==("Show Used Car Buyer Mobile No Verification")){$("#popupheaderx").html("<div class='HeadingText Text20 Padding0 MarginT5 MarginB10'><strong>Please Verify Your Mobile Number</strong><div class='Text14 Black7a'></div></div>");$("#submitResponsejquery").addClass("Textcenter");}else{$("#popupheaderx").html("Seller Details");}$("#submitResponsejquery").html(X);facebookConversionCode("popupContact");if($("#hideLinkId").length>0){$("#submitResponsejquery a").css("color","#d3ae00");}}}else{if(x==44){addCarDekhoGoogleConversionScript(ak);fbqTracking("popupContact","NewCarLead-Verified");$("#popupheaderx").html("");var X="<div class='CommonBlock MarginB10'>Dear User,</div><div class='CommonBlock MarginB10'>Thank You for your details. We will contact you as soon as this car is launched.</div><div class='CommonBlock'>Thanks,</div><div class='CommonBlock'>CarDekho.com</div>";$("#submitResponsejquery").html(X);}else{if(x==47){var X="Ford Expert would call you soon.";$("#popupheaderx").html("Thank you");$("#submitResponsejquery").html(X);}else{if(x==51){$("#submitLeadPopup").submit();var f=document.URL;if(f.indexOf("car-deals-discount-offers-in-")!=-1){location.href=f;}}else{if(x=="80"){leadSubmittedCallback();$("#progressMsgx").show();$("#carDekhoLogoImageForPopup").hide();isOfferLeadVerfied="true";discountcity=convertFirstLetterCapital(discountcity);var ab=document.getElementById("dealerSelectGORPForm")[document.getElementById("dealerSelectGORPForm").selectedIndex];var g=$.ajax({type:"POST",url:basepath+"/getDiscountOfferDetailByAjaxCall.do",async:false,data:"parameter=getCarDiscountDetailByDiscountId&discountid="+discountId+"&carvariantid="+discountCarVariantId+"&currentcity="+discountcity+"&carmodel="+discountCarModel+"&filter="+discountFilter+"&pinCode="+$("#submitLeadPopup #pinCode").val()+"&dealerId="+$(ab).attr("data-id")}).responseText;$("#popupContact").html(g);facebookConversionCode("popupContact");fbqTracking("popupContact","NewCarLead-Verified");var W=$("#detailsForm");var am=W.parents("#leadpopup");showOrHideObj(W,am.find("#infoForm"));dealerId=$("#dcbthankupop #dealerId").val();var w="";if(dealerAndDiscountObj.dealerAndDisountCity==null||dealerAndDiscountObj.dealerAndDisountCity==""){w=$("#leadpopup #firstautocity").val();}else{w=dealerAndDiscountObj.dealerAndDisountCity;}var O=$("#dcbthankupop #dealerName").val();if(g!=""&&g!=null){sessioncity=dealerAndDiscountObj.dealerAndDisountCity;am.find("#detailsForm").html(g);var m="";var z="";if((m!=undefined&&m=="true")||O==""||O==undefined){if(z==undefined||z==""){$("#dealerName1").html("One of our representatives will connect you to the authorized dealer.");}else{$("#dealerName1").html("Our representative will connect you to a "+z+" dealer  soon.");}}else{$("#dealerName1").html("You will receive a call from <span>"+O+"</span> soon.");}}}}}}}}}}}}}}}}if(ak=="mobileVerificationActivated"||(x!=19&&x!=51)){if($("#popupheaderx").html()==""){var E=["responces","popupContactClosebutt"];var aj=["progressMsgx","popupheaderUsedCar","popupheaderUpcomingCar","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderTest","popupheaderOnRoad","myforms","popupheaderx","popupheaderDsicountOffer","popupheaderDelaeCallback"];}else{var E=["responces","popupheaderx","popupContactClosebutt"];var aj=["progressMsgx","popupheaderUsedCar","popupheaderUpcomingCar","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderTest","popupheaderOnRoad","myforms","popupheaderDsicountOffer","popupheaderDelaeCallback","brochuresdetails"];}showhidePopupElement(E,aj,x);}if($("#financeLeadForm [name=modelMake]").val()!=null){$("#uesdpromotionlead").html("");var A=$("#submitLeadPopup [name=modelMake]").val();if($("#financeLeadForm [name=modelMake]").val()!=null&&$("#financeLeadForm [name=modelMake]").val()!=""&&(A==null||A==""||A=="undefined")){A=$("#financeLeadForm [name=modelMake]").val();}var S=$("#submitLeadPopup [name=cityName]").val();if(S==null||S==""||S=="undefined"){S=$("#financeLeadForm [name=cityName]").val();}promotionAjax(0,A,S,"finance","uesdpromotionlead",0,"financeLeadForm");}if($("#submitLeadPopup [name=carName]").val()!=null&&$("#submitLeadPopup [name=carName]").val()!=""){$("#uesdpromotionlead").html("");var S=$("#submitLeadPopup [name=cityName]").val();if(S==null||S==""||S=="undefined"){S=$("#usedCarCity").val();}promotionAjax(0,$("#submitLeadPopup [name=carName]").val(),S,"usedcar","uesdpromotionlead",0);}if(x!=70){rectifyPopupTopPosition("popupContact");}}function googleAdwordsTracking935210192Script(){try{var b=document.createElement("script");b.setAttribute("type","text/javascript");b.innerHTML='var google_conversion_id = 935210192;var google_conversion_language = "en";var google_conversion_format = "3";var google_conversion_color = "ffffff";var google_conversion_label = "uOw6CIucu2IQ0Nn4vQM";var google_remarketing_only = false;';var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","//www.googleadservices.com/pagead/conversion.js");var d=document.createElement("div");d.innerHTML='<div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/935210192/?label=uOw6CIucu2IQ0Nn4vQM&amp;guid=ON&amp;script=0"/></div>';document.body.appendChild(b);document.body.appendChild(a);document.body.appendChild(d);}catch(c){console.log(c);}}function googleAdwordsTracking985612162Script(){try{var h=document.createElement("script");h.setAttribute("type","text/javascript");h.innerHTML='var google_conversion_id = 985612162;var google_conversion_language = "en";var google_conversion_format = "3";var google_conversion_color = "ffffff";var google_conversion_label = "aBkfCLbHzgcQgv_81QM";var google_conversion_value = "1.00";var google_conversion_currency = "INR";var google_remarketing_only = false;';var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src","//www.googleadservices.com/pagead/conversion.js");var d=document.createElement("div");d.innerHTML='<div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/985612162/?value=1.00&amp;currency_code=INR&amp;label=aBkfCLbHzgcQgv_81QM&amp;guid=ON&amp;script=0"/></div>';document.body.appendChild(h);document.body.appendChild(f);document.body.appendChild(d);}catch(g){console.log(g);}try{var e=document.createElement("script");e.setAttribute("type","text/javascript");e.innerHTML='var google_conversion_id = 879094700;var google_conversion_language = "en";var google_conversion_format = "3";var google_conversion_color = "ffffff";var google_conversion_label = "zsg4COK__GcQrNeXowM";var google_remarketing_only = false;';var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src","//www.googleadservices.com/pagead/conversion.js");var j=document.createElement("div");j.innerHTML='<div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/879094700/?label=zsg4COK__GcQrNeXowM&amp;guid=ON&amp;script=0"/></div>';document.body.appendChild(e);document.body.appendChild(c);document.body.appendChild(j);}catch(g){console.log(g);}try{var b=document.createElement("script");b.setAttribute("type","text/javascript");b.innerHTML='var google_conversion_id = 879094685;var google_conversion_language = "en";var google_conversion_format = "3";var google_conversion_color = "ffffff";var google_conversion_label = "5aGpCMe46GcQndeXowM";var google_remarketing_only = false;';var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","//www.googleadservices.com/pagead/conversion.js");var i=document.createElement("div");i.innerHTML='<div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/879094685/?label=5aGpCMe46GcQndeXowM&amp;guid=ON&amp;script=0"/></div>';document.body.appendChild(b);document.body.appendChild(a);document.body.appendChild(i);}catch(g){console.log(g);}}function focusOutFromPopup(a,f,j,g,h){createCONNECTOIDInCookies();createGAClickEventTrackingAdWords("Lead Popup","Lead Form",g);if(a<0){var e=$("#"+j+" [name=cityName] :selected").text();var b=$("#"+j+" [name=modelMake] :selected").val();var d=$("#"+j+" [name=carVariantIdhidden]").val();noLeadPopupHandler(e,b,d);return;}else{if(checkPopupFields("submitLeadPopup","submitButtom")){submitLeadRequest(a,f,j);}else{var i="brandError~carMake,modelError~modelMake,cityError~cityName,pinCode~pinCode,buyingTimeError~xdrpbuyday,userId~userId,emailId~emailId,mobileNo~mobileNo";if(!validateAllFieldsWithRedMark(i,"submitLeadPopup","submitButtom")||!$("#"+j+" [name=termCondition]").is(":checked")){callGTMLayerEvent("Error");}var c=1;if(!$("#"+j+" [name=termCondition]").is(":checked")){c=0;alert("Please Agree to Terms and Conditions");$("#"+j+" [name="+buttonName+"]").addClass("BtnGrey");return false;}}}}function resetDropDownByValue(e,a,f){var c=document.getElementById(e).elements[a];if(c!=undefined&&c.length>1){for(var b=c.length;b>=0;b--){c.remove(b);}}var d=document.createElement("option");d.value=f;d.text=f;c.options.add(d);}function fillForFormName(b,c,a){$("#"+b+" [name="+c+"]").removeClass("Incorrect");if(c=="mobileNo"){$("#"+b+" [id=mobileExtra]").removeClass("Incorrect");}if(a!=""){$("#"+a).html("");}}function noLeadPopupHandler(c,a,d){c=c.charAt(0).toUpperCase()+c.slice(1);if(isToShowPopup(c,a)){setCookie((c+a).replace(" ","").toLowerCase(),"true",1);window["nopopup"]=null;window["openleadPopuparguments"][3]=c;window["openleadPopup"].apply(this,window["openleadPopuparguments"]);}else{if(typeof d==="undefined"||d.length<1){var f=basepath+"/"+modelUrlsFromName(a,"MODEL_PRICE",c);window.location=f;return;}else{var e="nonlead=true&carModelName="+a+"&cityName="+c+"&carVariantId="+d;var b=basepath+"/showExShowRoomPrice.do";$("#popupContact").css("width","");window["noLeadPopupHandlerarguments"]=arguments;sendAjax(b,e,19,"getVariantPriceByAjax");settlePopupElements();checkPopupFields("submitLeadPopup","submitButtom");centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");return;}}}function checkPopupFields(g,i){var b=$("#"+g+" [name=xdrpbuyday]").val();var d=/^(0|[1-9][0-9]*)$/;handleDuplicateCityCase(g);try{setValuesLeadCaptureCase(g);var a=$("#leadId").val();if(isCarLeadCapture(a)!=undefined&&isCarLeadCapture(a)=="true"){b="30";}}catch(f){}var j=d.exec($("#"+g+" [name=pinCode]").val());if($("#"+g+" [name=carMake]").val()==""||$("#"+g+" [name=modelMake]").val()==""||$("#"+g+" [name=modelMake]").val()==undefined||$.trim($("#"+g+" [name=cityName]").val())==""||$("#"+g+" [name=userId]").val()==""||isEmpty($("#"+g+" [name=userId]").val())||isInCorrectName($("#"+g+" [name=userId]").val())||$("#"+g+" [name=userId]").val()=="Full Name"||$("#"+g+" [name=userId]").val()=="Name"||$("#"+g+" [name=emailId]").val()=="Email"||$("#"+g+" [name=emailId]").val()==""||isInCorrectEmailAddress($("#"+g+" [name=emailId]").val())||$("#"+g+" [name=mobileNo]").val()==""||$("#"+g+" [name=mobileNo]").val()=="Mobile No."||isInCorrectMobileNumber($("#"+g+" [name=mobileNo]").val())||!isPhoneNumber($("#"+g+" [name=mobileNo]").val())||($("#"+g+" [name=pinCode]").val()).length>6||$("#"+g+" [name=pinCode]").val()==""||$("#"+g+" [name=pinCode]").val()==0||$("#"+g+" [name=pinCode]").val()=="Pin Code"||j==null||$("#"+g+" [name=cityName]").val()==null||$("#"+g+" [name=cityName]").val()==""||isEmpty($("#"+g+" [name=cityName]").val())){$("#"+g+" [name="+i+"]").addClass("BtnGrey");return false;}else{var a=$("#leadId").val();leadTypeForGTMTracking=a;setValuesInCookie($("#"+g+" [name=userId]").val(),$("#"+g+" [name=emailId]").val(),$("#"+g+" [name=mobileNo]").val(),$("#"+g+" [name=cityName]").val(),$("#"+g+" [name=pinCode]").val());}if(b==""||(b==-1&&(document.getElementById("popupbuyerdays")==undefined||document.getElementById("popupbuyerdays").style.display!="none"))){$("#"+g+" [name="+i+"]").addClass("BtnGrey");return false;}if(isCarLeadCapture()!=undefined&&isCarLeadCapture()=="true"){}else{if(isMultiDealer){var h=selectedDealers("dealerSelection");if($("#"+g+" [name=optiondealercallback]").length>0){if($("#"+g+" [name=optiondealercallback]:checked").length<1){$("#"+g+" [name=optiondealercallback]").parent().addClass("Incorrect");$("#dealerCallbackHolder").addClass("IncorrectFill");return false;}else{$("#dealerCallbackHolder").removeClass("IncorrectFill");$("#"+g+" [name=optiondealercallback]").parent().removeClass("Incorrect");}if($("#"+g+" [name=optiondealercallback]:checked").val()=="Yes"&&h.length==0){$("#"+g+" [name="+i+"]").addClass("BtnGrey");$("#dealerCallBackError #scroll").addClass("IncorrectFill");return false;}else{$("#"+g+" [name="+i+"]").removeClass("BtnGrey");$("#dealerCallBackError #scroll").removeClass("IncorrectFill");}if($("#"+g+" [name=optiondealercallback]:checked").val()==undefined||$("#"+g+" [name=optiondealercallback]:checked").val()==""||$("#"+g+" [name=optiondealercallback]:checked").val()=="No"){$("#dealerCallBackDiv").hide();}}else{$("#dealerCallbackHolder").removeClass("IncorrectFill");$("#"+g+" [name=optiondealercallback]").parent().removeClass("Incorrect");}}else{if($("#"+g+" [name=optiondealercallback]").length>0){if($("#"+g+" [name=optiondealercallback]:checked").length<1){$("#"+g+" [name=optiondealercallback]").parent().addClass("Incorrect");$("#dealerCallbackHolder").addClass("IncorrectFill");return false;}else{$("#dealerCallbackHolder").removeClass("IncorrectFill");$("#"+g+" [name=optiondealercallback]").parent().removeClass("Incorrect");}if($("#"+g+" [name=optiondealercallback]:checked").val()=="Yes"&&$("#dealerCallBackDiv").is(":visible")&&$("select#dealerSelectGORPForm option").length>1){if($("#"+g+" [name=dealerSelectGORPForm]").val()==undefined||$("#"+g+" [name=dealerSelectGORPForm]").val()==""){$("#"+g+" [name="+i+"]").addClass("BtnGrey");$("#dealerCallBackError").addClass("IncorrectFill");return false;}else{$("#"+g+" [name="+i+"]").removeClass("BtnGrey");$("#dealerCallBackError").removeClass("IncorrectFill");}}}else{$("#dealerCallbackHolder").removeClass("IncorrectFill");$("#"+g+" [name=optiondealercallback]").parent().removeClass("Incorrect");}}}var c=1;if(!$("#"+g+" [name=termCondition]").is(":checked")){c=0;$("#"+g+" [name="+i+"]").addClass("BtnGrey");return false;}$("#"+g+" [name="+i+"]").removeAttr("disabled");$("#"+g+" [name="+i+"]").removeClass("BtnGrey");if(isMultiDealer){$("#PermotionsAndExchangeWraper").css({"display":"none"});$("#PopUPpromotionlead").css({"display":"none"});}else{$("#PopUPpromotionlead").css({"display":"block"});}if(b==-1){$("#xdrpbuyday option:contains('-Buying Time Period-')").removeAttr("selected");$("#xdrpbuyday option:contains('Just Researching')").attr("selected","selected");}return true;}function checkDealerLogin(leadId,LeadType,formId){var showPopUp="";var emailId=$("#"+formId+" [name=emailId]").val();var mobile=$("#"+formId+" [name=mobileNo]").val();$.ajax({type:"POST",url:basepath+"/usedCarAdminCallAction.do",async:false,data:"parameter=checkDealerLogin&userId="+emailId+"&Mobile="+mobile,success:function(data){if(data!=null){var data1=eval(data);$.each(data1,function(i,item){showPopUp=item.showPopUp;if(item.name!=undefined){$("#"+formId+" [name=userId]").val(item.name);}if(item.emailid!=undefined){$("#"+formId+" [name=emailId]").val(item.emailid);}if(item.MobileNo!=undefined){$("#"+formId+" [name=mobileNo]").val(item.MobileNo);}});}}});if(leadId=="3"&&LeadType=="usedcar"&&showPopUp=="True"){$("#registerHere").hide();leadFormId=formId;enterLeadsx("","loginform");return false;}else{return true;}}function createLeadPopUpGAClickEvent(a){var d="Lead Popup";try{if(window["awLanding"]!=undefined&&window["awLanding"]!=""){d=pagecategory;}}catch(b){}try{$("#backgroundPopup").css("display","none");createGAClickEventTrackingAdWords(d,leadPopupGAEvent,a);}catch(c){}}var autoCompleteSelected=false;function fillCityByPincode(){var a=jQuery.trim($("#submitLeadPopup [name=pinCode]").val());if(!autoCompleteSelected&&a!=""&&a!="Pin Code"&&a.length==6&&a.charAt(0)!=0){cityNameByPincode=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getCityByPinCode&pincode="+a}).responseText;if(cityNameByPincode!=""){$('#submitLeadPopup  #cityName option[value="'+cityNameByPincode+'"]').attr("selected","selected");$("#submitLeadPopup  #cityName_flexselect").val(cityNameByPincode);}}}function fnNotAlphabetError(c){var b=c.keyCode?c.keyCode:c.which?c.which:c.charCode;var a=String.fromCharCode(b);if("'-".indexOf(a)!=-1&&(c.keyCode==c.which||c.keyCode==0||c.which==undefined)){b=100;}if((b>=48&&b<=57)||(b==45||b==13||b==8||b==9)||(c.shiftKey!=1&&b>=35&&b<=40)){return true;}else{return false;}}function setValuesLeadCaptureCase(d){var a=getCookie("LeadData");a=decodeURIComponent(a);var c=Base64.decode(a);if(c!=undefined&&c!=""){var b=c.split("~");if(isLeadMobileVerify&&b[0]!=""&&($("#"+d+" [name=userId]").val()==undefined||$("#"+d+" [name=userId]").val()==""||$("#"+d+" [name=userId]").val()=="Full Name"||$("#"+d+" [name=userId]").val()=="Name")){$("#"+d+" [name=userId]").val(b[0]);}if(isLeadMobileVerify&&b[1]!=""&&($("#"+d+" [name=emailId]").val()==undefined||$("#"+d+" [name=emailId]").val()==""||$("#"+d+" [name=emailId]").val()=="Email")){$("#"+d+" [name=emailId]").val(b[1]);}if(isLeadMobileVerify&&b[2]!=""&&($("#"+d+" [name=mobileNo]").val()==undefined||$("#"+d+" [name=mobileNo]").val()==""||$("#"+d+" [name=mobileNo]").val()=="Mobile No.")){$("#"+d+" [name=mobileNo]").val(b[2]);}if(isLeadMobileVerify&&b[3]!=""&&($("#"+d+" [name=cityName]").val()==undefined||$("#"+d+" [name=cityName]").val()=="")){$("#"+d+" [name=cityName]").val(b[3]);}if(isLeadMobileVerify&&b[4]!=""&&($("#"+d+" [name=pinCode]").val()==undefined||$("#"+d+" [name=pinCode]").val()==""||$("#"+d+" [name=pinCode]").val()=="Pin Code")){$("#"+d+" [name=pinCode]").val(b[4]);}if(isLeadMobileVerify&&($("#"+d+" [id=cityName_flexselect]").length>0)){$("#"+d+" [id=cityName_flexselect]").val(b[3]);}if(isLeadMobileVerify&&($("#"+d+" [name=xdrpbuyday]").val()==undefined||$("#"+d+" [name=xdrpbuyday]").val()==""||$("#"+d+" [name=xdrpbuyday]").val()=="-1")){$("#"+d+" [name=xdrpbuyday]").val("30");$("#buyingTimeError #buyingTime").text("1 Month");}if($("#"+d+" [name=optiondealercallback]").length>0){if($("#"+d+" [name=optiondealercallback]:checked").length<1){$("#dealerLoader").hide();$("#multiSelect").hide();$("#optiondealercallbackNo").attr("checked",true);$("#dealerCallBackDiv").hide();}}}}var usedCarLeadStatus="";var discountOfferMobileNumVerification="";function submitLeadRequest(w,K,z){$("#submitResponsejquery").html("");$("#popupheaderx").html("");var c="";var G=$("#fuelType").val();if($("#"+z+" [name=tyreOffer]").is(":checked")){var A=1;}if(K=="finance"&&$("#"+z+" #usedcar").is(":checked")){w=21;}var F;if($("#"+z+" #pridrpbuyday").val()!=null&&$("#"+z+" #pridrpbuyday").val()!=""&&$("#"+z+" #pridrpbuyday").val()!="-1"){F=$("#"+z+" #pridrpbuyday").val();if(F==""){$("#pridrpbuyday").val();}}else{F=$("#"+z+" [name=xdrpbuyday]").val();if($("#"+z+" #pridrpbuyday").length>0){$("#"+z+" #pridrpbuyday").val(F);}else{$("#pridrpbuyday").val(F);}}var s=0;if(w=="3"||w=="64"||w=="76"){if(w==3){failureLeadId=3;}s=$("#usedCarId").val();}if(K=="finance"||$("#"+z+" [name=financetest]").is(":checked")){c="yes";financeEntry=2;}var x=jQuery.trim($("#"+z+" [name=emailId]").val());$("#"+z+" [name=emailId]").val(x);if($("#"+z+" [name=userId]").val()=="Full Name"||$("#"+z+" [name=userId]").val()=="Name"){alert("Please Enter Your Full Name");$("#"+z+" [name=userId]").val("");$("#"+z+" [name=userId]").focus();return false;}if(!validateName(z,"userId","Please Enter Your Full Name")){document.getElementById("exchangeCheckBox").checked=false;return false;}if($("#"+z+" [name=emailId]").val()=="Enter Your Email Address"||$("#"+z+" [name=emailId]").val()=="Email"){alert("Please Enter Your Valid Email Id");$("#"+z+" [name=emailId]").focus();return false;}if(!validateEmail(z,"emailId")||!validateMobileNumber(z,"mobileNo",w)||!validateSelectBox(z,"cityName","City")){document.getElementById("exchangeCheckBox").checked=false;return false;}var d;if(document.getElementById("contactsellerDiv")!=null){d=$("#contactsellerDiv").attr("class");}if(document.getElementById("contactsellerDiv")!=null&&d.indexOf("Block")!=-1){if($("#"+z+" [name=contactsellerPinCode]").val()==null||$("#"+z+" [name=contactsellerPinCode]").val().length<6||$("#"+z+" [name=contactsellerPinCode]").val()=="Enter Pin Code"){alert("Please Enter Your Valid Pin Code");$("#"+z+" [name=contactsellerPinCode]").focus();return false;}document.getElementById("pinCode").value=document.getElementById("contactsellerPinCode").value;}else{if($("#"+z+" [name=pinCode]").val()==null||$("#"+z+" [name=pinCode]").val().length<6||$("#"+z+" [name=pinCode]").val()=="Enter Pin Code"||$("#"+z+" [name=pinCode]").val()=="Enter Pin Code"||$("#"+z+" [name=pinCode]").val()=="Pin Code"){alert(failureLeadId);alert("Please Enter Your Valid Pin Code");$("#"+z+" [name=pinCode]").focus();return false;}}if(!validateSelectBox(z,"carMake","Car Brand")||!validateSelectBox(z,"modelMake","Car Model Name")){document.getElementById("exchangeCheckBox").checked=false;return false;}var B=1;if(!$("#"+z+" [name=termCondition]").is(":checked")){B=0;alert("Please Agree to Terms and Conditions");return false;}if(checkDealerLogin(w,K,z)==false){return false;}var e="";if($("#"+z+" [id=cityName_flexselect]").val()!=undefined){e=$("#"+z+" [id=cityName_flexselect]").val();}else{e=$("#"+z+" [name=cityName]").val();}e=$.trim(e);if(e==""){alert("Please Select City");return false;}var E=$("#"+z+" [name=emailId]").val();var o=$("#"+z+" [name=userId]").val();var D=$("#"+z+" [name=mobileNo]").val();var p=$("#"+z+" [name=pinCode]").val();var j=$("#"+z+" [name=zipCodeId]").val();if(j==null||j==""){j=0;}var m=$("#"+z+" [name=modelMake]").val();var I=$("#"+z+" [name=carMake]").val();var g={};g.model=m;g.brand=I;g.leadtype=w;g.city=e;window["gtmdata"]=g;var t="";if($("#"+z+" [name=optiondealercallback]").length>0){if(pageLocation.indexOf("Skip")==-1){if(pageLocation.indexOf("TalkToDealer")==-1){callGTMLayerEvent("Submit");}}else{callGTMLayerEvent("AlreadyVerified");}var v=$("#"+z+" [name=optiondealercallback]:first").prop("checked");if($("#"+z+" [name=optiondealercallback]:checked").val()=="Yes"){var M=$("#"+z);if(isMultiDealer){var S=selectedDealers("dealerSelection");t=S.join(",");}else{var Q=M.find("#dealerSelectGORPForm option:selected");var J=Q.val();t=Q.data("id");var L=Q.data("number");}}if(v){window.closePopupHookFunction="closePopupHook";}}var l=$("#"+z+" [name=checkBoxValue]").val();var k="&flagExchange="+flagExchange;var r=w;if(l=="1"){var a=$("#"+z+" [name=exchangeModelMake]").val();var R=$("#"+z+" [name=exchangeCarMake]").val();var h=$("#"+z+" [name=exchangeLeadYear]").val();if(R==null||R==""||a==null||a==""||h==null||h==""){if(duplicateEntry==2){if(R==null||R==""){$("#exchangeBrandBorder > div").addClass("Incorrect");}if(a==null||a==""){$("#exchangeModelBorder > div").addClass("Incorrect");}if(h==null||h==""){$("#exchangeYearBorder > div").addClass("Incorrect");}return false;}k="&flagExchange="+flagExchange;}else{if(a!=""&&R!=""&&h!=""){l=1;r=46;flagExchange=2;exchangeLeadEntry=2;k="&chekBoxValue="+l+"&year="+h+"&exchangeLeadModelName="+a+"&exchangeLeadOemName="+R+"&expectedPrice=&kilometer=&flagExchange="+flagExchange;}}}if(w!=44&&w!=3&&w!=76&&!carBuyerDaysSet("myforms","progressMsgx","pridrpbuyday",F,z)){return false;}if(w==20&&pageLocation=="landingPageInfoLead"){submitNewCarFinanace(w,K,z,2);return false;}var u=$("#"+z+" [name=carVariantIdhidden]").val();if(u==null){u="";}g.variant=u;var q=[];$.each($("#"+z+' input[name="caradsinfo"]:checked'),function(){q.push($(this).val());});var n="";var y="";for(var O=0;O<q.length;O++){y=y+","+promotionsLeadSubmit(q[O],"dropDown"+q[O],"dropDown1"+q[O],"additionalField"+q[O],z);}if(y.indexOf("undefined")!=-1){y=y.replace("undefined,","");y=y.replace("undefined","");}n=y.substring(y.indexOf(",")+1,y.length);additionalFields=jQuery.trim(additionalFields);if(additionalFields.charAt(additionalFields.length-1)==","){additionalFields=additionalFields.substring(0,additionalFields.lastIndexOf(","));}if(additionalFields==","){additionalFields="";}additionalFields=additionalFields.replace("&","~");sessioncity=e;$("[name=emailId]").val(E);$("[name=userId]").val(o);$("[name=mobileNo]").val(D);if(w=="19"){var H=basepath+"/"+modelUrlsFromName(m,"MODEL_PRICE",e);$("#forwordUrl").val(H);}var C=["progressMsgx"];var P=["popupheaderUsedCar","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderTest","popupheaderOnRoad","myforms","popupContactClosebutt","responces","popupheaderx","PopUPpromotionlead","touchWithFordExpert","popupheaderDsicountOffer","popupheaderFinance","popupheaderDealerDetail"];if((w=="3"||w=="76")&&$("#ContactsellerfilterfrmId")!=null&&$("#ContactsellerfilterfrmId")!=undefined){$("#ContactsellerfilterfrmId").hide();}if(l!=1&&w!="70"&&w!="76"){showhidePopupElement(C,P);visibilityForIE("hidden");centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");}if(a!=""&&R!=""&&h!=""&&l==1){showhidePopupElement(C,P);visibilityForIE("hidden");}$("#"+s+"Plus").removeClass("openpluse closeplusepos");$("#"+s+"Plus").addClass("openpluse openplusepos");if(u!=undefined&&u!=""){flagOnRoad=true;}if(w=="19"&&(u==undefined||u=="")){createGAClickEventTrackingAdWords("enquiry","Model Price Lead","enquiry-city-modelpricepage");}if((w=="1"&&flagDiscount)||(w=="2"&&flagTestDrive)||((w=="19")&&flagOnRoad)||((w=="20"||w=="21")&&flagFinance)||(w=="3")||(w=="76")||(n!=""&&n!=",")||(w=="42")||(w=="44")||(w=="47")||(w=="48")||(w=="51")||(w=="64")||(w=="70")||(w=="80")){if(w=="80"){e=discountcity;}var b="leadType="+r+"&userId="+o+"&emailId="+encodeURIComponent(E)+"&mobileNo="+D.substring(D.length-10,D.length)+"&pinCode="+p+"&carName="+m+"&carVariantId="+u+"&oemName="+I+"&carDetailUrl="+window.location.href+"&usedCarId="+s+"&finance="+c+"&cityName="+e+"&carBuyerDays="+F+"&userAdsInfo="+n+"&additionalFieldFirst="+additionalFields+"&termCondition="+B+"&leadLocation="+pageLocation+k+"&fuelType="+G+"&zipCodeId="+j+"&tyreOffer="+A+"&dealerCallBackId="+t;b+="&optionDealerCallback="+v;var f=basepath+"/leadSubmit.do";if(w=="19"){f=basepath+"/carLeadsAction.do?parameter=processLead";}var N="leadResponse";if(w=="42"){b=b+document.getElementById("sendingDealerDetail").value;document.getElementById("showroomLeadCity").value=e;document.getElementById("userMobileNo").value=D;}dealerCallbackLeadOemName=I;dealerCallbackLeadCarName=m;dealerCallbackLeadCarVariantId=u;dealerCallbackLeadCity=e;userPincode=p;if(flagExchange==1&&l==1){if(duplicateEntry!=1&&duplicateEntry!=3){return true;}duplicateEntry=2;$.ajax({type:"POST",url:f,data:b,success:function(T){if(w=="1"){flagDiscount=false;}else{if(w=="2"){flagTestDrive=false;}else{if(w=="19"){flagOnRoad=false;}else{if(w=="20"||w=="21"){flagFinance=false;}else{if(w=="42"){dealerdata=T;}else{if(w=="80"){if(T!="ERROR"){try{var i=$.parseJSON(T);discountOfferMobileNumVerification=i.message;}catch(U){var i={};i["lid"]=0;}}}}}}}}}});exchangeLeadAlreadySubmitted=true;return true;}$("#promotionlead").html("");flagExchange=1;$("#exchangeDataFields").css("display","none");if((w!="3"||w!="64"||w!="76")&&w!=70){setDefaultExchangeLeadValue();}duplicateEntry=0;sendAjax(f,b,w,N);if(w=="80"){$("#popupheaderDiscountOffer").hide();}if(w=="3"){$("#popupContact #usedCarPopupUserDetail").hide();}}else{if(w=="70"||w=="1"||w=="2"){dealerCallbackLeadOemName=I;dealerCallbackLeadCarName=m;dealerCallbackLeadCarVariantId=u;dealerCallbackLeadCity=e;userPincode=p;}if(flagExchange==1&&l==1){blockOpen=2;duplicateEntry=2;return false;}else{duplicateEntry=0;if(document.getElementById("exchangeCheckBox")!=null&&document.getElementById("exchangeCheckBox").checked){flagExchange=1;var b="leadType="+r+"&userId="+o+"&emailId="+E+"&mobileNo="+D.substring(D.length-10,D.length)+"&pinCode="+p+"&carName="+m+"&carVariantId="+u+"&oemName="+I+"&carDetailUrl="+window.location.href+"&usedCarId="+s+"&finance="+c+"&cityName="+e+"&carBuyerDays="+F+"&userAdsInfo="+n+"&additionalFieldFirst="+additionalFields+"&termCondition="+B+"&leadLocation="+pageLocation+k+"&fuelType="+G+"&zipCodeId="+j+"&tyreOffer="+A;var f=basepath+"/leadSubmit.do";if(w=="19"){f=basepath+"/carLeadsAction.do?parameter=processLead";}var N="leadResponse";$("#exchangeDataFields").css("display","none");document.getElementById("exchangeCheckBox").checked=false;sendAjax(f,b,w,N);}else{setDefaultExchangeLeadValue();leadResult(usedCarLeadStatus,w);}}}if(pageLocation.indexOf("Skip")==-1&&usedCarId==""){if(pageLocation.indexOf("TalkToDealer")==-1){callGTMLayerEvent("Submit");}}else{if(usedCarId==""){callGTMLayerEvent("AlreadyVerified");}}return true;}function carBuyerDaysSet(d,a,b,e,c){if(e!="-1"&&e!=""){if(!$("#exchangeCheckBox").is(":checked")||flagExchange!=1){$("#"+d).hide();$("#"+a).show();$("#popupbuyerdays").hide();if($("#fuleTypeDiv").attr("style")!=null&&($("#fuleTypeDiv").attr("style").indexOf("DISPLAY: none")==-1||$("#fuleTypeDiv").attr("style").indexOf("display: none;")==-1)){$("#popUpDivContainer").removeClass("MarginL48");$("#popUpDivContainer").removeClass("MarginL167");}else{if($("#fuleTypeDiv").attr("style")!=null&&($("#fuleTypeDiv").attr("style").indexOf("DISPLAY: none")!=-1||$("#fuleTypeDiv").attr("style").indexOf("display: none;")!=-1)){$("#popUpDivContainer").removeClass("MarginL48");$("#popUpDivContainer").removeClass("MarginL230");$("#popUpDivContainer").addClass("MarginL167");}}$("#popupbuyerdaysprice").hide();$("#popupbuyerdaysprice").removeClass("margintopten");}$("#"+c+" [name="+b+"]").val(e);}else{alert("Please Select Your Choice For Buying Time");return false;}return true;}function callGTMLayerEvent(d,b,e,c){var a=new Object();a.gtmEvent=d;a.gtmDbcOffer=b;a.gtmLocation=pageLocation;a.gtmfieldname=e;a.gtmcity=c;GTMLayerTracker(a);}function GTMLayerTracker(a){switch(a.gtmEvent){case"Click":gtmEventClickValue="leadbuttonclick";break;case"Open":gtmEventClickValue="leadformopen";break;case"Submit":gtmEventClickValue="leadformsubmit";break;case"AlreadyVerified":gtmEventClickValue="leadformalreadyverified";break;case"Verified":gtmEventClickValue="leadformverified";break;case"Error":gtmEventClickValue="leadformerrors";break;case"Filled":gtmEventClickValue="leadformfilled";break;case"FirstSubmit":gtmEventClickValue="leadformfirstsubmit";break;case"OtpOpen":gtmEventClickValue="otpformopen";break;case"DealerOpen":gtmEventClickValue="dealerformopen";break;case"DealerSubmit":gtmEventClickValue="dealerformsubmit";break;case"NotOpen":gtmEventClickValue="formnotshown";break;case"NotOpenLead":gtmEventClickValue="leadsubmitformnotshown";break;case"CityPopUpOpen":gtmEventClickValue="citypopupopen";break;case"CityPopUpSubmit":gtmEventClickValue="citypopupsubmit";break;default:break;}if(autoOpenPopup!=undefined&&autoOpenPopup!=""){gtmEventClickValue=gtmEventClickValue+autoOpenPopup;}if(a.gtmDbcOffer!=undefined&&a.gtmDbcOffer!=""){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"dcb_offer":a.gtmDbcOffer,});}else{if(a.gtmDbcOffer!=undefined){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"fieldname":a.gtmfieldname,});}else{if(a.gtmcity!=undefined&&a.gtmcity!=""){dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,"citypopup":a.gtmcity,});}else{dataLayer.push({"event":gtmEventClickValue,"leadlocation":a.gtmLocation,});}}}}function isToShowPopup(b,a){var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=isLeadPopupRequiredToShow&city="+b+"&carModel="+a}).responseText;if(c==="success"){return true;}else{return false;}}function sendAjax(c,d,a,e){if(a!=70){$("#popupContact").addClass("W125");$("#popupContact .process-indicator").addClass("MarginL20");$("#popupContact .FormBox").removeClass("MarginB10");$("#popupContact .FormBox").addClass("MarginB5");rectifyPopupLeftPosition("popupContact");}$("#progressMsgx").show();$("#carDekhoLogoImageForPopup").hide();var b="";$.ajax({type:"POST",url:c,data:d,dataType:"text",success:function(f){if(f!="ERROR"){window[e](f,a);}}});}function leadResponse(b,a){if(b==("Please Enter Proper Email-Id.")){alert("Please Enter Proper Email-Id.");getPopupForFailureLeadId(failureLeadId);}else{if(b==("Please Enter Proper User-Id.")){alert("Please Enter Proper User-Id.");getPopupForFailureLeadId(failureLeadId);}else{if(b==("Please Enter Proper Mobile Number.")){alert("Please Enter Proper Mobile Number.");getPopupForFailureLeadId(failureLeadId);}else{if(b==("Please Enter Proper City Name.")){alert("Please Enter Proper City Name.");getPopupForFailureLeadId(failureLeadId);}else{if(b==("Please Enter Proper Pin Code.")){alert("Please Enter Proper Pin Code.");getPopupForFailureLeadId(failureLeadId);}else{if(b==("Please Check Mandatory Fields")){alert("Please Check Mandatory Fields");getPopupForFailureLeadId(failureLeadId);}else{if(b.indexOf("You are not authenticated User")>=0){alert("You are not authenticated User");}else{additionalField3="";additionalFields="";leadResult(b,a);}}}}}}}}function checkForTermsAndConditions(c,a){var b=1;if(!$("#"+c+" [name=termCondition]").is(":checked")){b=0;alert("Please Agree to Terms and Conditions");$("#"+c+" [name="+a+"]").addClass("BtnGrey");return false;}checkPopupFields(c,a);}var exchangeLeadAlreadySubmitted=false;function getExchangeLeadShowHideNew(a){if($("#exchangeCheckBox").is(":checked")){document.getElementById("checkBoxValue").value="1";duplicateEntry=3;var b="brandError~carMake,modelError~modelMake,cityError~cityName,pinCode~pinCode,buyingTimeError~xdrpbuyday,userId~userId,emailId~emailId,mobileNo~mobileNo";if($("#popupbuyerdays").attr("style")!=undefined&&$("#popupbuyerdays").attr("style").indexOf("display: none")==-1&&$("#xdrpbuyday").val()=="-1"){$("#xdrpbuyday option:contains('-Buying Time Period-')").removeAttr("selected");$("#xdrpbuyday option:contains('Just Researching')").attr("selected","selected");}if(!validateAllFieldsWithRedMark(b,"submitLeadPopup","submitButtom")){if(blockOpen==2){blockOpen=1;document.getElementById("exchangeCheckBox").checked=true;$("#"+a).toggle();}else{$("#exchangeBrand").html("-Brand-");$("#exchangeModel").html("-Model-");$("#exchnageYear").html("-Year-");$("#exchangeCarLowerText").html("We get 24 lac monthly searches for used car");document.getElementById("exchangeCheckBox").checked=false;document.getElementById("checkBoxValue").value="0";}return false;}else{if(!exchangeLeadAlreadySubmitted){submitLeadRequest(tempLeadId,tempLeadType,"submitLeadPopup");}$("#exchangeCarLowerText").html("Please share your current car details");$("#"+a).toggle();}}else{$("#exchangeBrand").html("-Brand-");$("#exchangeModel").html("-Model-");$("#exchnageYear").html("-Year-");$("#exchangeCarLowerText").html("We get 24 lac monthly searches for used car");$("#"+a).toggle();setDefaultExchangeLeadValue();}}function validateAllFieldsWithRedMark(b,h,k){var j=b.split(",");var e=0;var c="";for(var d=0;d<j.length;d++){var g=j[d].split("~");if(g[1]=="carMake"){if($("#"+h+" [name=modelMake]").val()==""){e=1;$("#"+g[0]).addClass("Incorrect");}else{$("#"+g[0]).removeClass("Incorrect");c=$("#"+h+" [name=carMake]").val();}}if(g[1]=="modelMake"){if($("#"+h+" [name=modelMake]").val()==""||$("#"+h+" [name=modelMake]").val()==null){e=1;$("#"+g[0]).addClass("Incorrect");}else{$("#"+g[0]).removeClass("Incorrect");}}if(g[1]=="cityName"){if($.trim($("#"+h+" [name=cityName]").val())==""){e=1;$("#"+g[1]+"_flexselect").addClass("Incorrect");}else{$("#"+g[1]+"_flexselect").removeClass("Incorrect");}}if(document.getElementById("xdrpbuyday")!=null&&g[1]=="xdrpbuyday"){if($("#"+h+" [name=xdrpbuyday]").val()=="-1"){e=1;$("#"+g[0]).addClass("Incorrect");}else{$("#"+g[0]).removeClass("Incorrect");}}if(g[1]=="userId"){if(!validateNameError(h)){e=1;}}if(g[1]=="pinCode"){var a=$("#leadId").val();var f=hidePinCodeForTieUpOem(a,c,h,g[1]);if(f=="false"&&!validatePopupPincode()){e=1;}}if(g[1]=="emailId"){if(!validateEmailError(h,"emailId","emailErrorMessage")){e=1;}}if(g[1]=="mobileNo"){if(!validateMobileNumberPopup(h,k)){e=1;}}}checkPopupFields(h,k);if(e==1){return false;}else{return true;}}function validateName(c,a,b){$("#"+c+" [name="+a+"]").val($.trim($("#"+c+" [name="+a+"]").val()));if($("#"+c+" [name="+a+"]").val()==""||isEmpty($("#"+c+" [name="+a+"]").val())||isInCorrectName($("#"+c+" [name="+a+"]").val())){alert(b);$("#"+c+" [name="+a+"]").val("");$("#"+c+" [name="+a+"]").focus();return false;}return true;}function validateEmail(b,a){$("#"+b+" [name="+a+"]").val($("#"+b+" [name="+a+"]").val().replace(/ /g,""));if($("#"+b+" [name="+a+"]").val()==""||isInCorrectEmailAddress($("#"+b+" [name="+a+"]").val())){alert("Please Enter Your Valid Email Id");$("#"+b+" [name="+a+"]").val("");$("#"+b+" [name="+a+"]").focus();return false;}return true;}function validateNameError(b){var a=jQuery.trim($("#"+b+" [name=userId]").val());$("#"+b+" [name=userId]").val(a.replace(/\s{2,}/g," "));if(isInCorrectName($("#"+b+" [name=userId]").val())||isEmpty($("#"+b+" [name=userId]").val())||$("#"+b+" [name=userId]").val()=="Name"){$("#"+b+" [name=userId]").addClass("Incorrect");$("#nameErrorMessage").html("Incorrect name");$("#"+b+" [name=userId]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+b+" [name=submitButtom]").addClass("BtnGrey");return false;}else{if($("#"+b+" [name=userId]").val()==""||$("#"+b+" [name=userId]").val()=="Full Name"){$("#"+b+" [name=userId]").addClass("Incorrect");$("#nameErrorMessage").html("");$("#"+b+" [name=userId]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+b+" [name=submitButtom]").addClass("BtnGrey");return false;}}$("#"+b+" [name=userId]").css({"border":"1px solid #ACACAC","color":"#2D2D2D"});checkPopupFields("submitLeadPopup","submitButtom");return true;}function validateEmailError(c,a,b){$("#"+c+" [name="+a+"]").val($("#"+c+" [name="+a+"]").val().replace(/ /g,""));if($("#"+c+" [name="+a+"]").val()==""||$("#"+c+" [name="+a+"]").val()=="Email"){$("#"+c+" [name="+a+"]").addClass("Incorrect");$("#"+b).html("");$("#"+c+" [name="+a+"]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+c+" [name=submitButtom]").addClass("BtnGrey");return false;}else{if(isInCorrectEmailAddress($("#"+c+" [name="+a+"]").val())){$("#"+c+" [name="+a+"]").addClass("Incorrect");$("#"+b).html("Incorrect email");$("#"+c+" [name="+a+"]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+c+" [name=submitButtom]").addClass("BtnGrey");return false;}else{fillForFormName(c,a,b);}}$("#"+c+" [name="+a+"]").css({"border":"1px solid #ACACAC","color":"#2D2D2D"});checkPopupFields("submitLeadPopup","submitButtom");return true;}function validatePopupPincode(){var h=jQuery.trim($("#submitLeadPopup [name=pinCode]").val());var f=/^(0|[1-9][0-9]*)$/;var a=f.exec(h);if($("#submitLeadPopup [name=pinCode]").val()!=""&&$("#firstautopincode").val()!=""&&$("#firstautocity").val()!=""&&h.length<6){if($("#leadId").val()!=80){var b=$("#firstautocity").val();var g=b.split(",");$("#cityName_flexselect").val(g[0]);$("#submitLeadPopup #cityName").val(g[0]);}$("#submitLeadPopup [name=pinCode]").val($("#firstautopincode").val());$("#submitLeadPopup [name=pinCode]").removeClass("Incorrect");$("#submitLeadPopup [name=pinCode]").css({"border":"1px solid #ACACAC","color":"#2D2D2D"});checkPopupFields("submitLeadPopup","submitButtom");if(isMultiDealer){var c=selectedDealers("dealerSelection");}else{var c=$("#dealerSelectGORPForm").val();}if(($("#leadId").val()==19||$("#leadId").val()==48)&&(c==""||c.length==0)){getDealerCallbackListByCity("submitLeadPopup","cityName",$("#oemNamehidden").val(),$("#carNamehidden").val(),"dealerSelectGORPForm",g[0],"pinCode","false");}}if(h.length==6&&!isAllAlphaBetOnly(h)){var d="";if($("#firstautocity").val()!=""){var b=$("#firstautocity").val();var g=b.split(",");$("#cityName_flexselect").val(g[0]);d=g[0];resetDropDownByValue("submitLeadPopup","cityName",d);}var c=$("#dealerSelectGORPForm").val();if($("#leadId").val()==19&&c==""){getDealerCallbackListByCity("submitLeadPopup","cityName",$("#oemNamehidden").val(),$("#carNamehidden").val(),"dealerSelectGORPForm",d,"pinCode","false");}if(($("#leadId").val()==80||$("#leadId").val()==48)&&b!=""&&c==""){getDealerCallbackListByCity("submitLeadPopup","cityName",$("#oemNamehidden").val(),$("#carNamehidden").val(),"dealerSelectGORPForm",d,"pinCode","false");}if($("#leadId").val()==80&&b==""&&c==""){var e=failureCity;getDealerCallbackListByCity("submitLeadPopup","cityName",$("#oemNamehidden").val(),$("#carNamehidden").val(),"dealerSelectGORPForm",e,"pinCode","false");}}if(h==""||h=="Pin Code"||a==null||h.length>6){$("#submitLeadPopup [name=pinCode]").addClass("Incorrect");$("#submitLeadPopup [name=pinCode]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#submitLeadPopup [name=submitButtom]").addClass("BtnGrey");return false;}$("#submitLeadPopup [name=pinCode]").css({"border":"1px solid #ACACAC","color":"#2D2D2D"});checkPopupFields("submitLeadPopup","submitButtom");return true;}function showDealerCallBack(g,b,d,a,c){try{if($("#"+g+" [name=optiondealercallback]").length>0){if($("#"+g+" [name=optiondealercallback]:checked").val()=="Yes"){if(a==undefined){a=$("#"+g+" [name=carMake]").val();}if(c==undefined){c=$.trim($("#"+g+" [name=cityName]").val());}if(isMultiDealer){if(!$("#"+b).is(":visible")&&$("ul#ulDealerSelect li").length>=1){$("#"+b).show();}}else{if(!$("#"+b).is(":visible")&&$("select#"+d+" option").length>=1){$("#"+b).css({"display":"inline-block"});}if($("select#"+d+" option").length==2){$("#"+b).css({"display":"inline-block"});$("select#"+d+" option:eq(1)").attr("selected","selected");$("select#"+d).prev().find("label").html(document.getElementById(d)[document.getElementById(d).selectedIndex].text);}}}else{$("#"+b).hide();}}}catch(f){}}function fnGtmFill(c,b){if(c!=""&&getValueByKey(b)==undefined&&document.getElementById(c).value!=""){var a=new Object();a.key=b;a.value=c;gtmTrackingArray.push(a);callGTMLayerEvent("Filled","",b);}else{if(c==""){callGTMLayerEvent("Filled","",b);}}}function validateMobileNumberPopup(c,a){var b=$("#"+c+" [name=mobileNo]").val();if(b.length>10&&isInteger(b)){b=b.substring(b.length-10,b.length);$("#"+c+" [name=mobileNo]").val(b);}if($("#"+c+" [name=mobileNo]").val()==""||$("#"+c+" [name=mobileNo]").val()=="Mobile No."){$("#"+c+" [name=mobileNo]").addClass("Incorrect");$("#"+c+" [id=mobileExtra]").addClass("Incorrect");$("#"+c+" [name=mobileNo]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C","border-left":"none"});$("#"+c+" [id=mobileExtra]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C","border-right":"none"});$("#mobileNumberErrorMessage").html("");$("#"+c+" [name=submitButtom]").addClass("BtnGrey");return false;}else{if(isInCorrectMobileNumber($("#"+c+" [name=mobileNo]").val())||!isPhoneNumber($("#"+c+" [name=mobileNo]").val())){$("#"+c+" [name=mobileNo]").addClass("Incorrect");$("#"+c+" [id=mobileExtra]").addClass("Incorrect");$("#mobileNumberErrorMessage").html("Incorrect mobile number");$("#"+c+" [name=mobileNo]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C","border-left":"none"});$("#"+c+" [id=mobileExtra]").css({"border":"1px solid #D0D0D0","color":"#9C9C9C","border-right":"none"});$("#"+c+" [name=submitButtom]").addClass("BtnGrey");return false;}}$("#"+c+" [name=mobileNo]").css({"border":"1px solid #ACACAC","color":"#2D2D2D","border-left":"none"});$("#"+c+" [id=mobileExtra]").css({"border":"1px solid #ACACAC","color":"#2D2D2D","border-right":"none"});checkPopupFields("submitLeadPopup","submitButtom");return true;}function validateMobileNoOnKeyUp(b,d,a){var c=b.value;if(c.length<10){return false;}if(validateMobileNumberPopup(d,a)){$("#"+d+" [id=mobileExtra]").removeClass("Incorrect");$("#"+d+" [name=mobileNo]").removeClass("Incorrect");$("#mobileNumberErrorMessage").html("");$("#"+d+" [name=mobileNo]").css({"border":"1px solid #ACACAC","color":"#2D2D2D","border-left":"none"});$("#"+d+" [id=mobileExtra]").css({"border":"1px solid #ACACAC","color":"#2D2D2D","border-right":"none"});}}function UpDownArrowImageChange(a,b){if(b=="mobileClick"){$("#"+a).css({"display":"block"});}if($("#"+a).attr("style")!=null&&($("#"+a).attr("style").indexOf("DISPLAY: block")!=-1||$("#"+a).attr("style").indexOf("display: block;")!=-1)){$("#promotionOuterWraper > div > span").removeClass("PopArrowC");$("#promotionOuterWraper > div > span").addClass("PopArrowB");}else{$("#promotionOuterWraper > div > span").addClass("PopArrowC");$("#promotionOuterWraper > div > span").removeClass("PopArrowB");}}function errorForBuyingTime(){var a=$("#submitLeadPopup [name=xdrpbuyday]").val();if(a==""||(a==-1&&($("#popupbuyerdays").attr("style")==undefined||$("#popupbuyerdays").attr("style").indexOf("display: none;")==-1))){$("#submitLeadPopup #popupbuyerdays > div").addClass("Incorrect");return false;}else{$("#submitLeadPopup #popupbuyerdays > div").removeClass("Incorrect");}}function multipleDataPostRedirect(c,f,a){var e="<form action='"+c+"' method='post' id='insForm'>";var d=f.length;for(var b=0;b<d;b++){e=e+"<input type='hidden' name='"+f[b]+"' value=\""+a[b]+'" />';}e=e+"</form>";$("#insForm").remove();$("body").append(e);$("#insForm").submit();}function settlePopupElements(){if(($("#exchangecars").attr("style")!=null&&($("#exchangecars").attr("style").indexOf("DISPLAY: none")!=-1||$("#exchangecars").attr("style").indexOf("display: none;")!=-1)||$("#ExchangeWraperOnly").attr("style")!=null&&($("#ExchangeWraperOnly").attr("style").indexOf("DISPLAY: none")!=-1||$("#ExchangeWraperOnly").attr("style").indexOf("display: none;")!=-1))&&$("#financeblock").attr("style")!=null&&($("#financeblock").attr("style").indexOf("DISPLAY: none")!=-1||$("#financeblock").attr("style").indexOf("display: none;")!=-1)||($("#contactinfo").attr("style")&&$("#contactinfo").attr("style").indexOf("display: none;")!=-1)){$("#CarBuyingEssentials").css({"display":"none"});}else{$("#CarBuyingEssentials").css({"display":"block"});}var a=$("#modelStatus").val();var b=$("#leadId").val();if(($("#new-cars").attr("style")!=null&&($("#new-cars").attr("style").indexOf("DISPLAY: none")!=-1||$("#new-cars").attr("style").indexOf("display: none")!=-1))||a==3||a==5||b==42){$("#fuleTypeDiv").hide();if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#FuelTypeDisplay").removeClass("PopupDropBox");$("#brandError").removeAttr("style");$("#modelError").removeAttr("style");$("#brandError label").removeAttr("style");$("#modelError label").removeAttr("style");$("#FuelTypeDisplay").removeAttr("style");$("#FuelTypeDisplay label").removeAttr("style");$("#brandError a").removeClass("PopupSelectDisplay");$("#modelError a").removeClass("PopupSelectDisplay");$("#FuelTypeDisplay a").removeClass("PopupSelectDisplay");$("#brandError a span").removeClass("sprite-mainNew");$("#modelError a span").removeClass("sprite-mainNew");$("#FuelTypeDisplay a span").removeClass("sprite-mainNew");}$("#VarintTextForVariantPage").css({"display":"block"});}else{$("#fuleTypeDiv").show();if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#brandError").addClass("PopupDropBox");$("#modelError").addClass("PopupDropBox");$("#FuelTypeDisplay").addClass("PopupDropBox");$("#brandError a").addClass("PopupSelectDisplay");$("#modelError a").addClass("PopupSelectDisplay");$("#FuelTypeDisplay a").addClass("PopupSelectDisplay");$("#brandError a span").addClass("sprite-mainNew");$("#modelError a span").addClass("sprite-mainNew");$("#FuelTypeDisplay a span").addClass("sprite-mainNew");}$("#VarintTextForVariantPage").html("");$("#VarintTextForVariantPage").css({"display":"none"});}if($("#financeblock").attr("style")!=null&&($("#financeblock").attr("style").indexOf("DISPLAY: none")!=-1||$("#financeblock").attr("style").indexOf("display: none;")!=-1)){$("#exchangecars").removeClass("BuyingLeft");$("#exchangeDataFields").addClass("Textcenter");$("#exchangeDataFields").removeClass("Textleft");}else{$("#exchangecars").addClass("BuyingLeft");$("#exchangeDataFields").removeClass("Textcenter");$("#exchangeDataFields").addClass("Textleft");}if($("#exchangecars").attr("style")!=null&&($("#exchangecars").attr("style").indexOf("DISPLAY: none")!=-1||$("#exchangecars").attr("style").indexOf("display: none;")!=-1)){$("#financeblock").removeClass("BuyingRight");}else{$("#financeblock").addClass("BuyingRight");}}var editMobileNumberHtml="";var oldNo="";function convertMobileNumberTxtToInput(c){var b=$(c).css("color");oldNo=$("#userMobileNoForVerification").text();if(oldNo==""&&$("#submitResponsejquery #userMobileNoForVerification").text()!=""){oldNo=$("#submitResponsejquery #userMobileNoForVerification").text();$("#submitResponsejquery #userMobileNoForVerification").html("<input id='newMobileNo' name='newMobileNo' class='PopInput W70 TextColor_Black Padding0' maxlength=10 type=text value="+$("#submitResponsejquery #userMobileNoForVerification").text()+" onkeypress='return fnNotAlphabetError(event);' style='padding-left:2px !important;padding-right:2px !important;'/>");editMobileNumberHtml=$("#submitResponsejquery #userMobileNoForVerification ~ a").attr("onclick");$("#submitResponsejquery #userMobileNoForVerification ~ a").text("save");var d="processMobileNoUpdate(this);createGAClickEventTrackingAdWords('Dealer Call Back','Mobile Verification','Change Mobile No Button');";var a=new Function(d);$("#submitResponsejquery #userMobileNoForVerification ~ a").replaceWith('<a onclick="'+d+'" style="color:'+b+'">update</a>');$("#submitResponsejquery #newMobileNo").trigger("click");}else{$("#userMobileNoForVerification").html("<input id='newMobileNo' name='newMobileNo' class='PopInput W70 TextColor_Black Padding0' maxlength=10 type=text value="+$("#userMobileNoForVerification").text()+" onkeypress='return fnNotAlphabetError(event);' style='padding-left:2px !important;padding-right:2px !important;'/>");editMobileNumberHtml=$("#userMobileNoForVerification ~ a").attr("onclick");$("#userMobileNoForVerification ~ a").text("save");var d="processMobileNoUpdate(this);createGAClickEventTrackingAdWords('Dealer Call Back','Mobile Verification','Change Mobile No Button');";var a=new Function(d);$("#userMobileNoForVerification ~ a").replaceWith('<a onclick="'+d+'" style="color:'+b+'">update</a>');$("#newMobileNo").trigger("click");}}var isProcessing=false;function processMobileVerification(f){var b=document.getElementById("verificationCode").value;if(b==""&&$("#submitLeadPopup #verificationCode").val()!=""){b=$("#submitLeadPopup #verificationCode").val();}if(f=="code"&&(b==""||b=="Enter Code To Verify")){$("#verifyBlankErrorMsg").show();$("#verifyWrongErrorMsg").hide();$("#verificationCode").parent().addClass("validate");$("span#"+f+"error").hide();$("span#"+f+"error").css({"color":"black"}).css({"background-color":"#f2dede"});$("span#"+f+"error").fadeIn("slow");callGTMLayerEvent("Error");return;}if(isProcessing){return;}isProcessing=true;$("#mobileVerificationMissCallMsg").hide();var e=document.getElementById("lid").value;var g=$("#leadType").val();var h=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=verifyMobileNumber&type=&LeadType="+$("#leadType").val()+"&verificationCode="+b+"&lid="+e}).responseText;if(b==""||h=="failure"||b.length<4){if(f=="misscall"){$("#verificationMsg").fadeOut();$("#verificationMsg").fadeIn().css("color","#f44736");}else{$("#verificationCode").parent().addClass("validate");}}else{createGAClickEventTrackingAdWords("UsedCarSERPLead form","VerifyNumber","");$("#verificationCode").parent().removeClass("validate");if(g==80){isOfferLeadVerfied="true";}}isProcessing=false;if(g==76){var j=$.parseJSON(h);if(j.response!=undefined&&j.response=="success"){closePopup("backgroundPopup","popupContact","blankdivId");var c=getCookieLiveChat("userChatId");if(c!==""){startChatWithDealerWeb(j.endUserName,"enduser",j.userId,j.dealerId,j.usedCarId,j.dealerName,j.mobileNo,j.variantId,j.price,j.km,j.modelyear,j.imageurl,j.leadId);}else{$.getScript("https://static.cardekho.com/javascript/dealerChatWeb.js",function(){startChatWithDealerWeb(j.endUserName,"enduser",j.userId,j.dealerId,j.usedCarId,j.dealerName,j.mobileNo,j.variantId,j.price,j.km,j.modelyear,j.imageurl,j.leadId);});}return false;}}else{if(g==80){$("#popupContact").css("width","");}}if(h=="failure"){$("#verifyWrongErrorMsg").show();$("#verifyBlankErrorMsg").hide();$("span#"+f+"error").hide();if(f=="code"){$("span#"+f+"error").text("Enter correct code below and Click on the verify button to proceed.");}$("span#"+f+"error").css({"color":"black"}).css({"background-color":"#f2dede"});$("span#"+f+"error").fadeIn("slow");callGTMLayerEvent("Error");return;}$("#submitResponsejquery").removeClass("Textcenter");if($("#gallaryPopUp").length&&g==3){if($("#gallaryPopUp").val()=="galleryEnquiryMobileVerification"){var d=$.parseJSON(h);gallerySellerDetail(d.message,$("#userMobileNoForVerification").html(),"contactSellerForm");return;}}if(window["mobileVerificationCallbackFunction"]!=undefined&&window["mobileVerificationCallbackFunction"]!=""){var i=$("#leadType").val();if(isCarLeadCapture()!=undefined&&isCarLeadCapture()!=""&&(i==80||i==19)){verifiedMobileCallbackOthers(h,i);}else{window["mobileVerificationCallbackDataArray"].unshift(h);window[window["mobileVerificationCallbackFunction"]].apply(this,window["mobileVerificationCallbackDataArray"]);}callGTMLayerEvent("Verified");try{dataLayer.push({"event":"mobileverified"});var j=$.parseJSON(h);if(j.LandingPageInfoLeadSource!=undefined&&j.LandingPageInfoLeadSource=="facebook"){addCarDekhoUsedCarFBConversionScriptCode();}}catch(a){}}else{alert("Some error occured, please try again!");}}function verifyAndSaveOfferLead(c,a,e,d,g){var b=getOffersAndDealersAfterVerification(c,a,e,d,g);if(b!=""&&b!=null){var f="&EmailId="+$("#userInfoGORPForm #emailIdGORPForm").val()+"&UserName="+$("#userInfoGORPForm #firstNameGORPForm").val()+"&mobileno="+$("#userInfoGORPForm #mobileNoGORPForm").val()+"&City="+dealerAndDiscountObj.dealerAndDisountCity+"&modelName="+dealerAndDiscountObj.dealerAndDisountModel+"&OemName="+dealerAndDiscountObj.dealerAndSDiscountOemName+"&variantsname="+dealerAndDiscountObj.dealerAndDisountVariantId+"&Location="+pageLocation+"&page_url="+window.location.href+"&dealerId="+$("#dealerId").val()+"&Pincode="+dealerAndDiscountObj.pin;$.ajax({type:"POST",url:basepath+"/saveDiscountAndOfferLead.do",async:false,data:"parameter=saveDiscountAndOfferLead"+f}).responseText;}}function processMobileNoUpdate(e){if(!validateMobileNumber("submitLeadPopup","newMobileNo","70")){return false;}var d=$("#newMobileNo").val();if($("#userMobileNoForVerification").text()==""&&$("#submitResponsejquery #newMobileNo").val()!=""){$("#submitResponsejquery #userMobileNoForVerification").text(d);var a=new Function(editMobileNumberHtml);var b=$(e).css("color");$("#submitResponsejquery #userMobileNoForVerification ~ a").replaceWith('<a onclick="'+editMobileNumberHtml+'" style="color:'+b+'">edit</a>');var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=updateUserInformationMobileNo&sendsmsverificationCode=sendsms&MobileNo="+d+"&LeadType="+3}).responseText;if(c=="success"){$("#userMobileNo").val(d);}else{if(c=="MobileNoVerified"){processMobileVerification("");$("#userMobileNo").val(d);}else{if(c=="Show 50 car leads Msg for Dealer"||c=="Show Used Car Alert Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{if(c=="Show 10 car leads Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{alert("Please try again!");}}}}if($("#mobileNoImageHolder").is(":visible")){startMisscallProcess(d);}$("#updateNumberDiv").hide();$("#submitResponsejquery #userMobileNoForVerification").html(d);$("#submitResponsejquery #edit").show();}else{$("#userMobileNoForVerification").text(d);try{$("#ContactsellerPopupForm [name=mobileNo]").val(d);}catch(g){}var a=new Function(editMobileNumberHtml);var b=$(e).css("color");$("#userMobileNoForVerification ~ a").replaceWith('<a onclick="'+editMobileNumberHtml+'" style="color:'+b+'">edit</a>');if(d==oldNo){$("#updateNumberDiv").hide();$("#edit").show();return;}var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=updateUserInformationMobileNo&sendsmsverificationCode=sendsms&MobileNo="+d+"&LeadType="+3}).responseText;if(c=="success"){$("#userMobileNo").val(d);}else{if(c=="MobileNoVerified"){processMobileVerification("");$("#userMobileNo").val(d);}else{if(c=="Show 50 car leads Msg for Dealer"||c=="Show Used Car Alert Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{if(c=="Show 10 car leads Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{alert("Please try again!");}}}}if($("#mobileNoImageHolder").is(":visible")){startMisscallProcess(d);}$("#updateNumberDiv").hide();$("#userMobileNoForVerification").html(d);$("#edit").show();}}function startMisscallProcessForDealer(a){if($("#userMobileNoForVerification ~ a:first").text()=="update"){alert("Please Update Your Mobile Number First");return;}$.ajax({type:"GET",dataType:"json",url:basepath+"/ajaxCallAction.do",data:"parameter=startMissCallVerifcationProcess&mobileno="+a,success:function(b){if(b.status=="Ok"){$("#miscallId").css({"display":"none"});$("#tollfreeId").css({"display":"block"});}else{alert("Some error occurred. please try again.");}}});}function processMobileNoUpdate(e){if(!validateMobileNumber("submitLeadPopup","newMobileNo","70")){return false;}var d=$("#newMobileNo").val();if($("#userMobileNoForVerification").text()==""&&$("#submitResponsejquery #newMobileNo").val()!=""){$("#submitResponsejquery #userMobileNoForVerification").text(d);var a=new Function(editMobileNumberHtml);var b=$(e).css("color");$("#submitResponsejquery #userMobileNoForVerification ~ a").replaceWith('<a onclick="'+editMobileNumberHtml+'" style="color:'+b+'">edit</a>');var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=updateUserInformationMobileNo&sendsmsverificationCode=sendsms&MobileNo="+d+"&LeadType="+3}).responseText;if(c=="success"){$("#userMobileNo").val(d);}else{if(c=="MobileNoVerified"){processMobileVerification("");$("#userMobileNo").val(d);}else{if(c=="Show 50 car leads Msg for Dealer"||c=="Show Used Car Alert Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{if(c=="Show 10 car leads Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{alert("Please try again!");}}}}if($("#mobileNoImageHolder").is(":visible")){startMisscallProcess(d);}$("#updateNumberDiv").hide();$("#submitResponsejquery #userMobileNoForVerification").html(d);$("#submitResponsejquery #edit").show();}else{$("#userMobileNoForVerification").text(d);try{$("#ContactsellerPopupForm [name=mobileNo]").val(d);}catch(g){}var a=new Function(editMobileNumberHtml);var b=$(e).css("color");$("#userMobileNoForVerification ~ a").replaceWith('<a onclick="'+editMobileNumberHtml+'" style="color:'+b+'">edit</a>');if(d==oldNo){$("#updateNumberDiv").hide();$("#edit").show();return;}var c=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=updateUserInformationMobileNo&sendsmsverificationCode=sendsms&MobileNo="+d+"&LeadType="+3}).responseText;if(c=="success"){$("#userMobileNo").val(d);}else{if(c=="MobileNoVerified"){processMobileVerification("");$("#userMobileNo").val(d);}else{if(c=="Show 50 car leads Msg for Dealer"||c=="Show Used Car Alert Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><span class='MarginT10'>Greetings from CarDekho.com, India's #1 Auto Portal.<br/><br/> 'Contact Seller' is an exclusive feature and we only allow an individual user to contact a total of 50 used cars sellers. You have reached this limit and will be unable to contact sellers anymore. <br/><br/> If you have a used car business, and would like to avail our services of contacting sellers or listing used cars, please contact us at 1800 200 3000 to know more about our affordable subscription packages for business! <br/><br/> If you are an individual user, then contact us at 1800 200 3000 to get more credits for contacting sellers. </span><br/> <br/><span class='MarginT10 Clear'>Thank you for using our used car services.<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{if(c=="Show 10 car leads Msg"){$("#popupheaderx").empty().html('<div class="HeadingText Text20 Padding0 MarginT5 MarginB10"><strong>Seller Details</strong></div>');var f="<div class='CommonBlock'><div class='SellerDetails BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear user,<br/><span class='MarginT10'>You have crossed the daily limit of viewing seller details. Please visits tomorrow for more leads.<br/></span><span class='MarginT10'>Thank, You<br/>CarDekho.com</span></div></div>";$("#responces").empty().html(f);}else{alert("Please try again!");}}}}if($("#mobileNoImageHolder").is(":visible")){startMisscallProcess(d);}$("#updateNumberDiv").hide();$("#userMobileNoForVerification").html(d);$("#edit").show();}}var dealerAndDiscountObj=new Object();var prevPincode="";function openUserInfoForGORPForm(c,b,a,g,d){d=updateCityByCarLeadCity(d);callGTMLayerEvent("Click");closePopup("backgroundPopup","popupContact","promotionlead");$("#newpopUpText").html("");fillHashTagByLeadType(c);if(isDealerCallbackPopOpen=="false"&&popUpOpen==0){popUpOpen=1;popupStatus=1;isDealerCallbackPopOpen="true";var f=$.ajax({type:"POST",url:basepath+"/contactDealerPopup.do",async:false,data:"parameter=getContactDealerPopup&oemName="+a+"&carModelName="+g+"&City="+d}).responseText;var e=$("#"+c);e.html(f);e.find("#GORPbutton").removeClass("loading");e.show();e.siblings("#"+b).show();prevPincode=$("#pinCodeGORPForm").val();getDealerCallBackCityListByModelName(a,g,d);if(isMultiDealer){getDealerCallbackListByCity("userInfoGORPForm","cityName",a,g,"dealerSelectGORPFormText","false","pinCodeGORPForm","false");}else{getDealerCallbackListByCity("userInfoGORPForm","cityName",a,g,"dealerSelectGORPForm","false","pinCodeGORPForm","false");}setTimeout(function(){createCustomSelect(e.find("#dealerSelectGORPForm"));},100);if(pageLocation.indexOf("Skip")==-1){callGTMLayerEvent("Open");}else{callGTMLayerEvent("NotOpen");callGTMLayerEvent("NotOpenLead");}if(carLeadCity==""||d==""){$("#userInfoGORPForm #cityName option:eq(0)").attr("selected","selected");$("#userInfoGORPForm #cityName").next("span.holder").html("Select City");}if(jQuery.inArray(a,subCityExperimentModels)!==-1&&carLeadCity.toLowerCase()=="new delhi"){$("#userInfoGORPForm #cityName option:eq(0)").attr("selected","selected");$("#userInfoGORPForm #cityName").next("span.holder").html("Select City");$("#userInfoGORPForm #pinCodeGORPForm").val("");$("#userInfoGORPForm #pinCodeGORPForm").attr("placeholder","Pin Code / Area");$("#dealerDropDownWrapper").hide();$("#dealerSelectGORPForm").next("span.holder").html("Select Dealer");}}}function updateCityByCarLeadCity(a){if(carLeadCity==""){a="";}else{a=carLeadCity;}return a;}function getDealerCallBackCityListByModelName(oemName,carModelName,selectCityName){var cityName=$("#userInfoGORPForm #cityName");$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getDealerCallCityList&isAddMetroCities=true&oemName="+oemName+"&carName="+carModelName,success:function(data){if(data!=undefined&&data!=""&&data!="ERROR"){var data1=eval(data);$.each(data1,function(i,item){if(item.cityName=="all"){getDropDownValueForDealerCallBackCity(document.forms["userInfoGORPForm"].cityName,"","---------------------",oemName);}else{getDropDownValueForDealerCallBackCity(document.forms["userInfoGORPForm"].cityName,item.cityName,item.cityName,oemName);}});}}});createCustomSelect($("#cityName"));if(selectCityName!=undefined&&selectCityName!=""){$("#userInfoGORPForm #cityName").val(selectCityName);$("#userInfoGORPForm #cityName").next(".holder").text(selectCityName);}if($("#userInfoGORPForm #dealerSelectGORPForm option").length==2){$("#dealerSelectGORPForm option:eq(1)").attr("selected","selected");$("#dealerSelectGORPForm").next().html(document.getElementById("dealerSelectGORPForm")[document.getElementById("dealerSelectGORPForm").selectedIndex].text);}}function getDropDownValueForDealerCallBackCity(e,d,f,b){var c=new Option();c.value=d;c.text=f;if(d==""){c.disabled=true;}e.options.add(c);if(jQuery.inArray(b,subCityExperimentModels)!==-1&&d=="New Delhi"&&$("#userInfoGORPForm #cityName option[value='New Delhi']").val()=="New Delhi"){var a="<optgroup label='New Delhi'><option value='Central Delhi'>Central Delhi</option><option value='East Delhi'>East Delhi</option><option value='North Delhi'>North Delhi</option><option value='South Delhi'>South Delhi</option><option value='West Delhi'>West Delhi</option></optgroup>";$("#userInfoGORPForm #cityName").append(a);$("#userInfoGORPForm #cityName").find('option[value="New Delhi"]').remove();}}function createCustomSelect(a){a.each(function(b){a.wrap("<span class='select-wrapper'></span>");a.after("<span class='holder'></span>");});a.change(function(c){var b=a.find(":selected").text();a.next(".holder").text(b);}).trigger("change");}function resetDealerDropDown(i,h,a,c){if(isMultiDealer){var f=document.getElementById(h);if(($("ul#ulDealerSelect").has("li").length!=0)){$("ul#ulDealerSelect").html("");$("ul#ulDealerSelect").empty();}}else{var f=document.getElementById(h);if(f!=undefined&&f.length>1){for(var b=f.length;b>=0;b--){f.remove(b);}}try{$("#dealerSelectForm").html("-Select Dealer-");$("#dealerSelectGORPForm_flexselect").val("Select Dealer");}catch(g){}if($("#dealerSelectGORPForm_flexselect").length>0){if(f!=undefined&&f.length==0){var d=new Option();d.value="";d.text="-Select Dealer-";d.disabled=true;f.options.add(d);}}else{if(f!=undefined&&f.length==0){var d=new Option();d.value="";d.text="Select Dealer";f.options.add(d);}}$("#"+h).next("span.holder").text($("#"+h+" option:first").text());}}function getMultipleDealerSelection(h,d,a,g,c){if(d.length>0){$("#ulDealerSelect").html("");$(".multiSel").html("");$(".hida").show();$(".popupdropdown dd ul").hide();var e=document.getElementById("ulDealerSelect");if(d.length!=1){addSelectAllDealerOption(h);}$.each(d,function(j,k){getDropDownValueForDealerCallBack(h,e,k,c,a,g);});if(h=="userInfoGORPForm"){var f=document.getElementById("ulDealerSelect");var i=document.createElement("li");i.innerHTML="<li class='donebtn'><span class='buttondn' title='Done' onclick='closeMultiDropDown(\"ulDealerSelect\");'>Done</span></li>";f.appendChild(i);}$("#dealerDropDownWrapper").css({"display":"block"});$("#dealerDropDownWrapper").removeClass("disnone");$("#multiSelect").show();$("#normalSelect").hide();if(d.length>=3){$("#ulDealerSelect").css({"height":"97px"});if(h=="submitLeadPopup"){$("#ulDealerSelect").parent().css({"height":"97px"});}else{$("#ulDealerSelect").parent().removeAttr("style");}}else{$("#ulDealerSelect").css({"height":"auto"});$("#ulDealerSelect").parent().css({"height":"auto"});}if(d.length==1){$(".popupdropdown a span").css({"display":"none"});$("#ulDealerSelect input").prop("checked",true);$("#ulDealerSelect .label_check").addClass("c_on");var b=$("#ulDealerSelect input").attr("title");$("p.multiSel").html("<span title="+b+">"+b+"</span>");}if(h!="submitLeadPopup"){setSelectDealerValue();}$("#dealerCallbackHolder").removeAttr("style");$("div.dealercallbackheading").removeAttr("style");if($("#"+h+" [name=optiondealercallback]").length>0){if($("#"+h+" [id=optiondealercallbackYes]").is(":checked")){$("#dealerCallBackDiv").show();}else{$("#dealerCallBackDiv").hide();}}}else{$("#dealerDropDownWrapper").css({"display":"none"});$("#dealerDropDownWrapper").addClass("disnone");$("#dealerCallbackHolder").css({"display":"none"});$("#dealerDropDownWrapper").css({"display":"none"});$("p.multiSel").html("");}}function getDropDownValueForDealerCallBack(k,d,n,c,b,h){var g=$("#firstautocity").val();var m=g.split(",");if(c){var e="";if(n.Locality!=""){e=" ("+n.Locality+")";}else{if(n.addressRange!="-1"){e=" - "+n.addressRange+" km away";}}var l=n.DealerName+e;var f=document.getElementById("ulDealerSelect");var j=document.createElement("li");if(k=="submitLeadPopup"){var i='<div class="chkhold "><div class="label_check labelcheck spriteheader"><input  name="dealerSelection" id="'+n.dealerId+'" value="'+n.dealerId+"\" type=\"checkbox\" onclick=\"fnGtmFill('','DCB_dealer');selectORPDealers('"+k+"','"+n.dealerId+'\');"><label for="'+n.dealerId+'">'+l+"</label></div></div>";}else{var i='<div class="chkhold "><div class="label_check labelcheck spriteheader"><input  name="dealerSelectGORPFormText" id="'+n.dealerId+'" value="'+n.dealerId+'" type="checkbox" onclick="setupLabel();" title="'+l+'"><label for="'+n.dealerId+'">'+l+"</label></div></div>";}j.innerHTML=i;f.appendChild(j);$(".chkhold").addClass("has-js");}else{var a=new Option();a.value=n.DealerName;var e="";if(n.Locality!=""){e=" ("+n.Locality+")";}else{if(n.addressRange!="-1"){e=" - "+n.addressRange+" km away";}}a.text=n.DealerName+e;$(a).attr("data-id",n.dealerId);$(a).attr("data-number",n.MobileNumber);d.options.add(a);}}function setSelectDealerValue(){$('.mutliSelect input[type="checkbox"]').bind("click",function(){var f=$(".multiSel").html();var e=$(this).closest(".mutliSelect").find('input[type="checkbox"]').attr("title"),e=$(this).attr("title")+",";if($(this).is(":checked")&&f.indexOf($(this).attr("title"))==-1&&$(this).attr("title")!=undefined){var c='<span title="'+e+'">'+e+"</span>";$(".multiSel").append(c);$(".hida").hide();var a=true;$('.mutliSelect input[type="checkbox"]').each(function(){if(!$(this).is(":checked")&&$(this).val()!=""){a=false;}});if(a==true){$("#selectalldealers").parent().addClass("c_on");$("#selectalldealers").prop("checked",true);}}else{if($(this).is(":checked")==false){$('span[title="'+e+'"]').remove();var b=$(".hida");$(".popupdropdown dt a").append(b);$("#selectalldealers").parent().removeClass("c_on");$("#selectalldealers").prop("checked",false);var g=0;var d=$('.mutliSelect input[type="checkbox"]').length;$('.mutliSelect input[type="checkbox"]').each(function(){if(!$(this).is(":checked")){g++;}});if(d==g){$("p.multiSel").html("");$(".hida").show();}}}});}function getOffersByLeadsForGORP(r,a,w,e,i,k,B,D,f,v,u,h,d,n,C,t,s,c){createCONNECTOIDInCookies();var q=$("#"+B);var p=$("#dealerDropDownWrapper").attr("style").indexOf("block");if(p==-1){p=false;}var l=$("#"+s).val();if(validateInputErrors(B,D,u,1,"right","close2")){i=$("#userInfoGORPForm #cityName").next().html();if(validateInputErrors(B,f,h,3,"right2","close2")){if(oemNameArray.indexOf(w+",")!=-1||(jQuery.inArray(w,subCityExperimentModels)!==-1&&jQuery.inArray(i,subCityExperimentCities)!==-1)){var l=$("#"+B+" #"+s).val();if(l==""||l=="Pin Code / Area"){$("#"+B+" #"+s).val("999999");l="";}if($("#"+B+" [name=cityName]").val()==undefined||$("#"+B+" [name=cityName]").val()==""){alert("Please Select City");return false;}}if(validateInputErrors(B,s,c,4,"right","close2")){if(p==false){var g=0;dealerAndDiscountObj.dealerAndDisountVariantId=k;dealerAndDiscountObj.dealerAndDisountModel=e;dealerAndDiscountObj.dealerAndDisountId=a;dealerAndDiscountObj.dealerAndDisountCity=i;dealerAndDiscountObj.dealerAndSDiscountOemName=w;dealerAndDiscountObj.pin=l;var y="&EmailId="+q.find("#"+v).val()+"&UserName="+q.find("#"+D).val()+"&mobileno="+q.find("#"+f).val()+"&City="+i+"&modelName="+e+"&OemName="+dealerAndDiscountObj.dealerAndSDiscountOemName+"&variantsname="+k+"&Location="+pageLocation+"&page_url="+window.location.href+"&dealerId="+g+"&isORPLead=true&Pincode="+l;var b=$.ajax({type:"POST",url:basepath+"/saveDiscountAndOfferLead.do",async:false,data:"parameter=saveDiscountAndOfferLead"+y}).responseText;if(b.indexOf("userMobileNoForVerification")>-1){callGTMLayerEvent("Submit");fbqTracking("leadpopup","NewCarLead-NonVerified");window["mobileVerificationCallbackDataArray"]=new Array();window["mobileVerificationCallbackFunction"]="verifyAndSaveOfferLead";q.parent().siblings("#"+n).html(b);q.parents("#leadpopup").find("#"+t).html("Verify your Mobile No.");showOrHideObj(q.parent().siblings("#"+n),q.parent());$(r).addClass("loading");}else{if(b=="dealerandofferdetails"){callGTMLayerEvent("AlreadyVerified");getOffersAndDealersAfterVerification();}}}var x=$("#firstautocity").val();var A=x.split(",");if(isMultiDealer){var j=selectedDealers("dealerSelectGORPFormText");var g=j;}else{var o=q.find("#dealerSelectGORPForm option:selected");var m=o.val();var g=o.data("id");var z=o.data("number");q.find("#dealerName").val(m);q.find("#dealerNum").val(z);}q.find("#dealerId").val(g);if(p!=false&&validateSelectBox(B,"dealerId","Dealer")){dealerAndDiscountObj.dealerAndDisountVariantId=k;dealerAndDiscountObj.dealerAndDisountModel=e;dealerAndDiscountObj.dealerAndDisountId=a;dealerAndDiscountObj.dealerAndDisountCity=i;dealerAndDiscountObj.dealerAndSDiscountOemName=w;dealerAndDiscountObj.pin=l;var y="&EmailId="+q.find("#"+v).val()+"&UserName="+q.find("#"+D).val()+"&mobileno="+q.find("#"+f).val()+"&City="+i+"&modelName="+e+"&OemName="+dealerAndDiscountObj.dealerAndSDiscountOemName+"&variantsname="+k+"&Location="+pageLocation+"&page_url="+window.location.href+"&dealerId="+g+"&isORPLead=false&Pincode="+l;addCarDekhoGoogleConversionScriptCode();var b=$.ajax({type:"POST",url:basepath+"/saveDiscountAndOfferLead.do",async:false,data:"parameter=saveDiscountAndOfferLead"+y}).responseText;if(b.indexOf("userMobileNoForVerification")>-1){callGTMLayerEvent("Submit");fbqTracking("leadpopup","NewCarLead-NonVerified");window["mobileVerificationCallbackDataArray"]=new Array();window["mobileVerificationCallbackFunction"]="verifyAndSaveOfferLead";q.parent().siblings("#"+n).html(b);q.parents("#leadpopup").find("#"+t).html("Verify your Mobile No.");showOrHideObj(q.parent().siblings("#"+n),q.parent());$(r).addClass("loading");}else{if(b=="dealerandofferdetails"){callGTMLayerEvent("AlreadyVerified");getOffersAndDealersAfterVerification();}}}}else{alert("Please Fill Correct PinCode");q.find("#"+s).focus();return false;}}else{alert("Please Fill Correct Mobile No.");q.find("#"+f).focus();return false;}}else{alert("Please Fill Correct Name");q.find("#"+D).focus();return false;}}function connectoCallbackLeadForm(e){var d="New Delhi";var b={};b.time="-1";b.finance="";for(var g in e){switch(e[g].name){case"City":b.city=e[g].value;continue;case"Name":b.name=e[g].value;continue;case"Phone":b.phone=e[g].value;continue;case"Pincode":b.pincode=e[g].value;continue;case"leadType":b.leadType=e[g].value;continue;case"event":b.event=e[g].value;continue;case"Time To Buy":b.time=e[g].value;continue;case"Car Loan Required":b.finance=e[g].value;continue;}}b.email="cardekho"+b.phone+"@girnarsoft.com";b.modelName=_TConnecto.getVariables().newcarlastviewedmodel;b.oemName=_TConnecto.getVariables().newcaroemname;b.url=(window.location!=window.parent.location)?document.referrer:document.location;url=("/"+b.modelName+"/car-price-in-"+b.city+".htm").toLowerCase().replace(" ","-");var f="leadType="+b.leadType+"&userId="+b.email+"&emailId="+b.email+"&mobileNo="+b.phone.substring(b.phone.length-10,b.phone.length)+"&pinCode="+b.pincode+"&carName="+b.modelName+"&carVariantId=&oemName="+b.oemName+"&carDetailUrl="+window.location.href+"?utm_source=connecto_exit&usedCarId=&finance="+b.finance+"&cityName="+b.city+"&carBuyerDays="+b.time+"&userAdsInfo=''&additionalFieldFirst=''&termCondition=&leadLocation=ExitIntent_Connecto&fuelType=";var c=$.ajax({type:"POST",url:basepath+"/leadSubmit.do",async:false,data:f}).responseText;var a="true";switch(c){case"Please Enter Proper Email-Id.":case"Please Enter Proper User-Id.":case"Please Enter Proper Mobile Number.":case"Please Enter Proper City Name.":case"Please Enter Proper Pin Code.":alert("Some Error Occurred, Please Try Again.");createGAClickEventTrackingAdWords("Connecto",b.event,"failure-"+b.leadType);break;default:createGAClickEventTrackingAdWords("Connecto",b.event,"success-"+b.leadType);window.location=url;return;}}function getOffersAndDealersAfterVerification(a,g,e,f,i,h,j){var k=$("#detailsForm");var d=k.parents("#leadpopup");showOrHideObj(k,d.find("#infoForm"));i=d.find("#dealerId").val();var c="";if(dealerAndDiscountObj.dealerAndDisountCity==null||dealerAndDiscountObj.dealerAndDisountCity==""){c=$("#leadpopup #firstautocity").val();}else{c=dealerAndDiscountObj.dealerAndDisountCity;}var b=$.ajax({type:"POST",url:basepath+"/getDiscountOfferDetailByAjaxCall.do",async:false,data:"parameter=getCarDiscountDetailByDiscountId&discountid="+dealerAndDiscountObj.dealerAndDisountId+"&carvariantid="+dealerAndDiscountObj.dealerAndDisountVariantId+"&currentcity="+c+"&carmodel="+dealerAndDiscountObj.dealerAndDisountModel+"&filter=models&done=dealeroffercombo&OemName="+dealerAndDiscountObj.dealerAndSDiscountOemName+"&dealerId="+i+"&pinCode="+$("#userInfoGORPForm #pinCodeGORPForm").val()}).responseText;facebookConversionCode("leadpopup");fbqTracking("leadpopup","NewCarLead-Verified");e=d.find("#dealerName").val();if(b!=""&&b!=null){sessioncity=dealerAndDiscountObj.dealerAndDisountCity;$(".graybg").hide();d.find("#detailsForm").html(b);if((h!=undefined&&h=="true")||e==""||e==undefined){if(j==undefined||j==""){d.find("#dealerName1").html("One of our representatives will connect you to the authorized dealer.");}else{d.find("#dealerName1").html("Our representative will connect you to a "+j+" dealer  soon.");}}else{d.find("#dealerName1").html("You will receive a call from <span>"+e+"</span> soon.");}}return b;}function facebookConversionCode(b){var a="<script>(function(){var _fbq=window._fbq||(window._fbq=[]);if(!_fbq.loaded){var fbds=document.createElement('script');fbds.async=true;fbds.src='//connect.facebook.net/en_US/fbds.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(fbds,s);_fbq.loaded=true;}})();window._fbq=window._fbq||[];window._fbq.push(['track','6028214397754',{'value':'0.00','currency':'INR'}]);<\/script><noscript><imgheight=\"1\"width=\"1\"alt=\"\"style=\"display:none\"src=\"https://www.facebook.com/tr?ev=6028214397754&amp;cd[value]=0.00&amp;cd[currency]=INR&amp;noscript=1\"/></noscript>";if($("#"+b).html().indexOf("6028214397754")>-1){}else{$("#"+b).append(a);}}function editMobileNumberGalleryPopup(c){var b=$(c).css("color");oldNo=$("#userMobileNoForVerification").text();$("#userMobileNoForVerification").html("<input id='newMobileNo' name='newMobileNo' class='PopInput W70 TextColor_Black Padding0' maxlength=10 type=text value="+$("#userMobileNoForVerification").text()+" onkeypress='return fnNotAlphabetError(event);' style='padding-left:2px !important;padding-right:2px !important;'/>");editMobileNumberHtml=$("#userMobileNoForVerification ~ a").attr("onclick");$("#userMobileNoForVerification ~ a").text("save");var d="processMobileNoUpdateGalleryEnquiry(this);";var a=new Function(d);$("#userMobileNoForVerification ~ a").replaceWith('<a onclick="'+d+'" style="color:'+b+'">update</a>');$("#newMobileNo").trigger("click");}function updateMobileNumber(h,d,b,a,g){if(!validateMobileNumber(h,b,"70")){return false;}var c=$("#"+h+" #"+d).text();var f=$("#"+h+" #"+b).val();$("#"+h+" #"+d).text(f);if(f==oldNo){return;}$("#"+h+" #"+d).show();$("#"+h+" #"+a).show();$("#"+h+" #"+b).hide();$("#"+h+" #"+g).hide();var e=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=updateUserInformationMobileNo&sendsmsverificationCode=sendsms&MobileNo="+f}).responseText;if(e=="success"){$("#mobileNoGORPForm").val(f);}else{if(e=="MobileNoVerified"){processSliderMobileVerification("");}else{alert("Please try again!");}}}function validateMobileNumber(h,g,f){var c=$("#"+h+" [name="+g+"]").val();if(isInCorrectMobileNumber($("#"+h+" [name="+g+"]").val())){alert("Please Enter Valid Mobile No.");$("#"+h+" [name="+g+"]").focus();return false;}if(c.length>10&&isInteger(g)){c=c.substring(c.length-10,c.length);$("#"+h+" [name="+g+"]").val(c);}if($("#"+h+" [name="+g+"]").val()==""||!isPhoneNumber($("#"+h+" [name="+g+"]").val())){alert("Please Enter Valid Mobile No.");$("#"+h+" [name="+g+"]").focus();return false;}var b=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=isBlackListedMobileNo&MobileNo="+c+"&leadId="+f}).responseText;if(b=="dealerblackListedMobileNo"){if(document.getElementById("isInIframe")!=null&&document.getElementById("isInIframe").value==2){$("#usedCarResponce").html(a);document.getElementById("usedCarFormContainer").style.display="none";$("#usedCarResponce").html("<div class='CommonBlock'><div class='SellerDetailsLarge BdrRadius5 BoxBdr FloatLeft MarginT5 Text12 LHight17'>Dear User,<br/><b><span class='MarginT5'>Your subscription for the trial is over.</span></b><br/><span class='MarginT5'>We hope you liked our services. Now, as your trial is over we would like to suggest you to subscribe our dealer plans, according to your needs.</span><br/><span class='MarginT5'>The plans for your consideration <a target='_balnk' href='"+basepath+"/used-car-dealer-plan.htm'>click here</a></span><br/><span class='MarginT5'>For more details please contact us  1800 200 3000</span><br/><span class='MarginT5'>You can also email us - usedcars@girnarsoft.com</span><br/><span class='MarginT5'>Thank, You<br/>CarDekho.com</span></div></div>");}else{closePopup("setAlertbackgroundPopup","setAlertpopupContact","blankdivId");centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");var d;var e;d=["progressMsgx"];e=["popupheaderUsedCar","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderTest","popupheaderOnRoad","myforms","popupContactClosebutt","popupheaderDealerDetail","popupheaderUpcomingCar","responces","popupheaderx","popupheaderDsicountOffer"];showhidePopupElement(d,e);rectifyPopupTopPosition("popupContact");var a="<div class='CommonBlock'><div class='FloatLeft Text12 LHight17'>Dear User, <br/><b><span class='MarginT10 FloatLeft CommonBlock'>Your subscription for the trial is over.</span></b><br/> <span class='MarginT10 FloatLeft CommonBlock'>We hope you liked our services. Now, as your trial is over we would like to suggest you to subscribe our dealer plans, according to your needs.</span><br/><br/><span class='MarginT10 FloatLeft CommonBlock'>The plans for your consideration <a target='_balnk' href='"+basepath+"/used-car-dealer-plan.htm'>click here</a></span> <br/><span class='MarginT10 FloatLeft CommonBlock'>For more details please contact us  1800 200 3000</span><br/><br/><span class='MarginT10 FloatLeft CommonBlock'>You can also email us - usedcars@girnarsoft.com</span><br/><br/><span class='MarginT10 FloatLeft CommonBlock MarginB20'>Thank, You<br/> CarDekho.com</span></div></div>";$("#popupheaderx").html("Your subscription for the trial is over.");$("#submitResponsejquery").html(a);var d=["responces","popupheaderx","popupContactClosebutt"];var e=["progressMsgx","popupheaderTest","popupheaderDiscount","popupheaderSaveOnMobile","popupheaderOnRoad","popupheaderUsedCar","myforms"];showhidePopupElement(d,e);}}else{if(b=="individualblackListedMobileNo"){alert("You are not allowed to get Seller details using this mobile number.");return false;}else{if(b=="true"){return true;}else{alert("This number is blocked, Please enter another number.");return false;}}}}function closePopup(a,b,f){contactSellerPopupNewUi=0;popUpOpen=0;autoOpenPopup="";$("#exchangeDataFields").css("display","none");$("#newsSection li").removeClass("popupzindexseven");$("#next").removeClass("popupzindexseven");$("#prev").removeClass("popupzindexseven");visibilityForIE("visible");$("#"+f).html("");var c=$("#submitLeadPopup [name=carMake]").val();if(combolength<$("#submitLeadPopup [name=carMake] option").length){$("#submitLeadPopup [name=carMake] option[value="+c+"]").remove();}if(b=="spriteVideoPopup"){$("#spriteVideoContent iframe").attr("src","");}$("#variantBg").hide();disablePopup(a,b);if(b!="ibbcarvaluationpopup"){var g=document.URL;var e="";if(document.getElementById("responces")!=null&&document.getElementById("responces")!=undefined){e=document.getElementById("responces").style.display;}if(a=="popupContact"&&e==""&&(g.indexOf("car-price-in-")!=-1)){location.href=g;}}if(window.closePopupHookFunction!=null){try{window[window.closePopupHookFunction]();}catch(d){}}removeHashTaginURL();}function removeHashTaginURL(){if(typeof window.history.replaceState=="function"){history.replaceState({},"",window.location.href.slice(0,window.location.href.indexOf(window.location.hash)));}}function processSliderMobileVerification(g,b,d){var a=$("#"+g+" #"+b).val();if(d=="code"&&(a==""||a=="Enter Code To Verify")){$("#"+g+" span#"+d+"error").hide();$("#"+g+" span#"+d+"error").css({"color":"black"}).css({"background-color":"#f2dede"});$("#"+g+" span#"+d+"error").fadeIn("slow");return;}var e=$("#"+g+" #lid").val();var f=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=verifyMobileNumber&type=&LeadType="+$("#"+g+" #leadType").val()+"&verificationCode="+a+"&lid="+e}).responseText;isProcessing=false;if(f=="failure"){$("#"+g+" span#"+d+"error").hide();if(d=="code"){$("#"+g+" span#"+d+"error").text("Enter correct code below and Click on the verify button to proceed.");}$("#"+g+" span#"+d+"error").css({"color":"black"}).css({"background-color":"#f2dede"});$("#"+g+" span#"+d+"error").fadeIn("slow");return;}else{if(g=="insuranceMVForm"){var c=$("#insuranceVerifiedForm").find("input[name='policytype']").val();submitVerifiedInsuranceLead(c);}else{if(g=="rsaMVForm"){sendVerifiedLeadToGaadi();}else{submitVerifiedSliderLead(g.replace("Mobile",""));}}}}function submitVerifiedInsuranceLead(a){createGAClickEventTrackingAdWords("insurance","verified","insurance-"+a+"-carinsurance");finalInsuranceSubmission("insuranceVerifiedForm");}function submitVerifiedSliderLead(g){var f=$("#"+g+" #emailId").val();var h=$("#"+g+" #mobileNo").val();var d=$("#"+g+" #brochureId").val();var c=$.ajax({type:"POST",url:basepath+"/getBrochureDetailsAction.do",async:false,data:"method=checkLimitForBrochureDownload&UserId="+f+"&MobileNo="+h}).responseText;if(c==""){$("#"+g+" #forwordUrl").val(basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+d+"&UserId="+f+"&MobileNo="+h);var e=$("#"+g+" #forwordUrl").val();$("#"+g).attr("action",e);addCarDekhoGoogleConversionScriptCode();$("#"+g).submit();var a=g+"Mobile";$("#"+a+" div.mobileverified").hide();$("#"+a+" div.entercode").html("<div class='text'>Thanks for using CarDekho.com</div>");}else{if(c=="You cannot download brochure more than 5 times"){alert("You can not download brochure more than 5 times");var b="";if(g.indexOf("exterior")>=0){b="owl-picture1";}else{if(g.indexOf("interior")>=0){b="owl-picture2";}else{if(g.indexOf("roadTest")>=0){b="owl-picture3";}else{if(g.indexOf("allImage")>=0){b="owl-picture4";}}}}$("#"+b+" #leadPopupFormDiv").show();$("#"+b+" #leadPopupMobileVerificationFormDiv").hide();}else{alert("You can not download brochure because of some error");}}}function addCarDekhoGoogleConversionScriptCode(){try{var a=document.createElement("iframe");a.style.width="0px";a.style.height="0px";a.src=basepath+"/cdCardekhoconversionscript.do";document.body.appendChild(a);if(typeof ga!=="undefined"){if(typeof adSourceType!="undefined"&&adSourceType=="yahoo"){ga("send","event","Yahoo_CPC","Conversion",getCurrentUrl());}else{ga("send","event","Google_CPC","Conversion",getCurrentUrl());}}leadSubmittedCallback();console.log("Google Conversion Script Called");}catch(b){}}function closedealerAndDiscountPopUp(d,b,a,e){visibilityForIE("visible");popUpOpen=0;popupStatus=0;isDealerCallbackPopOpen="false";$("body").css("overflow","auto");var c=$(d).parents("#"+a);c.hide();c.siblings("#"+b).hide();var c=$(d).parents("#showOfferUserInfoForGORP");c.hide();c.siblings("#showOfferUserInfoForGORPBG").hide();removeHashTaginURL();$("#popupContact").hide();$("#backgroundPopup").hide();if(e!=undefined){sessioncity=e;}}function submitCrossSellDCBPopUpLead(d){var b=$("#dcbButton button").attr("class");if(b.indexOf("active")!=-1){var a=false;var c=$("input[id^='crossSellDcbPopUpCheckbox']:checked");if(c.length==0){alert("Please check at-least one car of your interest.");return false;}else{$.each(c,function(i,g){var h="crossSellDCBDropDown"+g.value;if($("#crossSellDcbMultiDealer"+g.value).val().toLowerCase()=="true"){var f=selectedDealers("dealerSelectGORPFormText",h);if(f==""){a=true;}}else{var e=false;$.each($("#"+h+" input[name=dealerSelectGORPFormText"+g.value+"]"),function(){if($(this).is(":checked")){e=true;}});if(!e){a=true;}}});}if(a){alert("Please select dealer");return false;}$.each(c,function(h,i){var k=i.value;var f=$("#crossSellDcbPopUpOemName"+k).val();var e=$("#crossSellDcbPopUpCarModelName"+k).val();var l="";if($("#crossSellDcbMultiDealer"+k).val().toLowerCase()=="true"){var g=selectedDealers("dealerSelectGORPFormText","crossSellDCBDropDown"+k);l=g;}else{$.each($("#crossSellDCBDropDown"+k+" input[name=dealerSelectGORPFormText"+i.value+"]"),function(){if($(this).is(":checked")){l=$(this).val();}});}if(f!=""&&e!=""&&l!=""){var j="&EmailId="+$("#crossSellDcbPopUpEmailId").val()+"&UserName="+$("#crossSellDcbPopUpUserId").val()+"&mobileno="+$("#crossSellDcbPopUpMobileNo").val()+"&City="+$("#crossSellDcbPopUpcityName").val()+"&modelName="+e+"&OemName="+f+"&variantsname=''&Location="+pageLocation+"&page_url="+window.location.href+"&dealerId="+l+"&Pincode="+$("#crossSellDcbPopUpPinCode").val()+"&isORPLead=false&regionCity="+$("#crossSellDcbPopUpRegionId").val();$.ajax({type:"POST",url:basepath+"/saveDiscountAndOfferLead.do",async:false,data:"parameter=saveDiscountAndOfferLead"+j}).responseText;}});$("#comparepopupnewdesign").addClass("disnone");$("#dealerName1").addClass("disnone");$("#dcbdiv").addClass("disnone");$("#offersdiv").addClass("disnone");$("#dcbdiv").removeAttr("style");$("#offersdiv").removeAttr("style");$("#thankYouDcbDiv").removeClass("disnone");$("#dcbButton").hide();$("#dcbthankupop").css({"height":"200px"});$("#dcbthankupop.moreoffer").css({"margin-top":"-100px"});setTimeout(function(){cardekhoConversionScript();},200);}}function selectedDealers(b,a){var c=[];if(a==null){$.each($("input[name='"+b+"']:checked"),function(){c.push($(this).val());});}else{$.each($("#"+a+" input[name='"+b+"']:checked"),function(){c.push($(this).val());});}return c;}function leadSubmittedCallback(){try{if(window["gtmdata"]!=undefined&&window["gtmdata"]!=""){var a=window["gtmdata"];var c=get_Cookie("urchin");if(c.length>0){var b=c.split("~");a.source=b[0];a.medium=b[1];a.campaign=b[2];}if(modelNameForGTMTracking!=undefined&&modelNameForGTMTracking!=""&&cityForGTMTracking!=undefined&&cityForGTMTracking!=""&&leadTypeForGTMTracking!=undefined&&leadTypeForGTMTracking!=""){dataLayer.push({"city":cityForGTMTracking});dataLayer.push({"model":modelNameForGTMTracking});dataLayer.push({"leadType":leadTypeForGTMTracking});dataLayer.push({"leadTimestamp":new Date().getTime()});dataLayer.push({"utm_source":utm_sourceForGTMTracking});dataLayer.push({"emailId":emailIdForGTMTracking});modelNameForGTMTracking="";cityForGTMTracking="";leadTypeForGTMTracking="";}dataLayer.push({"event":"leadsubmit"});window["gtmdata"]=null;}}catch(d){}if(typeof pixel!=="undefined"){if(document.readyState!=="complete"){$(document).ready(function(){setTimeout("pixel.parse(true)",1000);});}else{setTimeout("pixel.parse(true)",1000);}}}function getValueByKey(b){if(gtmTrackingArray.length!=0){for(var a=0;a<gtmTrackingArray.length;a++){if(gtmTrackingArray[a].key==b){return gtmTrackingArray[a].value;}}}else{return undefined;}}function getCityPincodeonTab(g,c,d){var h=jQuery.trim($("#"+g+" [name="+c+"]").val());var e=/^(0|[1-9][0-9]*)$/;var a=e.exec(h);if($("#"+g+" [name="+c+"]").val()!=""&&$("#firstautopincode").val()!=""&&$("#firstautocity").val()!=""&&h.length<6){$("#"+g+" [name="+c+"]").val($("#firstautopincode").val());}if($("#firstautocity").val()!=""){var b=$("#firstautocity").val();var f=b.split(",");$("#"+g+" #"+d).next().html(f[0]);$("#"+g+" #"+d).val(f[0]);if(g=="submitLeadPopup"){$("#"+d+"_flexselect").val(f[0]);$("#"+d+" option").filter(function(){return($(this).text()==f[0]);}).prop("selected",true);getFlexSelectJSLoad();}}}function addClossEvent(){$("#showOfferUserInfoForGORPBG").attr("onclick","closeMultiDropDown('ulDealerSelect')");}function validateSelectBox(c,a,b){if($("#"+c+" [name="+a+"]").val()==""||$("#"+c+" [name="+a+"]").val()=="upcoming"){alert("Please Select "+b);return false;}return true;}function fnNotAlphabet(c){var b=c.keyCode?c.keyCode:c.which?c.which:c.charCode;var a=String.fromCharCode(b);if("'-".indexOf(a)!=-1&&(c.keyCode==c.which||c.keyCode==0||c.which==undefined)){b=100;}if((b>=48&&b<=57)||(b==45||b==13||b==8||b==9)||(c.shiftKey!=1&&b>=35&&b<=40)){checknos=true;return(checknos);}else{checknos=false;alert("Only Number Allowed !");return(checknos);}}function setupLabel(){if($(".label_check input").length){$(".label_check ").each(function(){$(this).removeClass("c_on");});$(".label_check input:checked").each(function(){$(this).parent("div").addClass("c_on");});}if($(".label_radio input").length){$(".label_radio").each(function(){$(this).removeClass("r_on");});$(".label_radio input:checked").each(function(){$(this).parent("div").addClass("r_on");});}}function closeMultiDropDown(a){if($(".mutliSelect ul#"+a).attr("style")!=undefined&&$(".mutliSelect ul#"+a).attr("style").indexOf("block")!=-1){$(".mutliSelect ul#"+a).hide();}}function editMobileNumber(f,d,b,a,e){var c=$("#"+f+" #"+d).text();$("#"+f+" #"+b).val(c);$("#"+f+" #"+d).hide();$("#"+f+" #"+a).hide();$("#"+f+" #"+b).show();$("#"+f+" #"+e).show();}function replaceWithHash(a){index=a.indexOf(" ");while(index!=-1){a=a.replace(" ","-");index=a.indexOf(" ");}return a;}function getVariantOnRoadPrice(b,d){try{$("#popupContact").hide();$("#popupheader").hide();}catch(c){}if($("#variantOnRoadPriceDiv").length){$("#variantOnRoadPriceDiv").remove();}d+="&isRelatedCar=0&isShowVariantPricePopup=true";var a=$("<div />").appendTo("body");a.attr("id","variantOnRoadPriceDiv");$.ajax({type:"POST",url:b,async:false,data:d,success:function(f){if(f!=undefined&&f!=""&&f!="ERROR"){$("#variantOnRoadPriceDiv").html(f);try{variantSlider(1);}catch(g){}convertCustomSelect(1);hideElementForOnRoadPrice(1,"true");facebookConversionCode("variantOnRoadPriceDiv");fbqTracking("popupContact","NewCarLead-Verified");}else{alert("Car Variant On Road Price not available.");}}});}var isLoadOwlcarousel=false;function variantSlider(b,a){jQuery(".tabsmain .tabvariant a").on("click",function(f){var g=jQuery(this).attr("href");jQuery(".tabsmain "+g).show().siblings().hide();jQuery(this).parent("li").addClass("active").siblings().removeClass("active");f.preventDefault();});var d=$("#"+a);setTimeout(function(){d.gsp_carousel({item:2,loop:false,slideMove:1,pager:false,slideMargin:0,enableTouch:false,enableDrag:false});},50);try{setTimeout(function(){var h=$("#fuelTypeOnRoadPrice"+b).val();var e=$("#carVariantIdOnRoadPrice"+b).val();$("#onRoadPriceFuelType"+b).next(".holder").text(h);changeFuelTypeFT(h);var f=$("#"+e).val();var g=parseInt(f);if(g==1||g==2){g=0;}else{if(f>=3){g=g-2;}}d.trigger("owl.jumpTo",g);},1000);}catch(c){}$(".carvariantslider .owl-prev, .carvariantslider .owl-next").addClass("cardekhosprite");}function convertCustomSelect(a){$("#onRoadPriceFuelType"+a).each(function(b){$(this).wrap("<span class='select-wrapper'></span>");$(this).after("<span class='holder'></span>");});$("#onRoadPriceFuelType"+a).change(function(c){var b=$(this).find(":selected").text();$(this).next(".holder").text(b);});$("#onRoadPriceCity"+a).each(function(b){$(this).wrap("<span class='select-wrapper'></span>");$(this).after("<span class='holder'></span>");});$("#onRoadPriceCity"+a).change(function(c){var b=$(this).find(":selected").text();$(this).next(".holder").text(b);});}function changeFuelTypeFT(b,a){if(b=="Diesel"){$("#DieselContainer"+a).css("display","block");$("#PetrolContainer"+a).css("display","none");$("#CNGContainer"+a).css("display","none");$("#LPGContainer"+a).css("display","none");$("#ElectricContainer"+a).css("display","none");}else{if(b=="Petrol"){$("#DieselContainer"+a).css("display","none");$("#PetrolContainer"+a).css("display","block");$("#CNGContainer"+a).css("display","none");$("#LPGContainer"+a).css("display","none");$("#ElectricContainer"+a).css("display","none");}else{if(b=="CNG"){$("#DieselContainer"+a).css("display","none");$("#PetrolContainer"+a).css("display","none");$("#CNGContainer"+a).css("display","block");$("#LPGContainer"+a).css("display","none");$("#ElectricContainer"+a).css("display","none");}else{if(b=="LPG"){$("#DieselContainer"+a).css("display","none");$("#PetrolContainer"+a).css("display","none");$("#CNGContainer"+a).css("display","none");$("#LPGContainer"+a).css("display","block");$("#ElectricContainer"+a).css("display","none");}else{if(b=="Electric"){$("#DieselContainer"+a).css("display","none");$("#PetrolContainer"+a).css("display","none");$("#CNGContainer"+a).css("display","none");$("#LPGContainer"+a).css("display","none");$("#ElectricContainer"+a).css("display","block");}}}}}}function hideElementForOnRoadPrice(d,b){if(b!=undefined&&b=="true"){$("html, body").animate({scrollTop:0},"slow");$("body").css({"overflow":"hidden"});}$("#onRoadPriceFuelType"+d).next(".holder").text($("#onRoadPriceFuelType"+d+" option:first").text());try{if(b!=undefined&&b=="true"){$("#popupContact").hide();}$("#popupheader").hide();$("#Popupform").hide();$("#onroadpriceglobal").hide();}catch(f){}var c=$("#fuelTypeOnRoadPrice"+d).val();onroadPriceCityChange(d);var a=c+"Container"+d;jQuery(".tabsmain .tabvariant a").on("click",function(i){var h=jQuery(this).attr("href");jQuery(".tabsmain "+h).show().siblings().hide(),jQuery(this).parent("li").addClass("active").siblings().removeClass("active"),i.preventDefault();});var g=$("#"+a);setTimeout(function(){g.gsp_carousel({item:2,loop:!1,slideMove:1,pager:!1,slideMargin:0,enableTouch:!1,enableDrag:!1});},50);try{setTimeout(function(){var k=$("#fuelTypeOnRoadPrice"+d).val(),h=$("#carVariantIdOnRoadPrice"+d).val();$("#onRoadPriceFuelType"+d).next(".holder").text(k),changeFuelTypeFT(k);var j=$("#"+h).val(),i=parseInt(j);1==i||2==i?i=0:j>=3&&(i-=2),g.trigger("owl.jumpTo",i);},1000);}catch(f){}$(".carvariantslider .owl-prev, .carvariantslider .owl-next").addClass("cardekhosprite"),changeFuelTypeFT(c,d);setTimeout(function(){$("#onRoadPriceFuelType"+d).val(c).prop("selected",true);},100);}function onroadPriceCityChange(c){var b=$("#onRoadPriceCityPrice"+c).val();var a=$("#mainCarOnRoadPriceCity").val();if(b!=undefined&&a!=undefined&&b!=a){$("#mainCityChange").val("true");}else{$("#mainCityChange").val("false");}$("#onRoadPriceCity"+c).next(".holder").text(b);$("#onRoadPriceCity"+c).val(b.toLowerCase()).prop("selected",true);}function changeFuelType(b,d){var c=$("#"+b+d).val();$("#"+b+d).next(".holder").text(c);$("#fuelTypeOnRoadPrice"+d).val(c);var a=c+"Container"+d;variantSlider(d,a);changeFuelTypeFT(c,d);}function hideVariantPriceDiv(){try{popupStatus=0;popUpOpen=0;removeHashTaginURL();$("#variantOnRoadPriceGrayBG").hide();$("#backgroundPopup").hide();$("#popupContact").hide();$("#popupblackbg").hide();$("#variantOnRoadPriceDiv").hide();$(".graybg").addClass("disnone");$("body").css({"overflow":"visible"});$("#gsc_modal_overlay.gsc_modal_active").hide();}catch(a){}}function getFuelTypeleads(){var b=document.forms["submitLeadPopup"].carMake[document.forms["submitLeadPopup"].carMake.selectedIndex].value;var c=document.forms["submitLeadPopup"].modelMake[document.forms["submitLeadPopup"].modelMake.selectedIndex].value;var f=document.forms["submitLeadPopup"].fuelType;if(f.length>1){for(var a=f.length;a>0;a--){f.remove(a);}}for(var a=0;a<oemArray.length;a++){if(b==oemArray[a].OemName){var e=oemArray[a].CM;for(modelIndex=0;modelIndex<e.length;modelIndex++){if(c==e[modelIndex].MN){var d=e[modelIndex].FT;if(d.length>=1){for(fuelndex=0;fuelndex<d.length;fuelndex++){getDropDownValue(f,d[fuelndex],d[fuelndex]);}if($("#new-cars").attr("style")!=null&&($("#new-cars").attr("style").indexOf("DISPLAY: none")!=-1||$("#new-cars").attr("style").indexOf("display: none")!=-1)){if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#FuelTypeDisplay").removeClass("PopupDropBox");$("#FuelTypeDisplay").removeAttr("style");$("#FuelTypeDisplay label").removeAttr("style");}$("#fuleTypeDiv").hide();}else{$("#fuleTypeDiv").show();if($.gsp_detect.isIE()&&$.gsp_detect.browser().version<=7){$("#FuelTypeDisplay").addClass("PopupDropBox");}$("#fuelType").removeAttr("disabled");if(d.length==1){$("#submitLeadPopup #fuelType").attr("disabled","disabled");$("#FuelTypeDisplay #selectedFuel").html(""+d+"");$("#FuelTypeDisplay").css({"border":"1px solid #ACACAC"});$("#FuelTypeDisplay label").css({"color":"#2D2D2D"});$("#FuelTypeDisplay a label").css("border-right","none");$("#FuelTypeDisplay a span").css("display","none");selectDropDownValue(document.forms["submitLeadPopup"].fuelType,d);}else{$("#submitLeadPopup #fuelType").removeAttr("disabled");$("#FuelTypeDisplay").css({"border":"1px solid #D0D0D0"});$("#FuelTypeDisplay label").css({"color":"#9C9C9C"});$("#FuelTypeDisplay a label").css("border-right","1px solid #D4D4D4");$("#FuelTypeDisplay a span").removeAttr("style");}}}else{$("#fuleTypeDiv").hide();}break;}}break;}}}function getVariantOnRoadPriceForRelatedCar(f,c,b,e,d,a){if($("#tabOnRoadPrice"+e).html().trim()==""){onRoadPriceCityProcess(f,c,b,e,d,a);setTimeout(function(){cardekhoConversionScript();},100);}else{hideShowRelatedCarPriceDiv(e);}}function onRoadPriceCityProcess(g,d,c,f,e,b){var a=$("#mainCarOnRoadPriceCity").val();if(a==undefined||a==""){a=d;}else{d=a;}variantOnRoadPrice(g,d,c,f,e,b);if(e=="false"){facebookConversionCode("ModelOnRoadPriceDiv");}else{facebookConversionCode("variantOnRoadPriceDiv");}onePickelTracking(g);}function onePickelTracking(b){var a=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=getLeadVerifiedPixelTrackerURL&carName="+b}).responseText;if(a==""){a="https://images.cardekho.com/images/spacer.gif";}$("#topHeadMain").html("<img src='"+a+"' alt='tracker'>");}function variantOnRoadPrice(j,i,l,g,d,c){var m="false";var b="true";var k="false";try{m=$("#isModelPage").val();if(c==undefined||c==""){c="";}k=$("#skipOnRoadPriceLeadForm").val();if(k==undefined||k==""){k="false";}b=$("#isOnRoadPriceLead").val();if(b==undefined||b==""){b="true";}}catch(h){}if(m!=undefined&&m=="true"){createGAClickEventTrackingAdWords("enquiry","clicked","enquiry-city-modelpricepage");createGAClickEventTrackingAdWords("enquiry","submit","enquiry-city-new-modelpricepage");}else{createGAClickEventTrackingAdWords("enquiry","clicked","enquiry-city-variantpricepage");createGAClickEventTrackingAdWords("enquiry","submit","enquiry-city-new-variantpricepage");}var a=basepath+"/showExShowRoomPrice.do";var f="isOnRoadPriceLead="+b+"&sameUserSearchingDifferentCar="+c+"&isModelPage="+m+"&carModelName="+j+"&cityName="+i+"&carVariantId="+l+"&isShowVariantPricePopup=true&isRelatedCar="+g+"&skipOnRoadPriceLeadForm="+k;leadSubmittedCallback();$.ajax({type:"POST",url:a,async:false,data:f,success:function(e){if(e!=undefined&&e!=""&&e!="ERROR"){$("#tabOnRoadPrice"+g).html(e);convertCustomSelect(g);setTimeout(function(){hideShowRelatedCarPriceDiv(g,d);hideElementForOnRoadPrice(g,d);},500);}else{alert("Car Variant On Road Price not available.");}}});}function getVariantOnRoadPriceForCity(g,f,b,e,d,a){var c=$("#"+f).val();$("#mainCityChange").val("true");getVariantOnRoadPriceCityWise(g,c,b,e,"true",d,a);}function getVariantOnRoadPriceCityWise(g,c,b,e,f,d,a){if(f!=undefined&&f=="true"){variantOnRoadPrice(g,c,b,e,variantOnRoadPrice,a);cardekhoConversionScript();}else{getVariantOnRoadPriceForRelatedCar(g,c,b,e,d,a);}}var divCount=4;function hideShowRelatedCarPriceDiv(b){b=parseInt(b);for(var a=1;a<=divCount;a++){if(a==b){$("#tabOnRoadPrice"+a).addClass("active");$("#tabOnRoadPrice"+a).css("display","block");}else{$("#tabOnRoadPrice"+a).removeClass("active");$("#tabOnRoadPrice"+a).css("display","none");}}}var discountcity="";var discountId="";var discountCarModel="";var discountCarVariantId="";var discountFilter="";function setDiscountOffersId(e,b,c,a,d){discountId=e;discountcity=c;discountCarModel=b;discountCarVariantId=a;discountFilter=d;}function disableDiscountPopUpCity(){var a="ok";while(a=="ok"){if($("#submitLeadPopup #cityError").length>0){$("#submitLeadPopup #cityError").hide();a="notOk";}}}function createGAClickEventForPromotions(a){createGAClickEventTrackingAdWords("Promotions",a+" Promotion Check Box Click",a);}function promotionsLeadSubmit(c,e,b,a,f){if(document.getElementById(e)!=null&&document.getElementById(b)!=null){if($("#"+f+" [name="+e+"]").val()!=""&&$("#"+f+" [name="+b+"]").val()!=""){var d=$("#"+f+" [name="+e+"]").val()+";"+$("#"+f+" [name="+b+"]").val();additionalFields=additionalFields+d+",";return c;}}else{if(document.getElementById(b)==null&&document.getElementById(e)!=null){if($("#"+f+" [name="+e+"]").val()!=""){var d=$("#"+f+" [name="+e+"]").val();if(c!="117"&&c!="209"){additionalFields=additionalFields+d+",";return c;}if(c=="117"){additionalFields=additionalFields+d;d=$("#"+f+" [name='panCardNo117']").val();if((typeof(d)!="undefined")&&fnValidatePAN(d)){additionalFields=additionalFields+";"+d+",";return c;}}if(c=="209"){additionalFields=additionalFields+d+",";return c;}}}else{if(document.getElementById(a)!=null&&$("#"+f+" [id="+a+"]").html()!=""){additionalField3=$("#"+f+" [id="+a+"]").html();additionalFields=additionalFields+additionalField3+",";return c;}else{additionalFields=additionalFields+" "+",";return c;}}}}function fnValidatePAN(a){if(a!=""){var d=/^([a-zA-Z]{5})(\d{4})([a-zA-Z]{1})$/;var c=/([C,P,H,F,A,T,B,L,J,G])/;var b=a.substring(3,4);if(a.search(d)==-1){return false;}if(c.test(b)==false){return false;}}return true;}function verifiedMobileCallbackOthers(b,a){leadResult(b,a);}function changePanIndiaCity(){try{var g=$("#panIndiaForm #cityName").val();if(g!=""){updateSessionCity("panIndia",g);var f=$("#panIndiaForm #PIleadId").val();var b=$("#panIndiaForm #PIcarmodelname").val();var a=$("#panIndiaForm #PIcarvariantId").val();var c=$("#panIndiaForm #PIoemname").val();carLeadCity=g;openleadPopup(f,"","",g,b,a,c,"","");callGTMLayerEvent("CityPopUpSubmit");$("#panIndiaCityPopUP").addClass("DispNone");}else{alert("Please select your city");}}catch(d){}}function getpdfDownloadfile(a){failureBrochureId=a;brochureEmailId=$("#submitLeadPopup #emailId").val();brochureMobileNumber=$("#submitLeadPopup #mobileNo").val();if(brochureEmailId=="Email"||brochureMobileNumber=="Mobile No."){$("#forwordUrl").val(basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+a);}else{$("#forwordUrl").val(basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+a+"&UserId="+brochureEmailId+"&MobileNo="+brochureMobileNumber);}}function addSelectAllDealerOption(c){var b=document.getElementById("ulDealerSelect");var a=document.createElement("li");if(c=="submitLeadPopup"){a.innerHTML='<div class="chkhold "><div class="label_check labelcheck spriteheader"><input  name="selectalldealers" id="selectalldealers" value="" type="checkbox" onclick="selectORPDealers(\''+c+'\',\'selectalldealers\');"><label for="selectalldealers" class="Text13">(Select All)</label></div></div>';}else{a.innerHTML='<div class="chkhold "><div class="label_check labelcheck spriteheader"><input  name="selectalldealers" id="selectalldealers" value="" type="checkbox" onclick="setupLabel();selectDealers(\'selectalldealers\',\''+c+'\');"><label for="selectalldealers" class="Text13">(Select All)</label></div></div>';}b.appendChild(a);}function selectDealers(a,b){if($("#"+b+" #"+a).is(":checked")){if($(".multiSel").html()!=undefined){$(".multiSel").html("");$("#"+b+" .label_check input").each(function(){$(this).prop("checked",true);$(this).parent().addClass("c_on");var e=$(".multiSel").html();var d=$(this).closest(".mutliSelect").find('input[type="checkbox"]').attr("title"),d=$(this).attr("title")+",";if($(this).attr("title")!=undefined&&e.indexOf($(this).attr("title"))==-1){var c='<span title="'+d+'">'+d+"</span>";$(".multiSel").append(c);$(".hida").hide();}});}else{$("#"+b+" .label_check input").each(function(){$(this).prop("checked",true);$(this).parent().addClass("c_on");});if(b=="submitLeadPopup"){$("#ulDealerSelect").parent().removeClass("IncorrectFill");}}}else{$("#"+b+" .label_check input").each(function(){$(this).prop("checked",false);$(this).parent().removeClass("c_on");var e=$(".multiSel").html();var d=$(this).closest(".mutliSelect").find('input[type="checkbox"]').attr("title"),d=$(this).attr("title")+",";$('span[title="'+d+'"]').remove();var c=$(".hida");$(".popupdropdown dt a").append(c);});if(b=="submitLeadPopup"){$("#ulDealerSelect").parent().addClass("IncorrectFill");}$("p.multiSel").html("");$(".hida").show();}}
/*!
 * CarDekho New Ajax Call Library
 * http://www.cardekho.com/
 *
 * Author: Vinay Malik
 * Date: Fri Sep 20 15:34:03 2013 +0530
 */
function startMisscallProcess(a){if(a==""&&$("#submitResponsejquery #userMobileNoForVerification").text()!=""){a=$("#submitResponsejquery #userMobileNoForVerification").text();}if($("#userMobileNoForVerification ~ a:first").text()=="update"){alert("Please Update Your Mobile Number First");return;}document.getElementById("mobileVerificationProgress").style.display="block";$.ajax({type:"GET",dataType:"json",url:basepath+"/ajaxCallAction.do",data:"parameter=startMissCallVerifcationProcess&mobileno="+a,success:function(b){if(b.status=="Ok"){$("#tmpDiv").fadeOut("slow");$("#tmpDiv").remove();$("#mobileNoImageHolder .imageContainer").append("<div id='tmpDiv' class='Textcenter W250 Textcenter InlineBlock'><span class='Text16'>"+b.number+"</span> <span class='Text14'>Toll Free</span></div>");$("#mobileNoImageHolder").fadeIn("slow");$("#missCallLink").html('<span class="TBold Text15">Did not receive the SMS?</span>');document.getElementById("mobileVerificationProgress").style.display="none";$("#tollFreeNo").html(b.number+"<span>(Toll Free)</span>");}else{alert("Some error occurred. please try again.");}}});}function selectORPDealers(c,a){if(a!="selectalldealers"){if($("#"+c+" #"+a).is(":checked")){$("#"+c+" #"+a).prop("checked",true);$("#"+c+" #"+a).parent().addClass("c_on");}else{$("#"+c+" #"+a).prop("checked",false);$("#"+c+" #"+a).parent().removeClass("c_on");$("#"+c+" #selectalldealers").prop("checked",false);$("#"+c+" #selectalldealers").parent().removeClass("c_on");}var b=$("#"+c+' #ulDealerSelect input[type="checkbox"]').length;var d=0;$("#"+c+' #ulDealerSelect input[type="checkbox"]').each(function(){if($(this).is(":checked")){d++;}});if((b-1)==d){$("#"+c+" #selectalldealers").prop("checked",true);$("#"+c+" #selectalldealers").parent().addClass("c_on");}}else{$("#"+c+' #ulDealerSelect input[type="checkbox"]').each(function(){if($("#"+c+" #"+a).is(":checked")){$(this).prop("checked",true);$(this).parent().addClass("c_on");}else{$(this).prop("checked",false);$(this).parent().removeClass("c_on");}});}if(c=="submitLeadPopup"){checkPopupFields("submitLeadPopup","submitButtom");}}function submitSliderPopUpLead(v,a,w){var s="mobileNo~mobileNo,userId~userId,emailId~emailId,buyingTimeError~xdrpbuyday,pinCode~pinCode,cityError~cityName,termCondition~termCondition";if(!validateAllFieldsWithRedMarkLandingPage(s,v)){return false;}var g=1;if(!$("#"+v+" [name=termCondition]").is(":checked")){g=0;alert("Please Agree to Terms and Conditions");return false;}var l=$("#"+v+" [name=carNamehidden]").val();var m=$("#"+v+" [name=oemNamehidden]").val();var i=$("#"+v+" [name=carVariantIdhidden]").val();var k=$("#"+v+" [name=xdrpbuyday]").val();var b=$("#"+v+" [id=cityName_flexselect]").val();var r=$("#"+v+" [name=emailId]").val();var d=$("#"+v+" [name=userId]").val();var n=$("#"+v+" [name=mobileNo]").val();var q=$("#"+v+" [name=pinCode]").val();var f=0;var x="";var p;var o;var h="";var j=0;var c="";var u="&flagExchange="+c;floodLightTracking.oemNameTracking=m;floodLightTracking.modelNameTracking=l;floodLightTracking.varinatNameTracking=i;r=r.replace(/\s+/g,"");var t="leadType="+a+"&userId="+d+"&emailId="+r+"&mobileNo="+n.substring(n.length-10,n.length)+"&pinCode="+q+"&carName="+l+"&carVariantId="+i+"&oemName="+m+"&carDetailUrl="+window.location.href+"&usedCarId="+f+"&finance="+x+"&cityName="+b+"&carBuyerDays="+k+"&userAdsInfo="+p+"&additionalFieldFirst="+o+"&termCondition="+g+"&leadLocation="+pageLocation+u+"&fuelType="+h+"&zipCodeId="+j;var e=basepath+"/leadSubmit.do";$.ajax({type:"POST",url:e,data:t,dataType:"text",success:function(y){setTimeout(function(){if(y!="ERROR"){var B="";try{var G=$.parseJSON(y);B=G.message;}catch(C){var G={};G["lid"]=0;}if(B=="mobileVerificationActivated"){var A=$.ajax({type:"POST",url:basepath+"/mobileVerification.do",async:false,data:"parameter=getSMSVericationHTML&oemName="+m+"&carName="+l+"&carVariantId="+i+"&City="+b+"&leadType="+a+"&lid="+G.leadid+"&formId="+v+"&sliderPopup=sliderPopUp"}).responseText;var z="";if(v.indexOf("exterior")>=0){z="owl-picture1";}else{if(v.indexOf("interior")>=0){z="owl-picture2";}else{if(v.indexOf("roadTest")>=0){z="owl-picture3";}else{if(v.indexOf("allImage")>=0){z="owl-picture4";}}}}$("#"+z+" #leadPopupMobileVerificationFormDiv").html(A);$("#"+z+" #leadPopupFormDiv").hide();$("#"+z+" #leadPopupMobileVerificationFormDiv").show();}else{if(a==48){var F=$("#"+v+" #emailId").val();var D=$("#"+v+" #mobileNo").val();var H=$.ajax({type:"POST",url:basepath+"/getBrochureDetailsAction.do",async:false,data:"method=checkLimitForBrochureDownload&UserId="+F+"&MobileNo="+D}).responseText;if(H==""){$("#"+v+" #forwordUrl").val(basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+w+"&UserId="+F+"&MobileNo="+D);var E=$("#"+v+" #forwordUrl").val();$("#"+v).attr("action",E);addCarDekhoGoogleConversionScriptCode();$("#"+v).submit();var z="";if(v.indexOf("exterior")>=0){z="owl-picture1";}else{if(v.indexOf("interior")>=0){z="owl-picture2";}else{if(v.indexOf("roadTest")>=0){z="owl-picture3";}else{if(v.indexOf("allImage")>=0){z="owl-picture4";}}}}$("#"+z+" #leadPopupFormDiv").hide();$("#"+z+" #leadPopupNoMobileVerificationDiv").show();}else{if(H=="You cannot download brochure more than 5 times"){alert("You can not download brochure more than 5 times");}else{alert("You can not download brochure because of some error");}}}}}},50);}});}function set_Cookie(g,e,a,b,f,c){var h=new Date();h.setTime(h.getTime());var d=new Date(h.getTime()+3600000*24*a);document.cookie=g+"="+escape(e)+((a)?";expires="+d.toGMTString():"")+((b)?";path="+b:"")+((f)?";domain="+f:"")+((c)?";secure":"");}function hidePinCodeForTieUpOem(leadId,oemName,formId,pinCodeId,modelName){if(oemNameArray.indexOf(oemName+",")!=-1&&(leadId==19||leadId==70||leadId==80)){$("#"+formId+" [id="+pinCodeId+"]").hide();$("#"+formId+" #searchpin").hide();$("#"+formId+" .pincodetextDCB").hide();$(".pincodetext").hide();$("#searchpin").hide();$("#cityError").removeClass("MarginL12");if(leadId==80){var cityName=$("#firstautocity").val();}else{var cityName=$("#"+formId+" [name=cityName]").val();}$.post(basepath+"/ajaxCallAction.do",{parameter:"getPincodesForCity","city":cityName},function(data){if(data!="ERROR"&&data!=""){var datax=eval(data);$("#"+formId+" [id="+pinCodeId+"]").val(datax[0].pincode);$("#"+formId+" [name=cityName]").val(datax[0].mainCity);if(leadId=="70"&&formId!="submitLeadPopup"){getDealerCallbackListByCity(formId,"cityName",oemName,modelName,"dealerSelectGORPForm","false",pinCodeId,"false");}}});return"true";}return"false";}function processMisscallMobileVerification(b,a){window["mobileVerificationCallbackDataArray"]=new Array(b);window["mobileVerificationCallbackFunction"]=a;processMobileVerification("misscall");}function getDealerCallbackDealerList(){var a=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackDealerDetailListHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&pinCode="+userPincode}).responseText;$("#modelNameTextContainer").html("Choose Dealers To Get a Call From<p class='Blackb6 Text12 PaddingT10 dealerpoptitle'>Please choose a dealer you would like to get a call back from.</p>");$("#submitResponsejquery").html(a);addCarDekhoGoogleConversionScript(a);}function setSelectValueInDivByID(c,d){var b=document.getElementById(c);var a=b.options[b.selectedIndex].value;$("#"+d).html(a);if(c=="DCBCityName"){if(a==""){$("#DCPcityError").addClass("Incorrect");$("#DCPcityError").css({"border":"solid 1px #D0D0D0"});$("#DCPcityError label").css({"color":"#9C9C9C"});}else{$("#DCPcityError").css({"border":"solid 1px #acacac"});$("#DCPcityError label").css({"color":"#2d2d2d"});}}}function validatePopupPincodeField(a){var b=jQuery.trim($("#"+a).val());if(b==""||b=="Pin Code"){$("#"+a).addClass("Incorrect");$("#"+a).css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+a).addClass("BtnGrey");return false;}else{if(b.length<6||b==0||b.charAt(0)==0){$("#"+a).addClass("Incorrect");$("#"+a).css({"border":"1px solid #D0D0D0","color":"#9C9C9C"});$("#"+a).addClass("BtnGrey");return false;}}$("#"+a).css({"border":"1px solid #ACACAC","color":"#2D2D2D"});return true;}function changeDealerCallbackDealerListByCity(a,d){var c=0;if(validatePopupPincodeField(d)){userPincode=jQuery.trim($("#"+d).val());c=$("#zipCodeId").val();if(c==null||c==""){c=0;}}else{return false;}dealerCallbackLeadCity=$("#"+a+"_flexselect").val();$("#"+a+" option").filter(function(){return($(this).text()==dealerCallbackLeadCity);}).prop("selected",true);var b=$.ajax({type:"POST",url:basepath+"/dealerCallbackAjaxCallAction.do",async:false,data:"parameter=dealerCallbackDealerDetailListHTML&oemName="+dealerCallbackLeadOemName+"&carName="+dealerCallbackLeadCarName+"&carVariantId="+dealerCallbackLeadCarVariantId+"&City="+dealerCallbackLeadCity+"&pinCode="+userPincode+"&ZipCodeId="+c}).responseText;$("#modelNameTextContainer").html("Choose Dealers To Get a Call From<p class='Blackb6 Text12 PaddingT10 dealerpoptitle'>Please choose a dealer you would like to get a call back from.</p>");$("#submitResponsejquery").html(b);getFlexSelectJSLoad();}function dealerCallBackLink(a,g,i,e,c,j,h,f,d,b){failureLeadId=a;failureLeadType=g;failurePrice=i;failureCarModelName=e;failureCarVariantId=c;failureOem=j;failureMaxCarPrice=h;failureCity=f;failureShowDealerCallbackPopUp=d;failureZipCode=b;isDealerCallbackPopOpen="true";dealerCallbackLeadCarName=e;if(d==""){openleadPopup(a,g,i,f,e,c,j,h);}else{dealerCallbackLeadOemName=j;dealerCallbackLeadCarVariantId=c;dealerCallbackLeadCity=f;userPincode=b;openleadPopup(a,g,i,f,e,c,j,h,d);}}function focusOutFromDealerPopup(f,c,g,a,d){createGAClickEventTrackingAdWords("Lead Popup","Lead Form",a);if(checkPopupFields("submitLeadPopup","submitButtom")){callGTMLayerEvent("FirstSubmit");submitLeadRequest(f,c,g);}else{var e="brandError~carMake,modelError~modelMake,cityError~cityName,pinCode~pinCode,userId~userId,emailId~emailId,mobileNo~mobileNo";if(!validateAllFieldsWithRedMark(e,"submitLeadPopup","submitButtom")||!$("#"+g+" [name=termCondition]").is(":checked")){callGTMLayerEvent("Error");}var b=1;if(!$("#"+g+" [name=termCondition]").is(":checked")){b=0;alert("Please Agree to Terms and Conditions");$("#"+g+" [name="+buttonName+"]").addClass("BtnGrey");return false;}}}function submitDealerCallbackPopUpLead(carName,city){createCONNECTOIDInCookies();var dealerCallbackId=$("#dealerCallBackDealerListContainer input:checked").map(function(){return this.value;}).get().join(",");dealerCallbackId=dealerCallbackId.replace(",","");if(dealerCallbackId.length==0){alert("Please select atleast 1 dealer");return false;}var pincode;if(document.getElementById("DCBpinCode")!=null&&document.getElementById("DCBpinCode")!=undefined&&document.getElementById("DCBpinCode")!=""){pincode=jQuery.trim($("#DCBpinCode").val());}var carVariantId=$("#submitLeadPopup #carVariantIdhidden").val();floodLightTracking.varinatNameTracking=carVariantId;floodLightTracking.modelNameTracking=carName;floodLightTracking.oemNameTracking=$("#submitLeadPopup #oemNamehidden").val();$.post(basepath+"/ajaxCallAction.do",{parameter:"saveDealerCallbackLead",dealerId:dealerCallbackId,carName:carName,city:city,detailsUrl:document.URL,leadLocation:pageLocation,carVariantId:carVariantId,pinCode:pincode},function(json){var data="";try{data=json.message;if(typeof json!=undefined&&json.LandingPageInfoLead=="LandingPageInfoLead"){addCarDekhoGoogleConversionScriptCode();}leadSubmittedCallback();}catch(e){}if(data!="failure"){var selectedDealerName="";var responseDealerList="<ul>";var data1=eval(data);var responseCounter=0;$.each(data1,function(i,item){selectedDealerName=item.DealerName;responseDealerList=responseDealerList+"<li>"+item.DealerName+"</li>";responseCounter=responseCounter+1;});$("#modelNameTextContainer").html("Thank you!<p class='Blackb6 Text12 PaddingT10 dealerpoptitle'></br>You will receive a call from "+selectedDealerName+" soon.</p>");document.getElementById("dealerCallBackDealerListSection").style.display="none";if(responseCounter>4){$("#thankYouMsgContainer").css({"height":"155px","overflow-y":"scroll"});}responseDealerList=responseDealerList+"</ul>";if(window["awLanding"]!=undefined&&window["awLanding"]!=""){var jsonParam=[];jsonParam.push("model");jsonParam.push("tN");jsonParam.push("callbackDealers");var jsonParamValue=[];jsonParamValue.push(vN);jsonParamValue.push(vN+" On Road Price");jsonParamValue.push("You will receive a call from following dealers soon!<br />"+addSlashes(responseDealerList));multipleDataPostRedirect(getCurrentUrl()+"+70+"+window["awLanding"],jsonParam,jsonParamValue);return;}callGTMLayerEvent("Submit");document.getElementById("thankYouMsg").style.display="block";if(document.getElementById("DCBChangeCityDiv")!=null&&document.getElementById("DCBChangeCityDiv")!=undefined){document.getElementById("DCBChangeCityDiv").style.display="none";}dealerCallBackSession(carName);}},"json");}function getDCBPopup(g,b,e,c,a,f,i,h,j,d){setTimeout(function(){if(isDealerCallbackPopOpen=="false"){setleadLocation(i);if(d!=undefined){autoOpenLeadPopup();}getPopUpCodeByAjaxCall("70",g,e,"",b,"");dealerCallBackOpenPopup("70","dealerCallback",a,e,"",b,c,g,f,j,d);createGAClickEventTrackingAdWords(h,"Dealer Callback Lead","Get a FREE Call Back");}},90000);}function autoOpenLeadPopup(){autoOpenPopup="auto";}function autoOpenLeadPopupClear(){autoOpenPopup="";}var isDealerCallbackPopOpen="false";function dealerCallBackOpenPopup(a,f,h,d,b,i,g,e,c,j){if(isDealerCallbackPopOpen=="false"){dealerCallBackLink(a,f,h,d,b,i,g,e,c,j);}}function dealerCallBackSession(a){createGAClickEventTrackingAdWords("Lead Popup","Dealer Callback Lead Close","Select Dealer for Dealer Callback");$.post(basepath+"/ajaxCallAction.do",{parameter:"setSliderAdd",ModelName:a},function(b){});}var isHondaSponsored="";function setLeadForHondaSponsored(b){var a=$("#"+b+' input[type="checkbox"]').is(":checked");if(a==true){isHondaSponsored="dealerSelected";}}function setLeadOnDealerSelect(b){isHondaSponsored="";var a=$("#"+b).is(":checked");if(a==true){isHondaSponsored="dealerSelected";}}function createCONNECTOIDInCookies(){try{var a=get_Cookie("CONNECTOID");if(typeof(a)=="undefined"||a==""||a.toLowerCase()=="null"){if(typeof(_connecto)=="undefined"||typeof(_connecto.getIdentity)=="undefined"){setTimeout(createCONNECTOIDInCookies,3000);}else{var b=_connecto.getIdentity();set_Cookie("CONNECTOID",b,30,"/","","");}}}catch(c){console.log("Error  in setting Connecto Id value");}}var leadTypeTextByLeadId="";var formLeadType=["orp","upcomingcarleads","brochureleads","offerleads","dcbleads","smsdetailsleads"];var mobileVerifyLeadType=["offerleads","dcbleads","smsdetailsleads"];var multiDealer=undefined;$(function(){$.frm_dealers=[];var leadForm={apis:{pinCode:basepath+"/ajaxCallAction.do?parameter=getCityNameByPinCode&format=Gson",dealer:basepath+"/carLeadsAjaxCallAction.do?parameter=getDealerCallbackListByCity",},stepMessages:{customers:"Over <span>1 million</span> happy CarDekho Customers",dcbleads:{1:{dealers:""},2:{offers:"Get assured personalized offers within next 24 hours",dealers:$(".dealerMsg").html()},3:{offers:"You are just one step away to get offers",dealers:$(".dealerMsg").html()}},all:{1:{dealers:""},2:{offers:"You are just 1 step away from unlocking all car prices",dealers:""},3:{offers:"You are just one step away to get offers",dealers:""}},smsdetailsleads:{1:{offers:$(".leadWiseWelcomeLeftText").html(),dealers:""},2:{offers:$(".leadWiseWelcomeLeftPersonalText").html(),dealers:""},3:{offers:"",dealers:""}},offerleads:{1:{offers:$(".leadWiseWelcomeLeftText").html(),dealers:""},2:{offers:$(".leadWiseWelcomeLeftPersonalText").html(),dealers:""},3:{offers:"",dealers:""}},},otpSeconds:25,maxOtpAttempts:4,cookieName:"leadForm",onStepChange:function($form,formData,step,formPref){createCONNECTOIDInCookies();var city=$form.find("input[data-gsf-name=cityName]").data("gsTaVal").text;if(formPref.formType!=undefined){if(formPref.formType=="dcbleads"&&isMobileVerifyForLead(formPref.formType)&&step==3){$form.find("input[data-gsf-name=isVerify]").attr("data-gsv-type","required");}console.log("asgdjh==>"+isMobileVerifyForLead(formPref.formType));var $isVerify=$form.find("input[data-gsf-name=isVerify]");if(isMobileVerifyForLead(formPref.formType)){$isVerify.attr("data-gsv-type","required");}else{$isVerify.removeAttr("data-gsv-type");}if(formPref.formType=="dcbleads"&&step==2){sessioncity=city.toLowerCase();$(".pincodebox #address").html(city);$(".dealers-list").gsc_scroll();var formCookie=$.gsp_cookie.readWrite("leadForm");if(formCookie==undefined){trackGTMLayerEvent("Click","City_Screen","2",dcbLocation,"70");}trackGTMLayerEvent("Click","Dealer_Screen_Open","2",dcbLocation,"70");}else{$form.find("*[data-gsf-name=userId]").on("keyup.lead_form",function(){if($form.find("*[data-gsf-name=userId]").val()==""){$("#niceToMeet").addClass("hidden");}else{$("#niceToMeet").removeClass("hidden");}});}}},afterFormSubmit:function($form,resp){var self=this;var formType=$("*[data-lead-form]").data("leadForm").formType;redirectAfterSubmit($form,resp,formType);},_onBeforeSetCookie:function($form,formPref,formCookie){var self=this;if(sessioncity!==undefined&&formCookie!==undefined&&sessioncity.toLowerCase()!=formCookie.formData.cityName.toLowerCase()){self.toggleCookie(true,formCookie.formData,formCookie.step,formCookie.isSubmitted);formCookie=self.toggleCookie(false);}},isCookie:typeof $.gsp_cookie!="undefined",isMobile:$.gsp_detect.isMobile(),step:0,otpInterval:0,otpAttempts:0,currentCity:"",currentPinCode:"",cityName:[],pinCode:[],dealer:[],init:function(){var self=this;if(!self.isCookie){console.error("Missing: Cookie Plugin");return;}self.bindGeneralEvents();getSubCities(function(cities){self.cityName=cities;self.bindForm();if(self.isMobile){$("*[data-lead-form]").each(function(){var $this=$(this);self.setCookieData($this);self.initForm($this);});}else{self.initModal();}});history.replaceState("",document.title,window.location.href.split("#")[0]);},initForm:function($frm){console.log($(".dealerMsg").html());this.updateMessages($frm,1);$frm.find("*[data-step-target]").on("click",function(){var $this=$(this),step=$this.data("step-target");$this.addClass("active");setTimeout(function(){$this.removeClass("active");},800);history.replaceState("",document.title,window.location.href.split("#")[0]+"#"+step);});this._mobileValidation($frm);this._alphaValidation($frm);this._mobileNumberOTP($frm);},_mobileValidation:function($frm){var reg=/^([7|8|9])$/,$mobile=$frm.find("[data-gsf-name=mobileNo]"),self=this;$mobile.on("paste",function(e){var $e=$(this);if(!self._checkDigit(e)){setTimeout(function(){$e.val("").change();},10);}}).on("keyup",function(e){var v=$(this).val(),$this=$(this),$err=$this.siblings("span[data-gsv-error]");reg.test(v.slice(0,1))?$err.addClass("hide"):$err.removeClass("hide");$frm.find(".verifymobile").find("span").removeClass("invalid").addClass("valid");}).on("keypress",function(e){var code=e.keyCode?e.keyCode:e.which?e.which:e.charCode,$this=$(this);if($.inArray(code,[55,56,57])!=-1&&$this.val().length==0){$this.siblings("span[data-gsv-error]").addClass("hide");}$frm.find(".verifymobile").find("span").removeClass("invalid").addClass("valid");return self._checkDigit(e);}).on("blur",function(){$(this).siblings(".invalid").removeClass("hide");$frm.find(".verifymobile").find("span").removeClass("invalid").addClass("valid");});},_mobileNumberOTP:function($frm){var reg=/^([7|8|9])$/,$mobileOTP=$frm.find("#inputOtp"),self=this;$mobileOTP.on("keypress",function(e){var code=e.keyCode?e.keyCode:e.which?e.which:e.charCode,$this=$(this);if($.inArray(code,[55,56,57])!=-1&&$this.val().length==0){$this.siblings("span[data-gsv-error]").addClass("hide");}return self._checkDigit(e);});},_alphaValidation:function($frm){var $name=$frm.find("[data-gsf-name=userId]"),self=this;$frm.gsp_validate("addRules",function(v){return(v.length>2);},"custom-min-length","Name is too small");$name.on("paste",function(e){var $e=$(this);if(!self._checkAlpha(e)){setTimeout(function(){$e.val("").change();},10);}}).on("keypress",function(e){return self._checkAlpha(e);});},_checkDigit:function(e){var code=e.keyCode?e.keyCode:e.which?e.which:e.charCode;var charString=String.fromCharCode(code);if("'-".indexOf(charString)!=-1&&(e.keyCode==e.which||e.keyCode==0||e.which==undefined)){code=100;}return((code>=48&&code<=57)||(code==45||code==13||code==8||code==9)||(e.shiftKey!=1&&code>=35&&code<=40));},_checkAlpha:function(e){var code=e.keyCode?e.keyCode:e.which?e.which:e.charCode;return((code>=65&&code<=90)||(code>=97&&code<=122)||code==32||code==46||code==8||code==17||code==127||code==9||code==16||(e.shiftKey!=1&&code>=35&&code<=40));},bindGeneralEvents:function(){var self=this;$(window).on("hashchange.leadform",function(){var target=location.hash.replace("#","")!=""?location.hash.replace("#",""):"";if(target==""&&!self.isMobile){$(".closemodal:visible").click();}});},initModal:function(){var self=this;$("[data-trigger-form]").each(function(){var $this=$(this),$step=$($this.data("trigger-form")),$form=$step.find("*[data-lead-form]"),formPref=self.getFormPreferences($form),formCookie=self.toggleCookie(false);leadTypeTextByLeadId=getLeadTypeTextByLeadId(formPref.formType);self.initForm($form);$this.on("click",function(){formCookie=self.toggleCookie(false);if(isMobileVerifyForLead(formPref.formType)&&formCookie!=undefined){var isMobileVerify=isNumberMobileVerified($form,formCookie.formData);console.log("isMobileVerify init model="+isMobileVerify);if(isMobileVerify=="Verified"){$form.find("*[data-gsf-name=isVerify]").val("1");}}if(formCookie!==undefined){if(sessioncity!==undefined&&sessioncity.toLowerCase()!=formCookie.formData.cityName.toLowerCase()){self.pinCode=formCookie.choices.pinCode;self.toggleCookie(true,formCookie.formData,formCookie.step,formCookie.isSubmitted);formCookie=self.toggleCookie(false);}var isVerified=isMobileVerifyForLead(formPref.formType)&&formCookie.formData.isVerify!==undefined&&formCookie.formData.isVerify==1;if(!isVerified){self.toggleCookie(true,formCookie.formData,formCookie.step,false);formCookie=self.toggleCookie(false);}}if(self._onBeforeSetCookie){self._onBeforeSetCookie($form,formPref,formCookie);}if(getFormTypeValue(formPref.formType)&&formPref.formType!=="dcbleads"&&formCookie!==undefined&&formCookie.isSubmitted&&isVerified){self.setCookieData($form);}else{callGTMLayerEvent("Open");$step.removeClass("hide").trigger("gse_modal.open");}});});$("*[data-lead-form]").parents(".lead_form_popup").on("gse_modal.onopen",function(){var $this=$(this);self.setCookieData($this.find("form"));history.pushState("",document.title,window.location.href.split("#")[0]+leadTypeTextByLeadId);}).on("gse_modal.onclose",function(){self.step=0;history.replaceState("",document.title,window.location.href.split("#")[0]);removeleadPopupAfterSubmit();});},setCookieData:function($form){var self=this,leadCookies=self.toggleCookie(false),$dataSteps=$form.find("*[data-step]");$dataSteps.addClass("hide").first().removeClass("hide");if(typeof leadCookies!=="undefined"){var formPref=self.getFormPreferences($form),choices=leadCookies.choices,selectedChoices=leadCookies.formData,input_selector="input[data-gsf-name], textarea[data-gsf-name], select[data-gsf-name]";if(leadCookies.isSubmitted){$("#gsc_modal_overlay").removeClass("gsc_modal_active");$form.parent().removeClass("gsc_modal_open");$dataSteps.eq(1).addClass("hide");}if(choices.dealer!==undefined&&formPref.formType=="dcbleads"){self.dealer=choices.dealer;}var groupCity=false;$form.find(input_selector).each(function(index,el){var $el=$(el),elType=$el.attr("type"),elName=$el.data("gsf-name");if(elName=="cityName"){self.getSetCurrentValue("currentCity",selectedChoices[elName],true);}if(typeof selectedChoices[elName]!=="undefined"){var selectedChoice=selectedChoices[elName],isDealer=elName=="dealer";if($el.is("[data-gsf-value]")&&$el.attr("data-gsf-value")!==undefined){selectedChoice=$el.attr("data-gsf-value");}if(typeof $el.data("plugin_gs_ta")!="undefined"){if(typeof choices[elName]!=="undefined"){$el.gsp_typeahead("setChoices",choices[elName]);}else{if(elName=="cityName"){$el.gsp_typeahead("setChoices",self.cityName);}}if(elName=="cityName"){$el.gsp_typeahead("setValue",convertFirstLetterCapital(selectedChoice));if($el.data("gsTaVal")==undefined){$el.gsp_typeahead("setValue",selectedChoice);}groupCity=$el.data("gsTaVal")!=undefined&&($el.data("gsTaVal")["group-parent"]!==undefined||$el.data("gsTaVal")["group"]!==undefined);if(formPref.formType=="dcbleads"){var emptyList=isEmptyDealerList($form,self);}}else{$el.gsp_typeahead("setValue",selectedChoice);}}else{if(elType=="radio"||elType=="checkbox"){if(selectedChoice===true){$el.prop("checked",true);}}else{if(elName!=="dealer"){$el.val(selectedChoice);}}}if(elType=="text"||elType=="tel"||elType=="email"){if(!isDealer&&selectedChoice!=""){$el.siblings("label").addClass("active");}}}});var isStepFilled=self.checkFormData($form,"data-gsv-type",self.step);var formCookie=self.toggleCookie(false);if(isMobileVerifyForLead(formPref.formType)&&formCookie!=undefined){var isMobileVerify=isNumberMobileVerified($form,formCookie.formData);if(isMobileVerify=="Verified"){$form.find("*[data-gsf-name=isVerify]").val("1");}}if(getFormTypeValue(formPref.formType)&&isStepFilled&&(formPref.formType!="dcbleads"||(typeof regionCity==undefined||regionCity!=""||(regionCity==""&&!groupCity)))){$form.find("[data-step-target=2]").trigger("click.form");}else{$("[data-gsf-name=cityName]").gsp_typeahead("setValue","");setTimeout(function(){$("[data-gsf-name=cityName]").next().addClass("valid");},10);trackGTMLayerEvent("Click","City_Screen_Open","1",dcbLocation,"70");}}},checkFormData:function($frm,attrToCheck,step){var $eleToCheck=$frm,attr="data-gsf-name";if(step!==undefined){step+=1;$eleToCheck=$frm.find("*[data-step="+step+"]");}if(attrToCheck!==undefined){attr=attrToCheck;}var $stepInputs=$eleToCheck.find("input["+attr+"], textarea["+attr+"], select["+attr+"]"),isFormFilled=true;$stepInputs.each(function(){if($(this).val()==""){isFormFilled=false;return false;}});return isFormFilled;},toggleCookie:function(writeFlag,formData,step,isSubmitted){var self=this,_cookie=$.gsp_cookie.readWrite(self.cookieName);if(_cookie!==undefined){if(_cookie.choices.pinCode!==undefined){self.pinCode=_cookie.choices.pinCode;}if(_cookie.choices.cityName!==undefined){self.cityName=_cookie.choices.cityName;}}if(!self.isCookie){console.error("Missing: Cookie Plugin");return;}if(writeFlag){var obj={choices:{pinCode:self.pinCode,dealer:self.dealer},formData:formData,step:step,isSubmitted:isSubmitted};$.gsp_cookie.readWrite(self.cookieName,obj,{expires:{type:"d",value:30},path:"/"});return true;}else{return $.gsp_cookie.readWrite(self.cookieName);}},getCities:function(cb){var cities=[];$.each(mostPopularCityArray,function(i,v){$.merge(cities,v.cities);});cities.sort(function(city1,city2){var cityname1="";var cityname2="";if(city1.DCN!=undefined){cityname1=city1.DCN.toLowerCase();}if(city2.DCN!=undefined){cityname2=city2.DCN.toLowerCase();}if(cityname1<cityname2){return -1;}if(cityname1>cityname2){return 1;}return 0;});var sortedCities=[];cities.push({"CN":"","DCN":"---------------",disable:true});$.each(cityArray,function(i,v){$.merge(sortedCities,v.cities);});sortedCities.sort(function(city1,city2){var cityname1="";var cityname2="";if(city1.DCN!=undefined){cityname1=city1.DCN.toLowerCase();}if(city2.DCN!=undefined){cityname2=city2.DCN.toLowerCase();}if(cityname1<cityname2){return -1;}if(cityname1>cityname2){return 1;}return 0;});$.merge(cities,sortedCities);cb(cities);},getDealers:function(req,cb){$.frm_dealers=[];$.ajax({url:this.apis.dealer,data:req,success:function(data){cb(data);}});},showDealers:function($frm){if($.frm_dealers.length==0){$.frm_dealers=eval(this.dealer);}var dealerArrayLength=$.parseJSON(this.dealer).filter(function(x){return x.dealerId;}).length;var formPref=this.getFormPreferences($frm),errorMessage="No dealers found!",$dealerList=$frm.find(".dealers-list"),$dealer=$frm.find("*[data-gsf-name=dealerId]");$dealerCallBackId=$frm.find("*[data-gsf-name=dealerCallBackId]");var template="";if(multiDealer!=undefined&&multiDealer=="true"){template=template+'{{ if($.frm_dealers.length) { $.each($.frm_dealers,function(index, dealer) { }} <label class="dealeraddress" ><span class="hondaprime"><span>{{=dealer.DealerName}}</span><p>{{=dealer.Locality}}</p></span><span class="checkbox"><div class="gs_control gs_checkbox"><input type="checkbox" id="'+formPref.formType+"-"+'{{=dealer.dealerId}}" value="{{=dealer.dealerId}}"><span class="gs_control__indicator"></span></div><span class="selecttooltip">SELECT</span></span></label>{{ }); } else { }} <label class="dealeraddress">'+errorMessage+"</label> {{ } }}";}else{if(multiDealer!=undefined&&multiDealer=="false"){template=template+'{{ if($.frm_dealers.length) { $.each($.frm_dealers,function(index, dealer) { }} <label class="dealeraddress" ><span class="hondaprime"><span>{{=dealer.DealerName}}</span><p>{{=dealer.Locality}}</p></span><span class="checkbox"><div class="gs_control gs_checkbox"><input  type="radio" name="radioDCB" id="'+formPref.formType+"-"+'{{=dealer.dealerId}}" value="{{=dealer.dealerId}}"><span class="gs_control__indicator"></span></div><span class="selecttooltip">SELECT</span></span></label>{{ }); } else { }} <label class="dealeraddress">'+errorMessage+"</label> {{ } }}";}}var dealersHtml=$.gsp_template(template,$.frm_dealers),$dealerTitle=$frm.find(".dealers-container .brand-offers");$dealerTitle.html(dealerArrayLength+" "+$frm.find("*[data-gsf-name=oemName]").val());var $proceed=$frm.find("div[data-step=2] .proceedbtn");if(multiDealer!=undefined&&multiDealer=="true"){$dealerList.html(dealersHtml).find('input[type="checkbox"]').on("click",function(){var selectedDealers=$.map($dealerList.find('input[type="checkbox"]:checked'),function(e){return $(e).val();});$frm.find(".dealerselectmessage").addClass("hide");selectedDealers.length?$proceed.addClass("orangebtn"):$proceed.removeClass("orangebtn");$dealer.val(selectedDealers.join(","));$dealerCallBackId.val(selectedDealers.join(","));$dealer.change();});}else{if(multiDealer!=undefined&&multiDealer=="false"){$dealerList.html(dealersHtml).find('input[type="radio"]').on("click",function(){$frm.find(".dealerselectmessage").addClass("hide");$frm.find("*[data-gsf-name=dealerId]").attr("value",$dealerList.find('input[type="radio"]:checked').val());$dealer.val($dealerList.find('input[type="radio"]:checked').val());$dealerCallBackId.val($dealerList.find('input[type="radio"]:checked').val());$proceed.addClass("orangebtn");$dealer.change();});}}},getSetCurrentValue:function(key,v,isset){if(isset!==undefined&&isset===true){this[key]=v;return;}return this[key];},orpCode:function($form){var orpSkipCities=$("#isORPSkipCityNameNew").val(),orpSkipOemName=$("#orpSkipOemNameNew").val(),orpSkipModelName=$("#orpSkipModelNameNew").val();if(orpSkipCities!=undefined){orpSkipCities=orpSkipCities.replace("]",",]");}city=$form.find("input[data-gsf-name=cityName]").data("gsTaVal").text,formPref=this.getFormPreferences($form);var $cityObj=$form.find("[data-gsf-name=cityName]");if($cityObj.data("gsTaVal")["group-parent"]!=undefined){city=$cityObj.data("gsTaVal")["group-parent"];}if(checkToSkipPersonalDetailForm($form,orpSkipOemName,orpSkipModelName,orpSkipCities,city,formPref.formType)){redirectAfterSubmit($form,"orpSkip",formPref.formType);return false;}},getFormPreferences:function($form){return $form.data("lead-form");},bindOTP:function($form){var self=this,$otpContainer=$form.find("*[data-gsp-otp]");var $verifyUserSpanMsg=$form.find(".verifymobile").find("span");$form.find(".resendcode a").on("click",function(){if($form.find("*[data-gsf-name=mobileNo]").is(".valid")){console.log($form.find(".verifyUser"));$form.find(".verifyUser").click();}$(this).parent().addClass("hide");});var $inputOtp=$form.find("#inputOtp"),$invalidotpmsg=$form.find(".otpinvalid");$inputOtp.off("keyup.lead_form").on("keyup.lead_form",function(){var otpVerify="";if($inputOtp.val().length==4){$invalidotpmsg.addClass("hide");otpVerify=updateMobileVerificationDCB($form);var $verify=$form.find("*[data-gsf-name=isVerify]");if(otpVerify=="true"){$verifyUserSpanMsg.removeClass("invalid").addClass("valid");$form.find("button[type=submit]").addClass("orangebtn");trackingOtpVerified="1";clearTimeout(self.otpInterval);$otpContainer.find(".otptimer").addClass("hide");$inputOtp.attr("disabled","disabled");$otpContainer.find(".loader").addClass("hide");$verify.val("1");$invalidotpmsg.addClass("hide");}else{$invalidotpmsg.removeClass("hide");$inputOtp.removeAttr("disabled");}}});$form.find(".verifyUser").on("click",function(){var $this=$(this),$name=$form.find("*[data-gsf-name=userId]"),$mobile=$form.find("*[data-gsf-name=mobileNo]"),isValidName=($name.val().length&&$name.next("span.valid").length>0),isMobileValid=$mobile.is(".valid"),timer;var $verify=$form.find("*[data-gsf-name=isVerify]");var $verifyUserSpanMsg=$form.find(".verifymobile").find("span");if(isMobileValid&&isValidName&&$mobile.val()!=""){$mobile.attr("disabled","disabled");timer=sendOTPToMobileNumber($form);if(timer=="notVerified"&&!$otpContainer.is("[data-otp-started=1]")&&$mobile.val()!=""){setTimeout(function(){$inputOtp.focus();},100);self.otpTimer($form,$otpContainer);$verifyUserSpanMsg.removeClass("invalid").addClass("valid");$this.addClass("hide");trackGTMLayerEvent("Click","OTP_Screen_Open","3",dcbLocation,"70");}else{if(timer=="notVerified"&&$mobile.val()!=""){setTimeout(function(){$inputOtp.focus();},100);self.otpTimer($form,$otpContainer);$this.addClass("hide");$verifyUserSpanMsg.removeClass("invalid").addClass("valid");trackGTMLayerEvent("Click","OTP_Screen_Open","3",dcbLocation,"70");}else{if(timer=="misscall"&&$mobile.val()!=""){$this.addClass("hide");$form.find(".otpsharelocation").addClass("hide");$form.find(".misscall").removeClass("hide");$verifyUserSpanMsg.removeClass("invalid").addClass("valid");trackGTMLayerEvent("Click","OTP_Screen_Open","3",dcbLocation,"70");}else{if(timer=="Verified"&&$mobile.val()!=""){$this.addClass("hide");$verifyUserSpanMsg.removeClass("invalid").addClass("valid");$form.find(".otpsharelocation").addClass("hide");$form.find("button[type=submit]").addClass("orangebtn");$verify.val("1");}}}}}else{$name.add($mobile).change();}});$form.find(".misscallbtn").on("click",function(){verifyMobileNumberByMisscall($form);});},otpTimer:function($frm,$otpContainer){var self=this,otpSeconds=self.otpSeconds,$timer=$otpContainer.find(".otptimer"),$loader=$otpContainer.find(".loader"),$resend=$frm.find(".resendcode"),$otpGuide=$otpContainer.siblings(".sharelocation"),$mobile=$frm.find("[data-gsf-name=mobileNo]"),$invalidotpmsg=$frm.find(".otpinvalid"),$mobile=$frm.find("*[data-gsf-name=mobileNo]");$verifyLink=$frm.find(".sentotp.verifyUser");$otpContainer.add($otpGuide).removeClass("hide").attr("data-otp-started",1);$timer.html("00:"+otpSeconds).add($loader).removeClass("hide");otpSeconds--;self.otpInterval=setInterval(function(){var sec=otpSeconds<10?"0"+otpSeconds:otpSeconds;$timer.html("00:"+sec);if(otpSeconds<=0){clearInterval(self.otpInterval);self.otpAttempts++;if(self.otpAttempts>=self.maxOtpAttempts){console.log("otp attempt");self.onMaxAttempts($frm,$otpContainer);$loader.addClass("hide");}else{$timer.add($loader).addClass("hide");$resend.removeClass("hide");$invalidotpmsg.addClass("hide");$frm.find(".otpsharelocation").addClass("hide");$frm.find("#inputOtp").val("").add($mobile).removeAttr("disabled");$verifyLink.removeClass("hide");}}otpSeconds--;},1000);},onMaxAttempts:function($frm,$otpContainer){$otpContainer.addClass("hide");$frm.find(".otpsharelocation").addClass("hide");$frm.find(".misscall").removeClass("hide");},updateMessages:function($frm,step){var $stepContainer=$frm.parents(".contactpart").siblings(".imagesection"),stepMsg=this.stepMessages,formPref=this.getFormPreferences($frm),$offers=$stepContainer.find(".getoffers"),formType=formPref.formType;if(formType!=="dcbleads"&&formType!=="smsdetailsleads"&&formType!=="offerleads"){formType="all";}if(stepMsg[formType][step]!==undefined){$offers.html(stepMsg[formType][step].offers);$stepContainer.find(".customers").html(stepMsg.customers);if(formType=="dcbleads"&&(step==2||step==3)){$stepContainer.find(".authorizeddealer").html($(".dealerMsg").html());}if(formType=="smsdetailsleads"||formType=="offerleads"){$stepContainer.find(".authorizeddealer").html("");}else{$stepContainer.find(".authorizeddealer").html(stepMsg[formType][step].dealers);}}},bindForm:function(){var self=this;var options={typeaheads:[{input:"[data-gsf-name=pinCode]",ajax:{url:self.apis.pinCode,allowDirty:false,qString:"pincode",data:{alphabetOrNumber:function(){var pattern=/^\d+$/;return pattern.test($("[data-gsf-name=pinCode]:visible").val())?"number":"alphabet";}},noFilter:true},minLength:2,onSuccess:function(locations){locations=locations.zipcodeInfoList!==undefined?locations.zipcodeInfoList:[];if(locations.length){locations=$.map(locations,function(val,i){return{text:val.zipCode+" - "+val.postOffice+", "+val.city,value:val.zipCode,city:val.city};});}self.pinCode=locations;return self.pinCode;},onSelect:function($el,$form,$input){var loc=$input.data("gsTaVal"),cityName=$form.find("input[data-gsf-name=cityName]").val();if(loc.value!=""){$form.find("[data-step=1] .proceedbtn").addClass("orangebtn");}if(cityName==undefined||cityName==""){var $city=$form.find("[data-gsf-name=cityName]"),formPref=self.getFormPreferences($form);$city.gsp_typeahead("setValue",loc.city);$city.siblings("label").addClass("active");setTimeout(function(){$city.focus();},10);subCityDataProcess($city);if(formPref.formType=="dcbleads"){isEmptyDealerList($form,self);}}self.getSetCurrentValue("currentCity",loc.city,true);}},{input:"[data-gsf-name=cityName]",choices:self.cityName,maxResults:2000,onSelect:function($el,$form,$input){var $location=$form.find("[data-gsf-name=pinCode]"),$dealer=$form.find("[data-gsf-name=dealerId]"),cityData=$input.data("gsTaVal"),formPref=self.getFormPreferences($form);if(formPref.formType=="dcbleads"){$form.find("a[data-step-target=3]").removeClass("orangebtn");$dealer.val("");}if(cityData.value!==self.getSetCurrentValue("currentCity")){$location.gsp_typeahead("setValue","");$location.add($dealer).siblings("label").removeClass("active");setTimeout(function(){$location.focus();},10);}if(cityData.value!=""){var region=cityData["CRID"];if(region===undefined){region=cityData["CID"];}var $city=$form.find("[data-gsf-name=cityName]");subCityDataProcess($city);$("#CityId").val(region);$(".stepOne .proceedbtn").addClass("orangebtn");}self.getSetCurrentValue("currentPinCode","",true);if(formPref.formType=="dcbleads"){isEmptyDealerList($form,self);}}}],focusOnFirstElement:true,emailAutoSuggest:true,ajaxSubmit:true,mdlInputEffect:true,loaderOnSubmit:true,submitDataType:"html",onBeforeStepChanged:function($form,formData,step){if($form.find("[data-gsf-name=leadType]").val()=="19"){self.orpCode($form);}else{return;}},onStepChanged:function($form,formData,step){self.step=step;self.updateMessages($form,step);var totalSteps=$form.find("*[data-step]").length;if(totalSteps<=0){totalSteps=1;}var cookie=self.toggleCookie(false),formPref=self.getFormPreferences($form),isSubmitted=typeof cookie!=="undefined"?cookie.isSubmitted:false;if(typeof cookie!=="undefined"){isSubmitted=cookie.isSubmitted;if(self.checkFormData($form,"data-gsv-type")){isSubmitted=true;}}self.onStepChange($form,formData,step,formPref);self.toggleCookie(true,formData,step,isSubmitted);if(step==totalSteps){if(isSubmitted){$("[data-step="+step+"]").addClass("hide");$("#gsc_modal_overlay").removeClass("gsc_modal_active");$form.submit();}else{if(formPref.otp){self.bindOTP($form);trackGTMLayerEvent("Click","Personal_Info_Open","3",dcbLocation,"70");}}}},beforeSubmit:function($form,formData){addCarDekhoGoogleConversionScriptCode();self.toggleCookie(true,formData,self.step,true);return formData;},afterSubmit:function($form,resp){self.afterFormSubmit($form,resp);}};$("form[data-lead-form]").gsp_form(options);}};$.gsp_leadform=leadForm;});var isLoadLeadForm=true;function openDCBLeadPop(e,d,b,h,g,c,f){var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:"parameter=getLeadFormContent&carModelName="+h}).responseText;$("body").append(a);if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{initModal();}}var dcbLocation="";function openCustomDCBleadPopup(c,n,g,m,h,o,f){try{hideVariantPriceDiv();}catch(k){}if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=h){h=sessioncity;}var b=70;leadTypeForSkipLeadForm=b;var i="DCBLead";var d="";setleadLocation(o);var j="parameter=getLeadFormContent&carModelName="+m+"&LeadType="+i+"&carVariantId="+d+"&leadId="+b+"&carDetailUrl="+window.location.href+"&city="+h+"&leadLocation="+o;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:j}).responseText;callGTMLayerEvent("Click");try{if(a!=undefined&&a!=""){if($("#leadContent").length>0){$("#leadContent, #modalstep3").remove();$("body").append(a);}else{$("body").append(a);}if(typeof regionCity!=undefined&&regionCity!=""){h=regionCity;}dcbLocation=o;var l=$.gsp_cookie.readWrite("leadForm");if(l!=undefined){isLeadSubmittedforTracking=l.isSubmitted;}trackGTMLayerEvent("Click","buttonclicked","1",dcbLocation,"70");var l=$.gsp_cookie.readWrite("leadForm");if(l==undefined){trackGTMLayerEvent("Click","City_Screen_Open","1",dcbLocation,"70");}$('*[data-gsf-name="carVariantId"]').attr("data-gsf-value",d);$('*[data-gsf-name="carName"]').attr("data-gsf-value",m);$('*[data-gsf-name="oemName"]').attr("data-gsf-value",g);$('*[data-gsf-name="carDetailUrl"]').attr("data-gsf-value",window.location.href);$('*[data-gsf-name="leadType"]').attr("data-gsf-value",b);$('*[data-gsf-name="leadLocation"]').attr("value",pageLocation).attr("data-gsf-value",pageLocation);if(typeof h!==undefined&&h!=""){$('*[data-gsf-name="cityName"]').attr("data-gsf-value",h);}$('*[data-gsf-name="dealerId"]').attr("data-gsf-value","");if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{setTimeout(function(){initModal();},200);}}else{alert("Error in processed On Road Price Lead Form.");}}catch(k){alert("Error in processed On Road Price Lead Form.==>"+k);}}function openCustomleadPopup(b,i,l,h,f,d,p,k,n,o){if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=h){h=sessioncity;}leadTypeForSkipLeadForm=b;setleadLocation(o);var j="parameter=getLeadFormContent&carModelName="+f+"&LeadType="+i+"&carVariantId="+d+"&leadId="+b+"&carDetailUrl="+window.location.href+"&city="+h;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:j}).responseText;callGTMLayerEvent("Click");try{if(a!=undefined&&a!=""){if($("#leadContent").length>0){$("#leadContent, #modalstep3").remove();$("body").append(a);}else{$("body").append(a);}if($("#isOnRoadSkipNew").val()!=undefined&&$("#isOnRoadSkipNew").val()=="True"){if(d==""||d==undefined){window.location.href=basepath+"/"+$("#pricePageUrl").val();}else{var c=basepath+"/showExShowRoomPrice.do";var g="carModelName="+replaceWithHash(f)+"&cityName="+replaceWithHash(h)+"&carVariantId="+d;getVariantOnRoadPrice(c,g);}}else{$('*[data-gsf-name="carVariantId"]').attr("data-gsf-value",d);$('*[data-gsf-name="carName"]').attr("data-gsf-value",f);$('*[data-gsf-name="oemName"]').attr("data-gsf-value",p);$('*[data-gsf-name="carDetailUrl"]').attr("data-gsf-value",window.location.href);$('*[data-gsf-name="leadType"]').attr("data-gsf-value",b);$('*[data-gsf-name="cityName"]').attr("data-gsf-value",h);$('*[data-gsf-name="leadLocation"]').attr("value",pageLocation).attr("data-gsf-value",pageLocation);if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{setTimeout(function(){initModal();},200);}}}else{alert("Error in processed On Road Price Lead Form.");}}catch(m){alert("Error in processed On Road Price Lead Form.==>"+m);}}function initModal(){var a=$("#modalstep3");if(a.is("[data-modal-init=1]")){return;}setTimeout(function(){$("#dcbWidget .modelPopup").click();},100);$.gsp_leadform.init();a.attr("data-modal-init",1).gsp_modal({fullScreen:true,closeButton:false});$("*[data-close-modal]").on("click",function(){$($(this).data("close-modal")).trigger("gse_modal.close");$(".container").css("display","none");});}var isLeadSubmittedforTracking="false";var redirectAfterSubmit=function(g,j,q){createCONNECTOIDInCookies();var l=g.find("input[data-gsf-name=cityName]").data("gsTaVal").text;if(g.find("input[data-gsf-name=cityName]").data("gsTaVal")["group-parent"]!=undefined){l=g.find("input[data-gsf-name=cityName]").data("gsTaVal")["group-parent"];}var m=g.find("input[data-gsf-name=carName]").val(),e=g.find("input[data-gsf-name=carVariantId]").val(),h=g.find("input[data-gsf-name=leadType]").val(),k=g.find("input[data-gsf-name=mobileNo]").val(),s=g.find("input[data-gsf-name=brochureId]").val(),i=g.find("input[data-gsf-name=oemName]").val(),o=g.find("input[data-gsf-name=dealerDetailId]").val(),a=g.find("input[data-gsf-name=discountId]").val(),d=g.find("input[data-gsf-name=filterName]").val(),b=l.toLowerCase();if(l==""||l==undefined){l="New Delhi";}else{l=l;}var r=getCookie("isLeadCapture");if(q=="orp"){cardekhoConversionScript();if(e==""||e==undefined){var f=basepath+"/"+modelUrlsFromName(m,"MODEL_PRICE",l);var n=[];var c=[];multipleDataPostRedirect(f,n,c);removeleadPopupAfterSubmit();setGTMLayerEvent(r,j,h);}else{removeleadPopupAfterSubmit();var f=basepath+"/showExShowRoomPrice.do";var p="carModelName="+replaceWithHash(m)+"&cityName="+replaceWithHash(l)+"&carVariantId="+e;getVariantOnRoadPrice(f,p);setGTMLayerEvent(r,j,h);}}else{if(q=="brochureleads"){submitBrochureLead(s,k);cardekhoConversionScript();}else{if(q=="upcomingcarleads"){submitUpcomingLead(h,i,m,l,e);cardekhoConversionScript();}else{if(q=="offerleads"||q=="dcbleads"){getResponseOfDCB();removeleadPopupAfterSubmit();cardekhoConversionScript();}else{if(q=="smsdetailsleads"){getResponseSendOnSMSDetailsLead(h,i,m,l,e,k,o);cardekhoConversionScript();}}}}}};var setGTMLayerEvent=function(b,d,a){if((b==undefined||b=="")&&(d=="")){try{if(a==19||a==48||a==44||a==80){set_Cookie("isLeadCapture","true",30,"/","","");}}catch(c){}callGTMLayerEvent("Submit");formSubmitOneTime="true";}else{if(d!="orpSkip"){callGTMLayerEvent("NotOpenLead");}}};var isNumberMobileVerified=function(a,c){if(a.find("input[data-gsf-name=leadType]").val()=="70"){var e=sendOTPToMobileNumberForDCB(a);return e;}else{var d=c.cityName;carmodelname=a.find("input[data-gsf-name=carName]").val(),carvariantId=a.find("input[data-gsf-name=carVariantId]").val(),mobileNo=c.mobileNo,pinCode=a.find("input[data-gsf-name=pinCode]").val(),oemName=a.find("input[data-gsf-name=oemName]").val(),dealerId=a.find("input[data-gsf-name=dealerId]").val(),userName=c.userId;dataParam="parameter=sendOTPToMobileNumber&modelName="+carmodelname+"&carVariantId="+carvariantId+"&City="+d+"&OemName="+oemName+"&dealerId="+dealerId+"&mobileNo="+mobileNo+"&Pincode="+pinCode+"&name="+userName+"&isORPLead=false";var b=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:dataParam}).responseText;return b;}};var sendOTPToMobileNumber=function(k){if(k.find("input[data-gsf-name=leadType]").val()=="70"){var c=sendOTPToMobileNumberForDCB(k);return c;}else{var g=k.find("input[data-gsf-name=cityName]").data("gsTaVal").CN,e=k.find("input[data-gsf-name=carName]").val(),b=k.find("input[data-gsf-name=carVariantId]").val(),f=k.find("input[data-gsf-name=mobileNo]").val(),i=k.find("input[data-gsf-name=pinCode]").val(),d=k.find("input[data-gsf-name=oemName]").val(),j=k.find("input[data-gsf-name=dealerId]").val(),h=k.find("input[data-gsf-name=userId]").val();dataParam="parameter=sendOTPToMobileNumber&modelName="+e+"&carVariantId="+b+"&City="+g+"&OemName="+d+"&dealerId="+j+"&mobileNo="+f+"&Pincode="+i+"&name="+h+"&isORPLead=false";var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:dataParam}).responseText;return a;}};var sendOTPToMobileNumberForDCB=function(l){var f=l.find("input[data-gsf-name=cityName]").val(),d=l.find("input[data-gsf-name=carName]").val(),b=l.find("input[data-gsf-name=carVariantId]").val(),e=l.find("input[data-gsf-name=mobileNo]").val(),j=l.find("input[data-gsf-name=pinCode]").val(),c=l.find("input[data-gsf-name=oemName]").val(),k=l.find("input[data-gsf-name=dealerId]").val(),i=l.find("input[data-gsf-name=userId]").val(),h=l.find("input[data-gsf-name=carDetailUrl]").val(),g="parameter=sendOTPToMobileNumberForDCB&modelName="+d+"&carVariantId="+b+"&City="+f+"&OemName="+c+"&dealerId="+k+"&mobileNo="+e+"&Pincode="+j+"&name="+i+"&isORPLead=false&detailurl="+h;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:g}).responseText;return a;};var getResponseOfDCB=function(){var b=$("#submitLeadForm");dealerAndDiscountObj.dealerAndDisountVariantId=b.find("input[data-gsf-name=carVariantId]").val();dealerAndDiscountObj.dealerAndDisountModel=b.find("input[data-gsf-name=carName]").val();dealerAndDiscountObj.dealerAndDisountId="";dealerAndDiscountObj.dealerAndDisountCity=b.find("input[data-gsf-name=cityName]").data("gsTaVal").text;dealerAndDiscountObj.dealerAndSDiscountOemName=b.find("input[data-gsf-name=oemName]").val();dealerAndDiscountObj.dealerId=b.find("input[data-gsf-name=dealerId]").val();sessioncity=dealerAndDiscountObj.dealerAndDisountCity;var f="parameter=getCarDiscountDetailByDiscountId&discountid="+dealerAndDiscountObj.dealerAndDisountId+"&carvariantid="+dealerAndDiscountObj.dealerAndDisountVariantId+"&currentcity="+dealerAndDiscountObj.dealerAndDisountCity+"&carmodel="+dealerAndDiscountObj.dealerAndDisountModel+"&filter=models&done=dealeroffercombo&dealerId="+dealerAndDiscountObj.dealerId;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:f}).responseText;if($("#dcbResponse").length>0){$("#dcbResponse").remove();}$("body").append("<div id='dcbResponse'>"+a+"</div>");try{if(b.find("input[data-gsf-name=dealerId]").val()==undefined||b.find("input[data-gsf-name=dealerId]").val()==""){$("#dealerName1").html("You'll get a call from one of our executives to tell you more.");}else{if(b.find("input[data-gsf-name=dealerId]").val()!=undefined){var d=$("#dealerName").val();$("#dealerName1").html("You will receive a call from "+d+" soon.");}}}catch(c){}};var validateSubmitButton=function(){$form=$("#submitLeadForm");var a=$form.find("input[data-gsf-name=leadType]").val();var b=$form.find("input[data-gsf-name=mobileNo]").val();name=$form.find("input[data-gsf-name=userId]").val();if(a!="42"&&a!="80"&&(b!=""&&b!=undefined&&b.length==9)&&(name!=""&&name!=undefined)){$(".stepTwo .proceedbtn").addClass("orangebtn");}};var checkToSkipPersonalDetailForm=function(c,e,a,d,g,b){var f=c.find("input[data-gsf-name=leadType]").val();return(b=="orp"&&(e!=""&&f=="19"&&e.toLowerCase()==c.find("input[data-gsf-name=oemName]").val().toLowerCase()||(a!=""&&a.toLowerCase()==c.find("input[data-gsf-name=carName]").val().toLowerCase()))&&(d.toLowerCase().indexOf(g.toLowerCase()+",")>-1||d.toLowerCase().indexOf("all,")>-1));};var openCommonLeadCustomPopup=function(b,g,f,c,p,d,h,k,j,o,l,n){if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=g){g=sessioncity;}var i="parameter=getLeadFormContent&carModelName="+f+"&brochureId="+l+"&LeadType="+h+"&carVariantId="+c+"&leadId="+b+"&carDetailUrl="+window.location.href+"&city="+g;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:i}).responseText;try{if(a!=undefined&&a!=""){if($("#leadContent").length>0){$("#leadContent, #modalstep3").remove();$("body").append(a);}else{$("body").append(a);}$('*[data-gsf-name="carVariantId"]').attr("data-gsf-value",c);$('*[data-gsf-name="carName"]').attr("data-gsf-value",f);$('*[data-gsf-name="oemName"]').attr("data-gsf-value",p);$('*[data-gsf-name="carDetailUrl"]').attr("data-gsf-value",window.location.href);$('*[data-gsf-name="brochureId"]').attr("data-gsf-value",l);$('*[data-gsf-name="leadType"]').attr("data-gsf-value",b);$('*[data-gsf-name="leadLocation"]').attr("value",o).attr("data-gsf-value",o);if(g!=undefined&&g!=""){$('*[data-gsf-name="cityName"]').attr("data-gsf-value",g);}else{if(sessioncity!=undefined&&sessioncity!=""){$('*[data-gsf-name="cityName"]').attr("data-gsf-value",sessioncity);}}if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{setTimeout(function(){initModal();},200);}}else{alert("Error in processed Brochure Lead Form.");}}catch(m){alert("Error in processed Brochure Lead Form.==>"+m);}};var submitUpcomingLead=function(e,d,c,f,a){removeleadPopupAfterSubmit();var b="<div id='backgroundPopup' style='height: 654px; opacity: 0.7; display: block;'></div><div id='upcomingLeadResult'><div onclick='javascript:closeUpcomingPopUp(\"backgroundPopup\",\"upcomingLeadResult\");' class='PopupMainCloseButton spriteheader'></div><div id='responces' class='Text12 PaddingT20 MarginL20 MarginB20 InlineBlock MarginR20'><div class='CommonBlock MarginB10'>Dear User,</div><div class='CommonBlock MarginB10'>Thank You for your details. We will contact you as soon as this car is launched.</div><div class='CommonBlock'>Thanks,</div><div class='CommonBlock'>CarDekho.com</div><p class='CommonBlock MarginT5 Textcenter'></p></div></div>";$("body").append(b);sessioncity=f;};function closeUpcomingPopUp(a,b){$("#"+a).remove();$("#"+b).remove();}var submitBrochureLead=function(h,b){var e="";var g=b;var f=$.ajax({type:"POST",url:basepath+"/getBrochureDetailsAction.do",async:false,data:"method=checkLimitForBrochureDownload&UserId="+e+"&MobileNo="+g}).responseText;if(f==""){var d=basepath+"/getBrochureDetailsAction.do?method=getpdfDownloadfile&id="+h+"&UserId="+e+"&MobileNo="+g;console.log("brochureUrl= "+d);var c=[];var a=[];setTimeout(function(){multipleDataPostRedirectForLeadForm(d,c,a);},200);addCarDekhoGoogleConversionScriptCode();$("body").removeClass("gsc_modal_noscroll");setTimeout(function(){$("#insForm").remove();},300);removeleadPopupAfterSubmit();}else{if(f=="You cannot download brochure more than 5 times"){removeleadPopupAfterSubmit();$("body").removeClass("gsc_modal_noscroll");setTimeout(function(){alert("You can not download brochure more than 5 times");},250);}else{removeleadPopupAfterSubmit();$("body").removeClass("gsc_modal_noscroll");alert("You can not download brochure because of some error");}}};function getFormTypeValue(a){if(formLeadType.indexOf(a)>-1){return true;}return false;}function isMobileVerifyForLead(a){if(mobileVerifyLeadType.indexOf(a)>-1){return true;}return false;}function removeleadPopupAfterSubmit(){try{$(".gsc_modal").hide();$(".gsc_modal").addClass("graybg");$("body").css({"overflow":"visible"});$("#gsc_modal_overlay.gsc_modal_active").hide();}catch(a){}}var getLeadTypeTextByLeadId=function(a){if(a=="orp"){leadTypeTextByLeadId="#Get_On_Road_Price";}else{if(a=="upcomingcarleads"){leadTypeTextByLeadId="#Alert_Me_When_Launched";}else{if(a=="brochureleads"){leadTypeTextByLeadId="#Download_Brochure";}else{if(a=="dcbleads"){leadTypeTextByLeadId="#Contact_Dealer";}else{if(a=="offerleads"){leadTypeTextByLeadId="#Get_Offers_Discount";}else{if(a=="smsdetailsleads"){leadTypeTextByLeadId="#Send_Detail_on_SMS";}}}}}}return leadTypeTextByLeadId;};function multipleDataPostRedirectForLeadForm(c,f,a){var e="<form action='"+c+"' method='post' id='insForm'>";var d=f.length;for(var b=0;b<d;b++){e=e+"<input type='hidden' name='"+f[b]+"' value=\""+a[b]+'" />';}e=e+"</form>";$("body").append(e);$("#insForm").submit();}function removeleadPopupAfterSubmit(){try{$(".gsc_modal").hide();$(".gsc_modal").addClass("graybg");$("body").css({"overflow":"visible"});$("#gsc_modal_overlay.gsc_modal_active").hide();}catch(a){}}var isMultiDealerSelect=function(a,d,b){var c="";$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:"parameter=getDealerCallbackListByCity&oemName="+a+"&carModelName="+d+"&City="+b,success:function(f){if(f!=undefined&&f!=""&&f!="ERROR"){var e=jQuery.parseJSON(f);if(e.length>0){$.each(e,function(g,h){cityByPinCode=h.cityByPincode;if(h.multipleDealerByModelNameMap){c="true";}else{c="false";}});}}}});return c;};var isEmptyDealerList=function(d,c){var e="";$.frm_dealers=[];var h=d.find("input[data-gsf-name=carName]").val(),a=d.find("input[data-gsf-name=oemName]").val(),g=d.find("input[data-gsf-name=cityName]").val();multiDealer=isMultiDealerSelect(a,h,g);var b="";$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:"parameter=getDealerCallbackListByCity&oemName="+a+"&carModelName="+h+"&City="+g,success:function(i){if(i==undefined||i=="[]"){c.dealer=i;c.showDealers(d);e="emptyDealerList";}else{c.dealer=i;c.showDealers(d);e="notEmptyDealerList";}}});pincode=d.find("[data-gsf-name=pinCode]").val();if(pincode!=""){if(e=="emptyDealerList"){d.find("[data-gsf-name=dealerId]").removeAttr("data-gsv-type");d.find("[data-skip-dealer=2]").attr("data-step-target","3");d.find("input[data-gsf-name=leadType]").attr("data-gsf-value","19");d.find("input[data-gsf-name=leadType]").attr("value","19");}else{var f=d.find("[data-gsf-name=dealerId]");f.attr("data-gsv-type",f.data("skip-required"));d.find("[data-skip-dealer=2]").attr("data-step-target","2");d.find("input[data-gsf-name=leadType]").attr("data-gsf-value","70");d.find("input[data-gsf-name=leadType]").attr("value","70");}}setTimeout(function(){return e;},100);};var dcbSentOptValidation=function(){$form=$("#submitLeadForm");var a=false;var c=$form.find("input[data-gsf-name=mobileNo]").val(),b=$form.find("input[data-gsf-name=userId]").val();if((c!=""&&c!=undefined&&c.length==10)&&(b!=""&&b!=undefined)){$(".stepTwo .proceedbtn").addClass("orangebtn");}};var updateMobileVerificationDCB=function(b){var c=b.find("#inputOtp").val();var d="parameter=updateMobileVerification&verification_code="+c;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:d}).responseText;return a;};var openDealerSMSLeadCustomPopup=function(j,d){var f="";if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=f){f=sessioncity;}console.log(sessioncity);var h=$("#carmodelNameForLead").val();var k=$("#oemNameForLead").val();var b=42;var c=$("#"+d).val();var g="parameter=getLeadFormContent&city="+f+"&carModelName="+h+"&oemName="+k+"&leadId="+b+"&dealerDetailId="+c+"&carDetailUrl="+window.location.href;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:g}).responseText;callGTMLayerEvent("Click");try{if(a!=undefined&&a!=""){if($("#leadContent").length>0){$("#leadContent, #modalstep3").remove();$("body").append(a);}else{$("body").append(a);}$('*[data-gsf-name="carVariantId"]').attr("data-gsf-value","");if(h==undefined||h==""){$('*[data-gsf-name="carName"]').attr("data-gsf-value",carModelNameForSendDetailOnSMS);}else{$('*[data-gsf-name="carName"]').attr("data-gsf-value",h);}$('*[data-gsf-name="oemName"]').attr("data-gsf-value",k);$('*[data-gsf-name="carDetailUrl"]').attr("data-gsf-value",window.location.href);$('*[data-gsf-name="dealerDetailId"]').attr("data-gsf-value",c);$('*[data-gsf-name="leadType"]').attr("data-gsf-value",b);$('*[data-gsf-name="cityName"]').attr("data-gsf-value",f);$('*[data-gsf-name="leadLocation"]').attr("value",j).attr("data-gsf-value",j);if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{setTimeout(function(){initModal();},200);}}else{alert("Error in processed SMS Lead Form.");}}catch(i){alert("Error in processed SMS Lead Form.==>"+i);}};var openDiscountOfferLeadCustomPopup=function(b,h,f,c,q,d,j,m,l,p,g,r,i,o){if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=h){h=sessioncity;}if(j=="onroad"){j="80";}var k="parameter=getLeadFormContent&carModelName="+f+"&LeadType="+j+"&carVariantId="+c+"&leadId="+b+"&carDetailUrl="+window.location.href+"&city="+h+"&discountId="+g+"&filterName="+i;var a=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:k}).responseText;try{if(a!=undefined&&a!=""){if($("#leadContent").length>0){$("#leadContent, #modalstep3").remove();$("body").append(a);}else{$("body").append(a);}$('*[data-gsf-name="carVariantId"]').attr("data-gsf-value",c);$('*[data-gsf-name="carName"]').attr("data-gsf-value",f);$('*[data-gsf-name="oemName"]').attr("data-gsf-value",q);$('*[data-gsf-name="carDetailUrl"]').attr("data-gsf-value",window.location.href);$('*[data-gsf-name="leadType"]').attr("data-gsf-value",b);$('*[data-gsf-name="discountId"]').attr("data-gsf-value",g);$('*[data-gsf-name="filterName"]').attr("data-gsf-value",i);$('*[data-gsf-name="leadLocation"]').attr("value",p).attr("data-gsf-value",p);if(h!=undefined&&h!=""){$('*[data-gsf-name="cityName"]').attr("data-gsf-value",h);}if(!isLoadLeadForm){$.getScript(cdgspform121,function(){initModal();isLoadLeadForm=true;});}else{setTimeout(function(){initModal();},200);}}else{alert("Error in processed Discount and Offers Lead Form.");}}catch(n){alert("Error in processed Discount and Offers Lead Form.==>"+n);}};var getResponseSendOnSMSDetailsLead=function(a,p,f,j,d,i,g){var h=$.ajax({type:"POST",url:basepath+"/carLeadsAjaxCallAction.do",async:false,data:"parameter=getResponseForDetailsOnSMS&carModelName="+f+"&leadId="+a+"&oemName="+p}).responseText;addCarDekhoGoogleConversionScript(h);var c=h.split(":");if(dealerdata!=""){c=dealerdata.split(":");dealerdata="";}var k="N/A";var n="N/A";var o="N/A";if(c.length==3){k=c[0];n=c[1];o=c[2];n=n.replace(",,,",",");n=n.replace(",,",",");if(trim(o,"")==""){o="N/A";}o=trim(o,"");if(trim(n,"")==""||trim(n,"").length<=4){n="N/A";}}else{if(window["awLanding"]!=undefined&&window["awLanding"]!=""){if(window[method_name]){window[method_name]();}var b=basepath+"/"+p.replace(" ","_")+"/"+j.replace(" ","_")+"/cardealers";vN=$("#submitLeadPopup [name=modelMake]").val();var e=[];e.push("vN");e.push("tN");e.push("redirect_url");var q=[];q.push(vN);q.push("Dealer");q.push(b);multipleDataPostRedirect(getCurrentUrl()+"+"+a+"+"+window["awLandingRedirect"],e,q);return;}}var l=o;if(o!="N/A"&&(o!="")){l="";if(o.indexOf(" ")>=0){$.each(o.split(" "),function(r,s){l+='<a target="_top" href="mailto:'+s+'">'+s+"</a>"+" ";});}else{l+='<a target="_top" href="mailto:'+o+'">'+o+"</a>";}}var m='<div id=\'backgroundPopup\' style=\'height: 654px; opacity: 0.7; display: block;\'></div><div id=\'smsLeadResult\'><div id="leadpopup" class="form_area leadpopu"><div class="title"><i class="greencheck cardekhosprite"></i><span>Dear User, We have forwarded you the contact details of '+k+" on your Mobile No.<strong> "+i+'</strong>.</span></div><a class="close" onclick="javascript:closeUpcomingPopUp(\'backgroundPopup\',\'smsLeadResult\');createLeadPopUpGAClickEvent(\'Close\');" title="Close">x</a><div class="popupdetail clear"><div class="poptitle">The details are as follows:</div><div class="userdetails"><p>Name : <span>'+k+"</span></p><p>Mobile no. : <span>"+n+"</span></p><p>Email id : "+l+' </p><p class="contacttime">For a friendly expert advice dial <span>1800-200-3000</span><i> (Mon to Fri 10 AM to 7 PM).</i></p><p class="thanks">Thanks,</p><p class="usercar">CarDekho.com</p></div><div class="button-panel"> <a onclick="createGAClickEventTrackingAdWords(\'Finance_CTA\',\'clicked\',\'CarLoanWEB-Dealer-Detail-Popup-GetCarLoan\');findTargetInNewTab(\''+basepath+"/car-finance-in-india.htm?WT.mc_id=CarDekhoWEB_Send_Details_on_Sms&utm_source=cardekho&utm_medium=referral&utm_campaign=cardekho&variant=slide&variantOptions=mobileRequired');\">Get Best Car Loans</a> </div></div></div></div>";removeleadPopupAfterSubmit();$("body").append(m);sessioncity=j;};var verifyMobileNumberByMisscall=function(c){var b=c.find(".misscall");var e=c.find(".otpinvalid");mobileNo=c.find("input[data-gsf-name=mobileNo]").val(),leadType=c.find("input[data-gsf-name=leadType]").val(),dataParam="parameter=verifyMobileNumberByMisscall&MobileNo="+mobileNo;var d=$.ajax({type:"POST",url:basepath+"/ajaxCallAction.do",async:false,data:"parameter=verifyMobileNumber&type=&LeadType="+leadType+"&verificationCode=&lid="}).responseText;var a=c.find("*[data-gsf-name=isVerify]");if(d=="success"){c.find("button[type=submit]").addClass("orangebtn");a.val("1");b.addClass("hide");c.find(".misscallerror").css("color","rgba(58, 65, 85, 0.7)");e.addClass("hide");trackingOtpVerified="1";}else{c.find(".misscallerror").css("color","red");e.addClass("hide");}};function convertSubCityTypeHead(b){$("#onRoadPriceFuelType"+b).each(function(c){$(this).wrap("<span class='select-wrapper'></span>");$(this).after("<span class='holder'></span>");});$("#onRoadPriceFuelType"+b).change(function(d){var c=$(this).find(":selected").text();$(this).next(".holder").text(c);});var a=$("#onRoadPriceCity"+b);getSubCities(function(c){a.gsp_typeahead({choices:c,matchAny:false,maxResults:20000,onSelect:function(){subCityDataProcess(a);}});});fillSessionCityDropDown(a);}function getDiscountOffersForAdmin(e,f,d,a,c){var b=$.ajax({type:"POST",url:basepath+"/getDiscountOfferDetailByAjaxCall.do",async:false,data:"parameter=getCarDiscountDetailByDiscountId&discountid="+e+"&carvariantid="+f+"&currentcity="+d+"&carmodel="+a+"&filter="+c+"&Done=Done"}).responseText;popupStatus=0;$("#showDiscountOffersDirectContent").html(b);centerPopup("backgroundPopup","popupContact");loadPopup("backgroundPopup","popupContact");$("#backgroundPopup").css({"z-index":"1100"});$("#popupContact").css({"z-index":"1111"});}function trackGTMLayerEvent(c,e,b,a,d){setTimeout(function(){var f=new Object();f.gtmEvent=c;f.stepName=e;f.stepNumber=b;f.gtmLocation=a;f.leadId=d;f.isSubmitted=isLeadSubmittedforTracking;switch(f.gtmEvent){case"Click":gtmEventClickValue="newcarleadform";break;}if(trackingOtpVerified=="1"&&e=="Personal_Info"){f.stepName="OTP_Screen_Submit";}dataLayer.push({"event":gtmEventClickValue,"stepName":f.stepName,"stepNumber":f.stepNumber,"leadlocation":f.gtmLocation,"leadId":f.leadId,"isSubmitted":f.isSubmitted});},1000);}function cardekhoConversionScript(){try{var b=$.ajax({type:"POST",url:basepath+"/cardekhoconversionscript.do",async:false}).responseText;console.log("added cardekho conversion script==>"+b);if(b!=undefined&&b!=""){$("body").append(b);}}catch(a){}}var openDealerSMSLeadCustomPopupForAdmin=function(b,a){var g="";if(sessioncity!=undefined&&sessioncity!=""&&sessioncity!=g){g=sessioncity;}var c=$("#carmodelNameForLead").val();var f=$("#oemNameForLead").val();var e=42;var d=$("#"+a).val();getResponseSendOnSMSDetailsLead(e,f,c,g,"","",d);};